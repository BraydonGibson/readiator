function FastClick(e){"use strict";function t(e,t){return function(){return e.apply(t,arguments)}}var n;this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,FastClick.notNeeded(e)||(deviceIsAndroid&&(e.addEventListener("mouseover",t(this.onMouse,this),!0),e.addEventListener("mousedown",t(this.onMouse,this),!0),e.addEventListener("mouseup",t(this.onMouse,this),!0)),e.addEventListener("click",t(this.onClick,this),!0),e.addEventListener("touchstart",t(this.onTouchStart,this),!1),e.addEventListener("touchmove",t(this.onTouchMove,this),!1),e.addEventListener("touchend",t(this.onTouchEnd,this),!1),e.addEventListener("touchcancel",t(this.onTouchCancel,this),!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(n=e.onclick,e.addEventListener("click",function(e){n(e)},!1),e.onclick=null))}function generateTocItems(e){var t=document.createElement("ons-list");return t.className="list ons-list-inner",e.forEach(function(e){var n=document.createElement("ons-list-item");n.className="list__item ons-list-item";var i=document.createElement("a");if(i.textContent=e.label,Book.contents.navPath)var r=EPUBJS.core.folder(Book.contents.navPath);if(Book.contents.tocPath)var r=EPUBJS.core.folder(Book.contents.tocPath);if(i.href=r?Book.settings.contentsPath+r+e.href:Book.settings.contentsPath+e.href,i.target="epubjs-iframe",n.appendChild(i),t.appendChild(n),e.subitems&&e.subitems.length){var o=generateTocItems(e.subitems);n.appendChild(o)}}),t}!function(e,t,n){"use strict";function i(e){return function(){var t,n,i=arguments[0],r="["+(e?e+":":"")+i+"] ",o=arguments[1],a=arguments,s=function(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e};for(t=r+o.replace(/\{\d+\}/g,function(e){var t,n=+e.slice(1,-1);return n+2<a.length?(t=a[n+2],"function"==typeof t?t.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?F(t):t):e}),t=t+"\nhttp://errors.angularjs.org/1.2.26/"+(e?e+"/":"")+i,n=2;n<arguments.length;n++)t=t+(2==n?"?":"&")+"p"+(n-2)+"="+encodeURIComponent(s(arguments[n]));return new Error(t)}}function r(e){if(null==e||P(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:E(e)||Ci(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function o(e,t,n){var i;if(e)if($(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i);else if(Ci(e)||r(e))for(i=0;i<e.length;i++)t.call(n,e[i],i);else if(e.forEach&&e.forEach!==o)e.forEach(t,n);else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i);return e}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function s(e,t,n){for(var i=a(e),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function c(e){return function(t,n){e(n,t)}}function u(){for(var e,t=Ti.length;t;){if(t--,e=Ti[t].charCodeAt(0),57==e)return Ti[t]="A",Ti.join("");if(90!=e)return Ti[t]=String.fromCharCode(e+1),Ti.join("");Ti[t]="0"}return Ti.unshift("0"),Ti.join("")}function l(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function h(e){var t=e.$$hashKey;return o(arguments,function(t){t!==e&&o(t,function(t,n){e[n]=t})}),l(e,t),e}function p(e){return parseInt(e,10)}function d(e,t){return h(new(h(function(){},{prototype:e})),t)}function f(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function b(e){return null!=e&&"object"==typeof e}function E(e){return"string"==typeof e}function _(e){return"number"==typeof e}function w(e){return"[object Date]"===Pi.call(e)}function $(e){return"function"==typeof e}function S(e){return"[object RegExp]"===Pi.call(e)}function P(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function x(e){return e&&e.$evalAsync&&e.$watch}function k(e){return"[object File]"===Pi.call(e)}function T(e){return"[object Blob]"===Pi.call(e)}function C(e){return e&&$(e.then)}function B(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function U(e,t,n){var i=[];return o(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i}function A(e,t){return-1!=M(e,t)}function M(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function R(e,t){var n=M(e,t);return n>=0&&e.splice(n,1),t}function O(e,t,n,i){if(P(e)||x(e))throw xi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(t){if(e===t)throw xi("cpi","Can't copy! Source and destination are identical.");if(n=n||[],i=i||[],b(e)){var r=M(n,e);if(-1!==r)return i[r];n.push(e),i.push(t)}var a;if(Ci(e)){t.length=0;for(var s=0;s<e.length;s++)a=O(e[s],null,n,i),b(e[s])&&(n.push(e[s]),i.push(a)),t.push(a)}else{var c=t.$$hashKey;Ci(t)?t.length=0:o(t,function(e,n){delete t[n]});for(var u in e)a=O(e[u],null,n,i),b(e[u])&&(n.push(e[u]),i.push(a)),t[u]=a;l(t,c)}}else t=e,e&&(Ci(e)?t=O(e,[],n,i):w(e)?t=new Date(e.getTime()):S(e)?(t=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]),t.lastIndex=e.lastIndex):b(e)&&(t=O(e,{},n,i)));return t}function D(e,t){if(Ci(e)){t=t||[];for(var n=0;n<e.length;n++)t[n]=e[n]}else if(b(e)){t=t||{};for(var i in e)!fi.call(e,i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function N(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!Ci(e)){if(w(e))return w(t)?isNaN(e.getTime())&&isNaN(t.getTime())||e.getTime()===t.getTime():!1;if(S(e)&&S(t))return e.toString()==t.toString();if(x(e)||x(t)||P(e)||P(t)||Ci(t))return!1;o={};for(r in e)if("$"!==r.charAt(0)&&!$(e[r])){if(!N(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!o.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==n&&!$(t[r]))return!1;return!0}if(!Ci(t))return!1;if((i=e.length)==t.length){for(r=0;i>r;r++)if(!N(e[r],t[r]))return!1;return!0}}return!1}function L(e,t,n){return e.concat($i.call(t,n))}function I(e,t){return $i.call(e,t||0)}function J(e,t){var n=arguments.length>2?I(arguments,2):[];return!$(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat($i.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(e,i){var r=i;return"string"==typeof e&&"$"===e.charAt(0)?r=n:P(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":x(i)&&(r="$SCOPE"),r}function F(e,t){return"undefined"==typeof e?n:JSON.stringify(e,q,t?"  ":null)}function V(e){return E(e)?JSON.parse(e):e}function H(e){if("function"==typeof e)e=!0;else if(e&&0!==e.length){var t=di(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function j(e){e=bi(e).clone();try{e.empty()}catch(t){}var n=3,i=bi("<div>").append(e).html();try{return e[0].nodeType===n?di(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+di(t)})}catch(t){return di(i)}}function z(e){try{return decodeURIComponent(e)}catch(t){}}function W(e){var t,n,i={};return o((e||"").split("&"),function(e){if(e&&(t=e.replace(/\+/g,"%20").split("="),n=z(t[0]),y(n))){var r=y(t[1])?z(t[1]):!0;fi.call(i,n)?Ci(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r}}),i}function X(e){var t=[];return o(e,function(e,n){Ci(e)?o(e,function(e){t.push(Q(n,!0)+(e===!0?"":"="+Q(e,!0)))}):t.push(Q(n,!0)+(e===!0?"":"="+Q(e,!0)))}),t.length?t.join("&"):""}function Y(e){return Q(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Q(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function G(e,n){function i(e){e&&s.push(e)}var r,a,s=[e],c=["ng:app","ng-app","x-ng-app","data-ng-app"],u=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;o(c,function(n){c[n]=!0,i(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(o(e.querySelectorAll("."+n),i),o(e.querySelectorAll("."+n+"\\:"),i),o(e.querySelectorAll("["+n+"]"),i))}),o(s,function(e){if(!r){var t=" "+e.className+" ",n=u.exec(t);n?(r=e,a=(n[2]||"").replace(/\s+/g,",")):o(e.attributes,function(t){!r&&c[t.name]&&(r=e,a=t.value)})}}),r&&n(r,a?[a]:[])}function K(n,i){var r=function(){if(n=bi(n),n.injector()){var e=n[0]===t?"document":j(n);throw xi("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",n)}]),i.unshift("ng");var r=Mt(i);return r.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),r},a=/^NG_DEFER_BOOTSTRAP!/;return e&&!a.test(e.name)?r():(e.name=e.name.replace(a,""),void(ki.resumeBootstrap=function(e){o(e,function(e){i.push(e)}),r()}))}function Z(e,t){return t=t||"_",e.replace(Ai,function(e,n){return(n?t:"")+e.toLowerCase()})}function et(){Ei=e.jQuery,Ei&&Ei.fn.on?(bi=Ei,h(Ei.fn,{scope:zi.scope,isolateScope:zi.isolateScope,controller:zi.controller,injector:zi.injector,inheritedData:zi.inheritedData}),lt("remove",!0,!0,!1),lt("empty",!1,!1,!1),lt("html",!1,!1,!0)):bi=ft,ki.element=bi}function tt(e,t,n){if(!e)throw xi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function nt(e,t,n){return n&&Ci(e)&&(e=e[e.length-1]),tt($(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function it(e,t){if("hasOwnProperty"===e)throw xi("badname","hasOwnProperty is not a valid {0} name",t)}function rt(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;a>s;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&$(e)?J(o,e):e}function ot(e){var t=e[0],n=e[e.length-1];if(t===n)return bi(t);var i=t,r=[i];do{if(i=i.nextSibling,!i)break;r.push(i)}while(i!==n);return bi(r)}function at(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||i,t(o,"module",function(){var e={};return function(i,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)};return s(i,"module"),o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,n,i){return function(){return t[i||"push"]([e,n,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var t=[],r=[],s=e("$injector","invoke"),c={_invokeQueue:t,_runBlocks:r,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return r.push(e),this}};return a&&s(a),c})}})}function st(t){h(t,{bootstrap:K,copy:O,extend:h,equals:N,element:bi,forEach:o,injector:Mt,noop:f,bind:J,toJson:F,fromJson:V,identity:m,isUndefined:v,isDefined:y,isString:E,isFunction:$,isObject:b,isNumber:_,isElement:B,isArray:Ci,version:Mi,isDate:w,lowercase:di,uppercase:mi,callbacks:{counter:0},$$minErr:i,$$csp:Ui}),_i=at(e);try{_i("ngLocale")}catch(n){_i("ngLocale",[]).provider("$locale",nn)}_i("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Cn}),e.provider("$compile",Jt).directive({a:Cr,input:Jr,textarea:Jr,form:Mr,script:$o,select:xo,style:To,option:ko,ngBind:Kr,ngBindHtml:eo,ngBindTemplate:Zr,ngClass:to,ngClassEven:io,ngClassOdd:no,ngCloak:ro,ngController:oo,ngForm:Rr,ngHide:vo,ngIf:co,ngInclude:uo,ngInit:ho,ngNonBindable:po,ngPluralize:fo,ngRepeat:mo,ngShow:go,ngStyle:yo,ngSwitch:bo,ngSwitchWhen:Eo,ngSwitchDefault:_o,ngOptions:Po,ngTransclude:wo,ngModel:zr,ngList:Yr,ngChange:Wr,required:Xr,ngRequired:Xr,ngValue:Gr}).directive({ngInclude:lo}).directive(Br).directive(ao),e.provider({$anchorScroll:Rt,$animate:tr,$browser:Nt,$cacheFactory:Lt,$controller:Vt,$document:Ht,$exceptionHandler:jt,$filter:Jn,$interpolate:en,$interval:tn,$http:Qt,$httpBackend:Kt,$location:gn,$log:vn,$parse:Sn,$rootScope:Tn,$q:Pn,$sce:Rn,$sceDelegate:Mn,$sniffer:On,$templateCache:It,$timeout:Dn,$window:In,$$rAF:kn,$$asyncCallback:Ot})}])}function ct(){return++Oi}function ut(e){return e.replace(Li,function(e,t,n,i){return i?n.toUpperCase():n}).replace(Ii,"Moz$1")}function lt(e,t,n,i){function r(e){var r,a,s,c,u,l,h,p=n&&e?[this.filter(e)]:[this],d=t;if(!i||null!=e)for(;p.length;)for(r=p.shift(),a=0,s=r.length;s>a;a++)for(c=bi(r[a]),d?c.triggerHandler("$destroy"):d=!d,u=0,l=(h=c.children()).length;l>u;u++)p.push(Ei(h[u]));return o.apply(this,arguments)}var o=Ei.fn[e];o=o.$original||o,r.$original=o,Ei.fn[e]=r}function ht(e){return!Fi.test(e)}function pt(e,t){var n,i,r,o,a,s,c=t.createDocumentFragment(),u=[];if(ht(e))u.push(t.createTextNode(e));else{for(n=c.appendChild(t.createElement("div")),i=(Vi.exec(e)||["",""])[1].toLowerCase(),r=ji[i]||ji._default,n.innerHTML="<div>&#160;</div>"+r[1]+e.replace(Hi,"<$1></$2>")+r[2],n.removeChild(n.firstChild),o=r[0];o--;)n=n.lastChild;for(a=0,s=n.childNodes.length;s>a;++a)u.push(n.childNodes[a]);n=c.firstChild,n.textContent=""}return c.textContent="",c.innerHTML="",u}function dt(e,n){n=n||t;var i;return(i=qi.exec(e))?[n.createElement(i[1])]:pt(e,n)}function ft(e){if(e instanceof ft)return e;if(E(e)&&(e=Bi(e)),!(this instanceof ft)){if(E(e)&&"<"!=e.charAt(0))throw Ji("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ft(e)}if(E(e)){St(this,dt(e));var n=bi(t.createDocumentFragment());n.append(this)}else St(this,e)}function mt(e){return e.cloneNode(!0)}function gt(e){yt(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)gt(n[t])}function vt(e,t,n,i){if(y(i))throw Ji("offargs","jqLite#off() does not support the `selector` argument");var r=bt(e,"events"),a=bt(e,"handle");a&&(v(t)?o(r,function(t,n){Ni(e,n,t),delete r[n]}):o(t.split(" "),function(t){v(n)?(Ni(e,t,r[t]),delete r[t]):R(r[t]||[],n)}))}function yt(e,t){var i=e.ng339,r=Ri[i];if(r){if(t)return void delete Ri[i].data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),vt(e)),delete Ri[i],e.ng339=n}}function bt(e,t,n){var i=e.ng339,r=Ri[i||-1];return y(n)?(r||(e.ng339=i=ct(),r=Ri[i]={}),void(r[t]=n)):r&&r[t]}function Et(e,t,n){var i=bt(e,"data"),r=y(n),o=!r&&y(t),a=o&&!b(t);if(i||a||bt(e,"data",i={}),r)i[t]=n;else{if(!o)return i;if(a)return i&&i[t];h(i,t)}}function _t(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function wt(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Bi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Bi(t)+" "," ")))})}function $t(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Bi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Bi(n))}}function St(e,t){if(t){t=t.nodeName||!y(t.length)||P(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function Pt(e,t){return xt(e,"$"+(t||"ngController")+"Controller")}function xt(e,t,i){9==e.nodeType&&(e=e.documentElement);for(var r=Ci(t)?t:[t];e;){for(var o=0,a=r.length;a>o;o++)if((i=bi.data(e,r[o]))!==n)return i;e=e.parentNode||11===e.nodeType&&e.host}}function kt(e){for(var t=0,n=e.childNodes;t<n.length;t++)gt(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function Tt(e,t){var n=Wi[t.toLowerCase()];return n&&Xi[e.nodeName]&&n}function Ct(e,n){var i=function(i,r){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||t),v(i.defaultPrevented)){var a=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,a.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented||i.returnValue===!1};var s=D(n[r||i.type]||[]);o(s,function(t){t.call(e,i)}),8>=yi?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=e,i}function Bt(e,t){var i,r=typeof e;return"function"==r||"object"==r&&null!==e?"function"==typeof(i=e.$$hashKey)?i=e.$$hashKey():i===n&&(i=e.$$hashKey=(t||u)()):i=e,r+":"+i}function Ut(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function At(e){var t,n,i,r;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=e.toString().replace(Ki,""),i=n.match(Yi),o(i[1].split(Qi),function(e){e.replace(Gi,function(e,n,i){t.push(i)})})),e.$inject=t):Ci(e)?(r=e.length-1,nt(e[r],"fn"),t=e.slice(0,r)):nt(e,"fn",!0),t}function Mt(e){function t(e){return function(t,n){return b(t)?void o(t,c(e)):e(t,n)}}function n(e,t){if(it(e,"service"),($(t)||Ci(t))&&(t=_.instantiate(t)),!t.$get)throw Zi("pget","Provider '{0}' must define $get factory method.",e);return y[e+d]=t}function i(e,t){return n(e,{$get:t})}function r(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function a(e,t){return i(e,g(t))}function s(e,t){it(e,"constant"),y[e]=t,w[e]=t}function u(e,t){var n=_.get(e+d),i=n.$get;n.$get=function(){var e=S.invoke(i,n);return S.invoke(t,null,{$delegate:e})}}function l(e){var t,n,i,r,a=[];return o(e,function(e){if(!v.get(e)){v.put(e,!0);try{if(E(e))for(t=_i(e),a=a.concat(l(t.requires)).concat(t._runBlocks),n=t._invokeQueue,i=0,r=n.length;r>i;i++){var o=n[i],s=_.get(o[0]);s[o[1]].apply(s,o[2])}else $(e)?a.push(_.invoke(e)):Ci(e)?a.push(_.invoke(e)):nt(e,"module")}catch(c){throw Ci(e)&&(e=e[e.length-1]),c.message&&c.stack&&-1==c.stack.indexOf(c.message)&&(c=c.message+"\n"+c.stack),Zi("modulerr","Failed to instantiate module {0} due to:\n{1}",e,c.stack||c.message||c)}}}),a}function h(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===p)throw Zi("cdep","Circular dependency found: {0}",n+" <- "+m.join(" <- "));return e[n]}try{return m.unshift(n),e[n]=p,e[n]=t(n)}catch(i){throw e[n]===p&&delete e[n],i}finally{m.shift()}}function i(e,t,i){var r,o,a,s=[],c=At(e);for(o=0,r=c.length;r>o;o++){if(a=c[o],"string"!=typeof a)throw Zi("itkn","Incorrect injection token! Expected service name as string, got {0}",a);s.push(i&&i.hasOwnProperty(a)?i[a]:n(a))}return Ci(e)&&(e=e[r]),e.apply(t,s)}function r(e,t){var n,r,o=function(){};return o.prototype=(Ci(e)?e[e.length-1]:e).prototype,n=new o,r=i(e,n,t),b(r)||$(r)?r:n}return{invoke:i,instantiate:r,get:n,annotate:At,has:function(t){return y.hasOwnProperty(t+d)||e.hasOwnProperty(t)}}}var p={},d="Provider",m=[],v=new Ut([],!0),y={$provide:{provider:t(n),factory:t(i),service:t(r),value:t(a),constant:t(s),decorator:u}},_=y.$injector=h(y,function(){throw Zi("unpr","Unknown provider: {0}",m.join(" <- "))}),w={},S=w.$injector=h(w,function(e){var t=_.get(e+d);return S.invoke(t.$get,t)});return o(l(e),function(e){S.invoke(e||f)}),S}function Rt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return o(e,function(e){t||"a"!==di(e.nodeName)||(t=e)}),t}function a(){var e,i=n.hash();i?(e=s.getElementById(i))?e.scrollIntoView():(e=r(s.getElementsByName(i)))?e.scrollIntoView():"top"===i&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(a)}),a}]}function Ot(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Dt(e,t,i,r){function a(e){try{e.apply(null,I(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(t){i.error(t)}}}function s(e,t){!function n(){o(w,function(e){e()}),_=t(n,e)}()}function c(){P=null,$!=u.url()&&($=u.url(),o(x,function(e){e(u.url())}))}var u=this,l=t[0],h=e.location,p=e.history,d=e.setTimeout,m=e.clearTimeout,g={};u.isMock=!1;var y=0,b=[];u.$$completeOutstandingRequest=a,u.$$incOutstandingRequestCount=function(){y++},u.notifyWhenNoOutstandingRequests=function(e){o(w,function(e){e()}),0===y?e():b.push(e)};var _,w=[];u.addPollFn=function(e){return v(_)&&s(100,d),w.push(e),e};var $=h.href,S=t.find("base"),P=null;u.url=function(t,n){if(h!==e.location&&(h=e.location),p!==e.history&&(p=e.history),t){if($==t)return;return $=t,r.history?n?p.replaceState(null,"",t):(p.pushState(null,"",t),S.attr("href",S.attr("href"))):(P=t,n?h.replace(t):h.href=t),u}return P||h.href.replace(/%27/g,"'")};var x=[],k=!1;u.onUrlChange=function(t){return k||(r.history&&bi(e).on("popstate",c),r.hashchange?bi(e).on("hashchange",c):u.addPollFn(c),k=!0),x.push(t),t},u.$$checkUrlChange=c,u.baseHref=function(){var e=S.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var T={},C="",B=u.baseHref();u.cookies=function(e,t){var r,o,a,s,c;if(!e){if(l.cookie!==C)for(C=l.cookie,o=C.split("; "),T={},s=0;s<o.length;s++)a=o[s],c=a.indexOf("="),c>0&&(e=unescape(a.substring(0,c)),T[e]===n&&(T[e]=unescape(a.substring(c+1))));return T}t===n?l.cookie=escape(e)+"=;path="+B+";expires=Thu, 01 Jan 1970 00:00:00 GMT":E(t)&&(r=(l.cookie=escape(e)+"="+escape(t)+";path="+B).length+1,r>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},u.defer=function(e,t){var n;return y++,n=d(function(){delete g[n],a(e)},t||0),g[n]=!0,n},u.defer.cancel=function(e){return g[e]?(delete g[e],m(e),a(f),!0):!1}}function Nt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new Dt(e,i,t,n)}]}function Lt(){this.$get=function(){function e(e,n){function r(e){e!=p&&(d?d==e&&(d=e.n):d=e,o(e.n,e.p),o(e,p),p=e,p.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=h({},n,{id:e}),c={},u=n&&n.capacity||Number.MAX_VALUE,l={},p=null,d=null;return t[e]={put:function(e,t){if(u<Number.MAX_VALUE){var n=l[e]||(l[e]={key:e});r(n)}if(!v(t))return e in c||a++,c[e]=t,a>u&&this.remove(d.key),t},get:function(e){if(u<Number.MAX_VALUE){var t=l[e];if(!t)return;r(t)}return c[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=l[e];if(!t)return;t==p&&(p=t.p),t==d&&(d=t.n),o(t.n,t.p),delete l[e]}delete c[e],a--},removeAll:function(){c={},a=0,l={},p=d=null},destroy:function(){c=null,s=null,l=null,delete t[e]},info:function(){return h({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function It(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Jt(e,i){var r={},a="Directive",s=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,u=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,l=/^(on[a-z]+|formaction)$/;this.directive=function p(t,n){return it(t,"directive"),E(t)?(tt(n,"directiveFactory"),r.hasOwnProperty(t)||(r[t]=[],e.factory(t+a,["$injector","$exceptionHandler",function(e,n){var i=[];return o(r[t],function(r,o){try{var a=e.invoke(r);$(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"A",i.push(a)}catch(s){n(s)}}),i}])),r[t].push(n)):o(t,c(p)),this},this.aHrefSanitizationWhitelist=function(e){return y(e)?(i.aHrefSanitizationWhitelist(e),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(i.imgSrcSanitizationWhitelist(e),this):i.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,i,c,p,f,g,v,y,_,w,S,P){function x(e,t,n,i,r){e instanceof bi||(e=bi(e)),o(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=t=bi(t).wrap("<span></span>").parent()[0])});var a=T(e,t,e,n,i,r);return k(e,"ng-scope"),function(t,n,i,r){tt(t,"scope");var s=n?zi.clone.call(e):e;o(i,function(e,t){s.data("$"+t+"Controller",e)});for(var c=0,u=s.length;u>c;c++){var l=s[c],h=l.nodeType;(1===h||9===h)&&s.eq(c).data("$scope",t)}return n&&n(s,t),a&&a(t,s,s,r),s}}function k(e,t){try{e.addClass(t)}catch(n){}}function T(e,t,i,r,o,a){function s(e,i,r,o){var a,s,c,u,l,h,p,d,m=i.length,g=new Array(m);for(l=0;m>l;l++)g[l]=i[l];for(l=0,p=0,h=f.length;h>l;p++)c=g[p],a=f[l++],s=f[l++],a?(a.scope?(u=e.$new(),bi.data(c,"$scope",u)):u=e,d=a.transcludeOnThisElement?C(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?C(e,t):null,a(s,u,c,r,d)):s&&s(e,c.childNodes,n,o)}for(var c,u,l,h,p,d,f=[],m=0;m<e.length;m++)c=new Y,u=B(e[m],[],c,0===m?r:n,o),l=u.length?M(u,e[m],c,t,i,null,[],[],a):null,l&&l.scope&&k(c.$$element,"ng-scope"),p=l&&l.terminal||!(h=e[m].childNodes)||!h.length?null:T(h,l?(l.transcludeOnThisElement||!l.templateOnThisElement)&&l.transclude:t),f.push(l,p),d=d||l||p,a=null;return d?s:null}function C(e,t,n){var i=function(i,r,o){var a=!1;i||(i=e.$new(),i.$$transcluded=!0,a=!0);var s=t(i,r,o,n);return a&&s.on("$destroy",function(){i.$destroy()}),s};return i}function B(e,t,n,i,r){var o,a,c=e.nodeType,l=n.$attr;switch(c){case 1:O(t,qt(wi(e).toLowerCase()),"E",i,r);for(var h,p,d,f,m,g,v=e.attributes,y=0,b=v&&v.length;b>y;y++){var _=!1,w=!1;if(h=v[y],!yi||yi>=8||h.specified){p=h.name,m=Bi(h.value),f=qt(p),(g=et.test(f))&&(p=Z(f.substr(6),"-"));var $=f.replace(/(Start|End)$/,"");f===$+"Start"&&(_=p,w=p.substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),d=qt(p.toLowerCase()),l[d]=p,(g||!n.hasOwnProperty(d))&&(n[d]=m,Tt(e,d)&&(n[d]=!0)),z(e,t,m,d),O(t,d,"A",i,r,_,w)}}if(a=e.className,E(a)&&""!==a)for(;o=u.exec(a);)d=qt(o[2]),O(t,d,"C",i,r)&&(n[d]=Bi(o[3])),a=a.substr(o.index+o[0].length);break;case 3:V(t,e.nodeValue);break;case 8:try{o=s.exec(e.nodeValue),o&&(d=qt(o[1]),O(t,d,"M",i,r)&&(n[d]=Bi(o[2])))}catch(S){}}return t.sort(q),t}function U(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw nr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);1==e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0)}else i.push(e);return bi(i)}function A(e,t,n){return function(i,r,o,a,s){return r=U(r[0],t,n),e(i,r,o,a,s)}}function M(e,r,a,s,u,l,h,p,d){function f(e,t,n,i){e&&(n&&(e=A(e,n,i)),e.require=w.require,e.directiveName=S,(q===w||w.$$isolateScope)&&(e=X(e,{isolateScope:!0})),h.push(e)),t&&(n&&(t=A(t,n,i)),t.require=w.require,t.directiveName=S,(q===w||w.$$isolateScope)&&(t=X(t,{isolateScope:!0})),p.push(t))}function m(e,t,n,i){var r,a="data",s=!1;if(E(t)){for(;"^"==(r=t.charAt(0))||"?"==r;)t=t.substr(1),"^"==r&&(a="inheritedData"),s=s||"?"==r;if(r=null,i&&"data"===a&&(r=i[t]),r=r||n[a]("$"+t+"Controller"),!r&&!s)throw nr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",t,e);return r}return Ci(t)&&(r=[],o(t,function(t){r.push(m(e,t,n,i))})),r}function y(e,t,s,u,l){function d(e,t){var i;return arguments.length<2&&(t=e,e=n),G&&(i=P),l(e,t,i)}var f,y,b,E,_,w,$,S,P={};if(f=r===s?a:D(a,new Y(bi(s),a.$attr)),y=f.$$element,q){var x=/^\s*([@=&])(\??)\s*(\w*)\s*$/;$=t.$new(!0),!V||V!==q&&V!==q.$$originalDirective?y.data("$isolateScopeNoTemplate",$):y.data("$isolateScope",$),k(y,"ng-isolate-scope"),o(q.scope,function(e,n){var r,o,a,s,c=e.match(x)||[],u=c[3]||n,l="?"==c[2],h=c[1];switch($.$$isolateBindings[n]=h+u,h){case"@":f.$observe(u,function(e){$[n]=e}),f.$$observers[u].$$scope=t,f[u]&&($[n]=i(f[u])(t));break;case"=":if(l&&!f[u])return;o=g(f[u]),s=o.literal?N:function(e,t){return e===t||e!==e&&t!==t},a=o.assign||function(){throw r=$[n]=o(t),nr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",f[u],q.name)},r=$[n]=o(t),$.$watch(function(){var e=o(t);return s(e,$[n])||(s(e,r)?a(t,e=$[n]):$[n]=e),r=e},null,o.literal);break;case"&":o=g(f[u]),$[n]=function(e){return o(t,e)};break;default:throw nr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",q.name,n,e)}})}for(S=l&&d,O&&o(O,function(e){var n,i={$scope:e===q||e.$$isolateScope?$:t,$element:y,$attrs:f,$transclude:S};w=e.controller,"@"==w&&(w=f[e.name]),n=v(w,i),P[e.name]=n,G||y.data("$"+e.name+"Controller",n),e.controllerAs&&(i.$scope[e.controllerAs]=n)}),b=0,E=h.length;E>b;b++)try{_=h[b],_(_.isolateScope?$:t,y,f,_.require&&m(_.directiveName,_.require,y,P),S)}catch(T){c(T,j(y))}var C=t;for(q&&(q.template||null===q.templateUrl)&&(C=$),e&&e(C,s.childNodes,n,l),b=p.length-1;b>=0;b--)try{_=p[b],_(_.isolateScope?$:t,y,f,_.require&&m(_.directiveName,_.require,y,P),S)}catch(T){c(T,j(y))}}d=d||{};for(var _,w,S,P,T,C,M=-Number.MAX_VALUE,O=d.controllerDirectives,q=d.newIsolateScopeDirective,V=d.templateDirective,H=d.nonTlbTranscludeDirective,z=!1,Q=!1,G=d.hasElementTranscludeDirective,Z=a.$$element=bi(r),et=l,tt=s,nt=0,it=e.length;it>nt;nt++){w=e[nt];var rt=w.$$start,ot=w.$$end;if(rt&&(Z=U(r,rt,ot)),P=n,M>w.priority)break;if((C=w.scope)&&(_=_||w,w.templateUrl||(F("new/isolated scope",q,w,Z),b(C)&&(q=w))),S=w.name,!w.templateUrl&&w.controller&&(C=w.controller,O=O||{},F("'"+S+"' controller",O[S],w,Z),O[S]=w),(C=w.transclude)&&(z=!0,w.$$tlb||(F("transclusion",H,w,Z),H=w),"element"==C?(G=!0,M=w.priority,P=Z,Z=a.$$element=bi(t.createComment(" "+S+": "+a[S]+" ")),r=Z[0],W(u,I(P),r),tt=x(P,s,M,et&&et.name,{nonTlbTranscludeDirective:H})):(P=bi(mt(r)).contents(),Z.empty(),tt=x(P,s))),w.template)if(Q=!0,F("template",V,w,Z),V=w,C=$(w.template)?w.template(Z,a):w.template,C=K(C),w.replace){if(et=w,P=ht(C)?[]:bi(Bi(C)),r=P[0],1!=P.length||1!==r.nodeType)throw nr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",S,"");W(u,Z,r);var at={$attr:{}},st=B(r,[],at),ct=e.splice(nt+1,e.length-(nt+1));q&&R(st),e=e.concat(st).concat(ct),L(a,at),it=e.length}else Z.html(C);if(w.templateUrl)Q=!0,F("template",V,w,Z),V=w,w.replace&&(et=w),y=J(e.splice(nt,e.length-nt),Z,a,u,z&&tt,h,p,{controllerDirectives:O,newIsolateScopeDirective:q,templateDirective:V,nonTlbTranscludeDirective:H}),it=e.length;else if(w.compile)try{T=w.compile(Z,a,tt),$(T)?f(null,T,rt,ot):T&&f(T.pre,T.post,rt,ot)}catch(ut){c(ut,j(Z))}w.terminal&&(y.terminal=!0,M=Math.max(M,w.priority))}return y.scope=_&&_.scope===!0,y.transcludeOnThisElement=z,y.templateOnThisElement=Q,y.transclude=tt,d.hasElementTranscludeDirective=G,y}function R(e){for(var t=0,n=e.length;n>t;t++)e[t]=d(e[t],{$$isolateScope:!0})}function O(t,i,o,s,u,l,h){if(i===u)return null;var p=null;if(r.hasOwnProperty(i))for(var f,m=e.get(i+a),g=0,v=m.length;v>g;g++)try{f=m[g],(s===n||s>f.priority)&&-1!=f.restrict.indexOf(o)&&(l&&(f=d(f,{$$start:l,$$end:h})),t.push(f),p=f)}catch(y){c(y)}return p}function L(e,t){var n=t.$attr,i=e.$attr,r=e.$$element;o(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&t[r]!==i&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,o){"class"==o?(k(r,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(r.attr("style",r.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,i[o]=n[o])})}function J(e,t,n,i,r,a,s,c){var u,l,d=[],m=t[0],g=e.shift(),v=h({},g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),y=$(g.templateUrl)?g.templateUrl(t,n):g.templateUrl;return t.empty(),p.get(w.getTrustedResourceUrl(y),{cache:f}).success(function(h){var p,f,E,_;if(h=K(h),g.replace){if(E=ht(h)?[]:bi(Bi(h)),p=E[0],1!=E.length||1!==p.nodeType)throw nr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,y);f={$attr:{}},W(i,t,p);var w=B(p,[],f);b(g.scope)&&R(w),e=w.concat(e),L(n,f)}else p=m,t.html(h);for(e.unshift(v),u=M(e,p,n,r,t,g,a,s,c),o(i,function(e,n){e==p&&(i[n]=t[0])}),l=T(t[0].childNodes,r);d.length;){var $=d.shift(),S=d.shift(),P=d.shift(),x=d.shift(),U=t[0];
if(S!==m){var A=S.className;c.hasElementTranscludeDirective&&g.replace||(U=mt(p)),W(P,bi(S),U),k(bi(U),A)}_=u.transcludeOnThisElement?C($,u.transclude,x):x,u(l,$,U,i,_)}d=null}).error(function(e,t,n,i){throw nr("tpload","Failed to load template: {0}",i.url)}),function(e,t,n,i,r){var o=r;d?(d.push(t),d.push(n),d.push(i),d.push(o)):(u.transcludeOnThisElement&&(o=C(t,u.transclude,r)),u(l,t,n,i,o))}}function q(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function F(e,t,n,i){if(t)throw nr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",t.name,n.name,e,j(i))}function V(e,t){var n=i(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),i=t.length;return i&&k(e.parent(),"ng-binding"),function(e,t){var r=t.parent(),o=r.data("$binding")||[];o.push(n),r.data("$binding",o),i||k(r,"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function H(e,t){if("srcdoc"==t)return w.HTML;var n=wi(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?w.RESOURCE_URL:void 0}function z(e,t,n,r){var o=i(n,!0);if(o){if("multiple"===r&&"SELECT"===wi(e))throw nr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",j(e));t.push({priority:100,compile:function(){return{pre:function(t,n,a){var s=a.$$observers||(a.$$observers={});if(l.test(r))throw nr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");o=i(a[r],!0,H(e,r)),o&&(a[r]=o(t),(s[r]||(s[r]=[])).$$inter=!0,(a.$$observers&&a.$$observers[r].$$scope||t).$watch(o,function(e,t){"class"===r&&e!=t?a.$updateClass(e,t):a.$set(r,e)}))}}}})}}function W(e,n,i){var r,o,a=n[0],s=n.length,c=a.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]==a){e[r++]=i;for(var u=r,l=u+s-1,h=e.length;h>u;u++,l++)h>l?e[u]=e[l]:delete e[u];e.length-=s-1;break}c&&c.replaceChild(i,a);var p=t.createDocumentFragment();p.appendChild(a),i[bi.expando]=a[bi.expando];for(var d=1,f=n.length;f>d;d++){var m=n[d];bi(m).remove(),p.appendChild(m),delete n[d]}n[0]=i,n.length=1}function X(e,t){return h(function(){return e.apply(null,arguments)},e,t)}var Y=function(e,t){this.$$element=e,this.$attr=t||{}};Y.prototype={$normalize:qt,$addClass:function(e){e&&e.length>0&&S.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&S.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Ft(e,t),i=Ft(t,e);0===n.length?S.removeClass(this.$$element,i):0===i.length?S.addClass(this.$$element,n):S.setClass(this.$$element,n,i)},$set:function(e,t,i,r){var a,s=Tt(this.$$element[0],e);s&&(this.$$element.prop(e,t),r=s),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e],r||(this.$attr[e]=r=Z(e,"-"))),a=wi(this.$$element),("A"===a&&"href"===e||"IMG"===a&&"src"===e)&&(this[e]=t=P(t,"src"===e)),i!==!1&&(null===t||t===n?this.$$element.removeAttr(r):this.$$element.attr(r,t));var u=this.$$observers;u&&o(u[e],function(e){try{e(t)}catch(n){c(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers={}),r=i[e]||(i[e]=[]);return r.push(t),y.$evalAsync(function(){r.$$inter||t(n[e])}),t}};var Q=i.startSymbol(),G=i.endSymbol(),K="{{"==Q||"}}"==G?m:function(e){return e.replace(/\{\{/g,Q).replace(/}}/g,G)},et=/^ngAttr[A-Z]/;return x}]}function qt(e){return ut(e.replace(ir,""))}function Ft(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue e;n+=(n.length>0?" ":"")+a}return n}function Vt(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){it(t,"controller"),b(t)?h(e,t):e[t]=n},this.$get=["$injector","$window",function(n,r){return function(o,a){var s,c,u,l;if(E(o)&&(c=o.match(t),u=c[1],l=c[3],o=e.hasOwnProperty(u)?e[u]:rt(a.$scope,u,!0)||rt(r,u,!0),nt(o,u,!0)),s=n.instantiate(o,a),l){if(!a||"object"!=typeof a.$scope)throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",u||o.name,l);a.$scope[l]=s}return s}}]}function Ht(){this.$get=["$window",function(e){return bi(e.document)}]}function jt(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function zt(e){var t,n,i,r={};return e?(o(e.split("\n"),function(e){i=e.indexOf(":"),t=di(Bi(e.substr(0,i))),n=Bi(e.substr(i+1)),t&&(r[t]=r[t]?r[t]+", "+n:n)}),r):r}function Wt(e){var t=b(e)?e:n;return function(n){return t||(t=zt(e)),n?t[di(n)]||null:t}}function Xt(e,t,n){return $(n)?n(e,t):(o(n,function(n){e=n(e,t)}),e)}function Yt(e){return e>=200&&300>e}function Qt(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,r={"Content-Type":"application/json;charset=utf-8"},a=this.defaults={transformResponse:[function(n){return E(n)&&(n=n.replace(i,""),e.test(n)&&t.test(n)&&(n=V(n))),n}],transformRequest:[function(e){return!b(e)||k(e)||T(e)?e:F(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:D(r),put:D(r),patch:D(r)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},c=this.interceptors=[],u=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,i,r,l,p){function d(e){function t(e){var t=h({},e,{data:Xt(e.data,e.headers,r.transformResponse)});return Yt(e.status)?t:l.reject(t)}function i(e){function t(e){var t;o(e,function(n,i){$(n)&&(t=n(),null!=t?e[i]=t:delete e[i])})}var n,i,r,s=a.headers,c=h({},e.headers);s=h({},s.common,s[di(e.method)]);e:for(n in s){i=di(n);for(r in c)if(di(r)===i)continue e;c[n]=s[n]}return t(c),c}var r={method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse},s=i(e);h(r,e),r.headers=s,r.method=mi(r.method);var c=function(e){s=e.headers;var n=Xt(e.data,Wt(s),e.transformRequest);return v(n)&&o(s,function(e,t){"content-type"===di(t)&&delete s[t]}),v(e.withCredentials)&&!v(a.withCredentials)&&(e.withCredentials=a.withCredentials),g(e,n,s).then(t,t)},u=[c,n],p=l.when(r);for(o(P,function(e){(e.request||e.requestError)&&u.unshift(e.request,e.requestError),(e.response||e.responseError)&&u.push(e.response,e.responseError)});u.length;){var d=u.shift(),f=u.shift();p=p.then(d,f)}return p.success=function(e){return p.then(function(t){e(t.data,t.status,t.headers,r)}),p},p.error=function(e){return p.then(null,function(t){e(t.data,t.status,t.headers,r)}),p},p}function f(){o(arguments,function(e){d[e]=function(t,n){return d(h(n||{},{method:e,url:t}))}})}function m(){o(arguments,function(e){d[e]=function(t,n,i){return d(h(i||{},{method:e,url:t,data:n}))}})}function g(i,o,s){function c(e,t,n,i){p&&(Yt(e)?p.put(E,[e,t,zt(n),i]):p.remove(E)),u(t,e,n,i),r.$$phase||r.$apply()}function u(e,t,n,r){t=Math.max(t,0),(Yt(t)?m.resolve:m.reject)({data:e,status:t,headers:Wt(n),config:i,statusText:r})}function h(){var e=M(d.pendingRequests,i);-1!==e&&d.pendingRequests.splice(e,1)}var p,f,m=l.defer(),g=m.promise,E=_(i.url,i.params);if(d.pendingRequests.push(i),g.then(h,h),!i.cache&&!a.cache||i.cache===!1||"GET"!==i.method&&"JSONP"!==i.method||(p=b(i.cache)?i.cache:b(a.cache)?a.cache:S),p)if(f=p.get(E),y(f)){if(C(f))return f.then(h,h),f;Ci(f)?u(f[1],f[0],D(f[2]),f[3]):u(f,200,{},"OK")}else p.put(E,g);if(v(f)){var w=Ln(i.url)?t.cookies()[i.xsrfCookieName||a.xsrfCookieName]:n;w&&(s[i.xsrfHeaderName||a.xsrfHeaderName]=w),e(i.method,E,o,c,s,i.timeout,i.withCredentials,i.responseType)}return g}function _(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||v(e)||(Ci(e)||(e=[e]),o(e,function(e){b(e)&&(e=w(e)?e.toISOString():F(e)),n.push(Q(t)+"="+Q(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var S=i("$http"),P=[];return o(c,function(e){P.unshift(E(e)?p.get(e):p.invoke(e))}),o(u,function(e,t){var n=E(e)?p.get(e):p.invoke(e);P.splice(t,0,{response:function(e){return n(l.when(e))},responseError:function(e){return n(l.reject(e))}})}),d.pendingRequests=[],f("get","delete","head","jsonp"),m("post","put"),d.defaults=a,d}]}function Gt(t){if(8>=yi&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw i("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Kt(){this.$get=["$browser","$window","$document",function(e,t,n){return Zt(e,Gt,e.defer,t.angular.callbacks,n[0])}]}function Zt(e,t,n,i,r){function a(e,t,n){var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){Ni(o,"load",a),Ni(o,"error",a),r.body.removeChild(o),o=null;var s=-1,c="unknown";e&&("load"!==e.type||i[t].called||(e={type:"error"}),c=e.type,s="error"===e.type?404:200),n&&n(s,c)},Di(o,"load",a),Di(o,"error",a),8>=yi&&(o.onreadystatechange=function(){E(o.readyState)&&/loaded|complete/.test(o.readyState)&&(o.onreadystatechange=null,a({type:"load"}))}),r.body.appendChild(o),a}var s=-1;return function(r,c,u,l,h,p,d,m){function g(){b=s,_&&_(),w&&w.abort()}function v(t,i,r,o,a){S&&n.cancel(S),_=w=null,0===i&&(i=r?200:"file"==Nn(c).protocol?404:0),i=1223===i?204:i,a=a||"",t(i,r,o,a),e.$$completeOutstandingRequest(f)}var b;if(e.$$incOutstandingRequestCount(),c=c||e.url(),"jsonp"==di(r)){var E="_"+(i.counter++).toString(36);i[E]=function(e){i[E].data=e,i[E].called=!0};var _=a(c.replace("JSON_CALLBACK","angular.callbacks."+E),E,function(e,t){v(l,e,i[E].data,"",t),i[E]=f})}else{var w=t(r);if(w.open(r,c,!0),o(h,function(e,t){y(e)&&w.setRequestHeader(t,e)}),w.onreadystatechange=function(){if(w&&4==w.readyState){var e=null,t=null,n="";b!==s&&(e=w.getAllResponseHeaders(),t="response"in w?w.response:w.responseText),b===s&&10>yi||(n=w.statusText),v(l,b||w.status,t,e,n)}},d&&(w.withCredentials=!0),m)try{w.responseType=m}catch($){if("json"!==m)throw $}w.send(u||null)}if(p>0)var S=n(g,p);else C(p)&&p.then(g)}}function en(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(o,c,u){for(var l,h,p,d,f=0,m=[],g=o.length,v=!1,y=[];g>f;)-1!=(l=o.indexOf(e,f))&&-1!=(h=o.indexOf(t,l+a))?(f!=l&&m.push(o.substring(f,l)),m.push(p=n(d=o.substring(l+a,h))),p.exp=d,f=h+s,v=!0):(f!=g&&m.push(o.substring(f)),f=g);if((g=m.length)||(m.push(""),g=1),u&&m.length>1)throw rr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",o);return!c||v?(y.length=g,p=function(e){try{for(var t,n=0,a=g;a>n;n++){if("function"==typeof(t=m[n]))if(t=t(e),t=u?r.getTrusted(u,t):r.valueOf(t),null==t)t="";else switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=F(t)}y[n]=t}return y.join("")}catch(s){var c=rr("interr","Can't interpolate: {0}\n{1}",o,s.toString());i(c)}},p.exp=o,p.parts=m,p):void 0}var a=e.length,s=t.length;return o.startSymbol=function(){return e},o.endSymbol=function(){return t},o}]}function tn(){this.$get=["$rootScope","$window","$q",function(e,t,n){function i(i,o,a,s){var c=t.setInterval,u=t.clearInterval,l=n.defer(),h=l.promise,p=0,d=y(s)&&!s;return a=y(a)?a:0,h.then(null,null,i),h.$$intervalId=c(function(){l.notify(p++),a>0&&p>=a&&(l.resolve(p),u(h.$$intervalId),delete r[h.$$intervalId]),d||e.$apply()},o),r[h.$$intervalId]=l,h}var r={};return i.cancel=function(e){return e&&e.$$intervalId in r?(r[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete r[e.$$intervalId],!0):!1},i}]}function nn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function rn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=Y(t[n]);return t.join("/")}function on(e,t,n){var i=Nn(e,n);t.$$protocol=i.protocol,t.$$host=i.hostname,t.$$port=p(i.port)||ar[i.protocol]||null}function an(e,t,n){var i="/"!==e.charAt(0);i&&(e="/"+e);var r=Nn(e,n);t.$$path=decodeURIComponent(i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=W(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function sn(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function cn(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function un(e){return e.substr(0,cn(e).lastIndexOf("/")+1)}function ln(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function hn(e,t){this.$$html5=!0,t=t||"";var i=un(e);on(e,this,e),this.$$parse=function(t){var n=sn(i,t);if(!E(n))throw sr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,i);an(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=X(this.$$search),t=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=rn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+this.$$url.substr(1)},this.$$rewrite=function(r){var o,a;return(o=sn(e,r))!==n?(a=o,(o=sn(t,o))!==n?i+(sn("/",o)||o):e+a):(o=sn(i,r))!==n?i+o:i==r+"/"?i:void 0}}function pn(e,t){var n=un(e);on(e,this,e),this.$$parse=function(i){function r(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}var o=sn(e,i)||sn(n,i),a="#"==o.charAt(0)?sn(t,o):this.$$html5?o:"";if(!E(a))throw sr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',i,t);an(a,this,e),this.$$path=r(this.$$path,a,e),this.$$compose()},this.$$compose=function(){var n=X(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){return cn(e)==cn(t)?t:void 0}}function dn(e,t){this.$$html5=!0,pn.apply(this,arguments);var n=un(e);this.$$rewrite=function(i){var r;return e==cn(i)?i:(r=sn(n,i))?e+t+r:n===i+"/"?n:void 0},this.$$compose=function(){var n=X(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=rn(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=e+t+this.$$url}}function fn(e){return function(){return this[e]}}function mn(e,t){return function(n){return v(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function gn(){var t="",n=!1;this.hashPrefix=function(e){return y(e)?(t=e,this):t},this.html5Mode=function(e){return y(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,r,o,a){function s(e){i.$broadcast("$locationChangeSuccess",c.absUrl(),e)}var c,u,l,h=r.baseHref(),p=r.url();n?(l=ln(p)+(h||"/"),u=o.history?hn:dn):(l=cn(p),u=pn),c=new u(l,"#"+t),c.$$parse(c.$$rewrite(p));var d=/^\s*(javascript|mailto):/i;a.on("click",function(n){if(!n.ctrlKey&&!n.metaKey&&2!=n.which){for(var o=bi(n.target);"a"!==di(o[0].nodeName);)if(o[0]===a[0]||!(o=o.parent())[0])return;var s=o.prop("href");if(b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Nn(s.animVal).href),!d.test(s)){if(u===dn){var h=o.attr("href")||o.attr("xlink:href");if(h&&h.indexOf("://")<0){var p="#"+t;if("/"==h[0])s=l+p+h;else if("#"==h[0])s=l+p+(c.path()||"/")+h;else{var f=c.path().split("/"),m=h.split("/");2!==f.length||f[1]||(f.length=1);for(var g=0;g<m.length;g++)"."!=m[g]&&(".."==m[g]?f.pop():m[g].length&&f.push(m[g]));s=l+p+f.join("/")}}}var v=c.$$rewrite(s);s&&!o.attr("target")&&v&&!n.isDefaultPrevented()&&(n.preventDefault(),v!=r.url()&&(c.$$parse(v),i.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}}),c.absUrl()!=p&&r.url(c.absUrl(),!0),r.onUrlChange(function(e){c.absUrl()!=e&&(i.$evalAsync(function(){var t=c.absUrl();c.$$parse(e),i.$broadcast("$locationChangeStart",e,t).defaultPrevented?(c.$$parse(t),r.url(t)):s(t)}),i.$$phase||i.$digest())});var f=0;return i.$watch(function(){var e=r.url(),t=c.$$replace;return f&&e==c.absUrl()||(f++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",c.absUrl(),e).defaultPrevented?c.$$parse(e):(r.url(c.absUrl(),t),s(e))})),c.$$replace=!1,f}),c}]}function vn(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||f,a=!1;try{a=!!r.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(i(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function yn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw ur("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function bn(e,t){if(e){if(e.constructor===e)throw ur("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw ur("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw ur("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw ur("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function En(e,t){if(e){if(e.constructor===e)throw ur("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===hr||e===pr||dr&&e===dr)throw ur("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function _n(e,t,i,r,o){bn(e,r),o=o||{};for(var a,s=t.split("."),c=0;s.length>1;c++){a=yn(s.shift(),r);var u=bn(e[a],r);u||(u={},e[a]=u),e=u,e.then&&o.unwrapPromises&&(cr(r),"$$v"in e||!function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return a=yn(s.shift(),r),bn(e[a],r),e[a]=i,i}function wn(e,t,i,r,o,a,s){return yn(e,a),yn(t,a),yn(i,a),yn(r,a),yn(o,a),s.unwrapPromises?function(s,c){var u,l=c&&c.hasOwnProperty(e)?c:s;return null==l?l:(l=l[e],l&&l.then&&(cr(a),"$$v"in l||(u=l,u.$$v=n,u.then(function(e){u.$$v=e})),l=l.$$v),t?null==l?n:(l=l[t],l&&l.then&&(cr(a),"$$v"in l||(u=l,u.$$v=n,u.then(function(e){u.$$v=e})),l=l.$$v),i?null==l?n:(l=l[i],l&&l.then&&(cr(a),"$$v"in l||(u=l,u.$$v=n,u.then(function(e){u.$$v=e})),l=l.$$v),r?null==l?n:(l=l[r],l&&l.then&&(cr(a),"$$v"in l||(u=l,u.$$v=n,u.then(function(e){u.$$v=e})),l=l.$$v),o?null==l?n:(l=l[o],l&&l.then&&(cr(a),"$$v"in l||(u=l,u.$$v=n,u.then(function(e){u.$$v=e})),l=l.$$v),l):l):l):l):l)}:function(a,s){var c=s&&s.hasOwnProperty(e)?s:a;return null==c?c:(c=c[e],t?null==c?n:(c=c[t],i?null==c?n:(c=c[i],r?null==c?n:(c=c[r],o?null==c?n:c=c[o]:c):c):c):c)}}function $n(e,t,i){if(yr.hasOwnProperty(e))return yr[e];var r,a=e.split("."),s=a.length;if(t.csp)r=6>s?wn(a[0],a[1],a[2],a[3],a[4],i,t):function(e,r){var o,c=0;do o=wn(a[c++],a[c++],a[c++],a[c++],a[c++],i,t)(e,r),r=n,e=o;while(s>c);return o};else{var c="var p;\n";o(a,function(e,n){yn(e,i),c+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"];\n'+(t.unwrapPromises?'if (s && s.then) {\n pw("'+i.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),c+="return s;";var u=new Function("s","k","pw",c);u.toString=g(c),r=t.unwrapPromises?function(e,t){return u(e,t,cr)}:u}return"hasOwnProperty"!==e&&(yr[e]=r),r}function Sn(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return y(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return y(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,i,r){return t.csp=i.csp,cr=function(e){t.logPromiseWarnings&&!lr.hasOwnProperty(e)&&(lr[e]=!0,r.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(i){var r;switch(typeof i){case"string":if(e.hasOwnProperty(i))return e[i];var o=new gr(t),a=new vr(o,n,t);return r=a.parse(i),"hasOwnProperty"!==i&&(e[i]=r),r;case"function":return i;default:return f}}}]}function Pn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return xn(function(t){e.$evalAsync(t)},t)}]}function xn(e,t){function i(e){return e}function r(e){return u(e)}function a(e){var t=s(),n=0,i=Ci(e)?[]:{};return o(e,function(e,r){n++,c(e).then(function(e){i.hasOwnProperty(r)||(i[r]=e,--n||t.resolve(i))},function(e){i.hasOwnProperty(r)||t.reject(e)})}),0===n&&t.resolve(i),t.promise}var s=function(){var o,a,u=[];return a={resolve:function(t){if(u){var i=u;u=n,o=c(t),i.length&&e(function(){for(var e,t=0,n=i.length;n>t;t++)e=i[t],o.then(e[0],e[1],e[2])})}},reject:function(e){a.resolve(l(e))},notify:function(t){if(u){var n=u;u.length&&e(function(){for(var e,i=0,r=n.length;r>i;i++)e=n[i],e[2](t)})}},promise:{then:function(e,n,a){var c=s(),l=function(n){try{c.resolve(($(e)?e:i)(n))}catch(r){c.reject(r),t(r)}},h=function(e){try{c.resolve(($(n)?n:r)(e))}catch(i){c.reject(i),t(i)}},p=function(e){try{c.notify(($(a)?a:i)(e))}catch(n){t(n)}};return u?u.push([l,h,p]):o.then(l,h,p),c.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=s();return t?n.resolve(e):n.reject(e),n.promise}function n(n,r){var o=null;try{o=(e||i)()}catch(a){return t(a,!1)}return C(o)?o.then(function(){return t(n,r)},function(e){return t(e,!1)}):t(n,r)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},c=function(t){return C(t)?t:{then:function(n){var i=s();return e(function(){i.resolve(n(t))}),i.promise}}},u=function(e){var t=s();return t.reject(e),t.promise},l=function(n){return{then:function(i,o){var a=s();return e(function(){try{a.resolve(($(o)?o:r)(n))}catch(e){a.reject(e),t(e)}}),a.promise}}},h=function(n,o,a,l){var h,p=s(),d=function(e){try{return($(o)?o:i)(e)}catch(n){return t(n),u(n)}},f=function(e){try{return($(a)?a:r)(e)}catch(n){return t(n),u(n)}},m=function(e){try{return($(l)?l:i)(e)}catch(n){t(n)}};return e(function(){c(n).then(function(e){h||(h=!0,p.resolve(c(e).then(d,f,m)))},function(e){h||(h=!0,p.resolve(f(e)))},function(e){h||p.notify(m(e))})}),p.promise};return{defer:s,reject:u,when:h,all:a}}function kn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function Tn(){var e=10,t=i("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,a,s,c){function l(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function h(e){if(v.$$phase)throw t("inprog","{0} already in progress",v.$$phase);v.$$phase=e}function p(){v.$$phase=null}function d(e,t){var n=s(e);return nt(n,t),n}function m(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function g(){}l.prototype={constructor:l,$new:function(e){var t;return e?(t=new l,t.$root=this.$root,t.$$asyncQueue=this.$$asyncQueue,t.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=u(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),t=new this.$$childScopeClass),t["this"]=t,t.$parent=this,t.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=t,this.$$childTail=t):this.$$childHead=this.$$childTail=t,t},$watch:function(e,t,i){var r=this,o=d(e,"watch"),a=r.$$watchers,s={fn:t,last:g,get:o,exp:e,eq:!!i};if(n=null,!$(t)){var c=d(t||f,"listener");s.fn=function(e,t,n){c(n)}}if("string"==typeof e&&o.constant){var u=s.fn;s.fn=function(e,t,n){u.call(this,e,t,n),R(a,s)}}return a||(a=r.$$watchers=[]),a.unshift(s),function(){R(a,s),n=null}},$watchCollection:function(e,t){function n(){o=p(u);var e,t,n;if(b(o))if(r(o)){a!==d&&(a=d,g=a.length=0,h++),e=o.length,g!==e&&(h++,a.length=g=e);for(var i=0;e>i;i++)n=a[i]!==a[i]&&o[i]!==o[i],n||a[i]===o[i]||(h++,a[i]=o[i])}else{a!==f&&(a=f={},g=0,h++),e=0;for(t in o)o.hasOwnProperty(t)&&(e++,a.hasOwnProperty(t)?(n=a[t]!==a[t]&&o[t]!==o[t],n||a[t]===o[t]||(h++,a[t]=o[t])):(g++,a[t]=o[t],h++));if(g>e){h++;for(t in a)a.hasOwnProperty(t)&&!o.hasOwnProperty(t)&&(g--,delete a[t])}}else a!==o&&(a=o,h++);return h}function i(){if(m?(m=!1,t(o,o,u)):t(o,c,u),l)if(b(o))if(r(o)){c=new Array(o.length);for(var e=0;e<o.length;e++)c[e]=o[e]}else{c={};for(var n in o)fi.call(o,n)&&(c[n]=o[n])}else c=o}var o,a,c,u=this,l=t.length>1,h=0,p=s(e),d=[],f={},m=!0,g=0;return this.$watch(n,i)},$digest:function(){var i,r,o,s,u,l,d,f,m,v,y,b=this.$$asyncQueue,E=this.$$postDigestQueue,_=e,w=this,S=[];h("$digest"),c.$$checkUrlChange(),n=null;do{for(l=!1,f=w;b.length;){try{y=b.shift(),y.scope.$eval(y.expression)}catch(P){p(),a(P)}n=null}e:do{if(s=f.$$watchers)for(u=s.length;u--;)try{if(i=s[u])if((r=i.get(f))===(o=i.last)||(i.eq?N(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))){if(i===n){l=!1;break e}}else l=!0,n=i,i.last=i.eq?O(r,null):r,i.fn(r,o===g?r:o,f),5>_&&(m=4-_,S[m]||(S[m]=[]),v=$(i.exp)?"fn: "+(i.exp.name||i.exp.toString()):i.exp,v+="; newVal: "+F(r)+"; oldVal: "+F(o),S[m].push(v))}catch(P){p(),a(P)}if(!(d=f.$$childHead||f!==w&&f.$$nextSibling))for(;f!==w&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((l||b.length)&&!_--)throw p(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,F(S))}while(l||b.length);for(p();E.length;)try{E.shift()()}catch(P){a(P)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==v&&(o(this.$$listenerCount,J(null,m,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=f,this.$on=this.$watch=function(){return f})}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){v.$$phase||v.$$asyncQueue.length||c.defer(function(){v.$$asyncQueue.length&&v.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return h("$apply"),this.$eval(e)}catch(t){a(t)}finally{p();try{v.$digest()}catch(t){throw a(t),t}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){n[M(n,t)]=null,m(r,1,e)}},$emit:function(e){var t,n,i,r=[],o=this,s=!1,c={name:e,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=L([c],arguments,1);do{for(t=o.$$listeners[e]||r,c.currentScope=o,n=0,i=t.length;i>n;n++)if(t[n])try{t[n].apply(null,u)}catch(l){a(l)}else t.splice(n,1),n--,i--;if(s)return c;o=o.$parent}while(o);return c},$broadcast:function(e){for(var t,n,i,r=this,o=r,s=r,c={name:e,targetScope:r,preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=L([c],arguments,1);o=s;){for(c.currentScope=o,t=o.$$listeners[e]||[],n=0,i=t.length;i>n;n++)if(t[n])try{t[n].apply(null,u)}catch(l){a(l)}else t.splice(n,1),n--,i--;if(!(s=o.$$listenerCount[e]&&o.$$childHead||o!==r&&o.$$nextSibling))for(;o!==r&&!(s=o.$$nextSibling);)o=o.$parent}return c}};var v=new l;return v}]}function Cn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,o=i?t:e;return yi&&!(yi>=8)||(r=Nn(n).href,""===r||r.match(o))?n:"unsafe:"+r}}}function Bn(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Un(e){if("self"===e)return e;if(E(e)){if(e.indexOf("***")>-1)throw br("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Bn(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(S(e))return new RegExp("^"+e.source+"$");throw br("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function An(e){var t=[];return y(e)&&o(e,function(e){t.push(Un(e))}),t}function Mn(){this.SCE_CONTEXTS=Er;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=An(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=An(e)),t},this.$get=["$injector",function(i){function r(e,t){return"self"===e?Ln(t):!!e.exec(t.href)}function o(n){var i,o,a=Nn(n.toString()),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function s(e,t){var i=p.hasOwnProperty(e)?p[e]:null;if(!i)throw br("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw br("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new i(t)}function c(e){return e instanceof h?e.$$unwrapTrustedValue():e}function u(e,t){if(null===t||t===n||""===t)return t;var i=p.hasOwnProperty(e)?p[e]:null;if(i&&t instanceof i)return t.$$unwrapTrustedValue();if(e===Er.RESOURCE_URL){if(o(t))return t;throw br("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Er.HTML)return l(t);throw br("unsafe","Attempting to use an unsafe value in a safe context.")}var l=function(){throw br("unsafe","Attempting to use an unsafe value in a safe context.")};i.has("$sanitize")&&(l=i.get("$sanitize"));var h=a(),p={};return p[Er.HTML]=a(h),p[Er.CSS]=a(h),p[Er.URL]=a(h),p[Er.JS]=a(h),p[Er.RESOURCE_URL]=a(p[Er.URL]),{trustAs:s,getTrusted:u,valueOf:c}}]}function Rn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,i){if(e&&n.msie&&n.msieDocumentMode<8)throw br("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");
var r=D(Er);r.isEnabled=function(){return e},r.trustAs=i.trustAs,r.getTrusted=i.getTrusted,r.valueOf=i.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=m),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:function(t,n){return r.getTrusted(e,i(t,n))}};var a=r.parseAs,s=r.getTrusted,c=r.trustAs;return o(Er,function(e,t){var n=di(t);r[ut("parse_as_"+n)]=function(t){return a(e,t)},r[ut("get_trusted_"+n)]=function(t){return s(e,t)},r[ut("trust_as_"+n)]=function(t){return c(e,t)}}),r}]}function On(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=p((/android (\d+)/.exec(di((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),s=t[0]||{},c=s.documentMode,u=/^(Moz|webkit|O|ms)(?=[A-Z])/,l=s.body&&s.body.style,h=!1,d=!1;if(l){for(var f in l)if(i=u.exec(f)){n=i[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),h=!!("transition"in l||n+"Transition"in l),d=!!("animation"in l||n+"Animation"in l),!o||h&&d||(h=E(s.body.style.webkitTransition),d=E(s.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>o||a),hashchange:"onhashchange"in e&&(!c||c>7),hasEvent:function(e){if("input"==e&&9==yi)return!1;if(v(r[e])){var t=s.createElement("div");r[e]="on"+e in t}return r[e]},csp:Ui(),vendorPrefix:n,transitions:h,animations:d,android:o,msie:yi,msieDocumentMode:c}}]}function Dn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,i){function r(r,a,s){var c,u=n.defer(),l=u.promise,h=y(s)&&!s;return c=t.defer(function(){try{u.resolve(r())}catch(t){u.reject(t),i(t)}finally{delete o[l.$$timeoutId]}h||e.$apply()},a),l.$$timeoutId=c,o[c]=u,l}var o={};return r.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},r}]}function Nn(e){var t=e;return yi&&(_r.setAttribute("href",t),t=_r.href),_r.setAttribute("href",t),{href:_r.href,protocol:_r.protocol?_r.protocol.replace(/:$/,""):"",host:_r.host,search:_r.search?_r.search.replace(/^\?/,""):"",hash:_r.hash?_r.hash.replace(/^#/,""):"",hostname:_r.hostname,port:_r.port,pathname:"/"===_r.pathname.charAt(0)?_r.pathname:"/"+_r.pathname}}function Ln(e){var t=E(e)?Nn(e):e;return t.protocol===wr.protocol&&t.host===wr.host}function In(){this.$get=g(e)}function Jn(e){function t(i,r){if(b(i)){var a={};return o(i,function(e,n){a[n]=t(n,e)}),a}return e.factory(i+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Fn),t("date",Qn),t("filter",qn),t("json",Gn),t("limitTo",Kn),t("lowercase",kr),t("number",Vn),t("orderBy",Zn),t("uppercase",Tr)}function qn(){return function(e,t,n){if(!Ci(e))return e;var i=typeof n,r=[];r.check=function(e){for(var t=0;t<r.length;t++)if(!r[t](e))return!1;return!0},"function"!==i&&(n="boolean"===i&&n?function(e,t){return ki.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var i in e)if("$"!==i.charAt(0)&&fi.call(e,i)&&n(e[i],t[i]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var o=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var i in e)if("$"!==i.charAt(0)&&o(e[i],t))return!0}return!1;case"array":for(var r=0;r<e.length;r++)if(o(e[r],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var a in t)!function(e){"undefined"!=typeof t[e]&&r.push(function(n){return o("$"==e?n:n&&n[e],t[e])})}(a);break;case"function":r.push(t);break;default:return e}for(var s=[],c=0;c<e.length;c++){var u=e[c];r.check(u)&&s.push(u)}return s}}function Fn(e){var t=e.NUMBER_FORMATS;return function(e,n){return v(n)&&(n=t.CURRENCY_SYM),Hn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Vn(e){var t=e.NUMBER_FORMATS;return function(e,n){return Hn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Hn(e,t,n,i,r){if(null==e||!isFinite(e)||b(e))return"";var o=0>e;e=Math.abs(e);var a=e+"",s="",c=[],u=!1;if(-1!==a.indexOf("e")){var l=a.match(/([\d\.]+)e(-?)(\d+)/);l&&"-"==l[2]&&l[3]>r+1?(a="0",e=0):(s=a,u=!0)}if(u)r>0&&e>-1&&1>e&&(s=e.toFixed(r));else{var h=(a.split($r)[1]||"").length;v(r)&&(r=Math.min(Math.max(t.minFrac,h),t.maxFrac)),e=+(Math.round(+(e.toString()+"e"+r)).toString()+"e"+-r),0===e&&(o=!1);var p=(""+e).split($r),d=p[0];p=p[1]||"";var f,m=0,g=t.lgSize,y=t.gSize;if(d.length>=g+y)for(m=d.length-g,f=0;m>f;f++)(m-f)%y===0&&0!==f&&(s+=n),s+=d.charAt(f);for(f=m;f<d.length;f++)(d.length-f)%g===0&&0!==f&&(s+=n),s+=d.charAt(f);for(;p.length<r;)p+="0";r&&"0"!==r&&(s+=i+p.substr(0,r))}return c.push(o?t.negPre:t.posPre),c.push(s),c.push(o?t.negSuf:t.posSuf),c.join("")}function jn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function zn(e,t,n,i){return n=n||0,function(r){var o=r["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),jn(o,t,i)}}function Wn(e,t){return function(n,i){var r=n["get"+e](),o=mi(t?"SHORT"+e:e);return i[o][r]}}function Xn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=jn(Math[t>0?"floor":"ceil"](t/60),2)+jn(Math.abs(t%60),2)}function Yn(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function Qn(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0,a=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=p(t[9]+t[10]),o=p(t[9]+t[11])),a.call(i,p(t[1]),p(t[2])-1,p(t[3]));var c=p(t[4]||0)-r,u=p(t[5]||0)-o,l=p(t[6]||0),h=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,c,u,l,h),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i){var r,a,s="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,E(n)&&(n=xr.test(n)?p(n):t(n)),_(n)&&(n=new Date(n)),!w(n))return n;for(;i;)a=Pr.exec(i),a?(c=L(c,a,1),i=c.pop()):(c.push(i),i=null);return o(c,function(t){r=Sr[t],s+=r?r(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Gn(){return function(e){return F(e,!0)}}function Kn(){return function(e,t){if(!Ci(e)&&!E(e))return e;if(t=1/0===Math.abs(Number(t))?Number(t):p(t),E(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,i,r=[];for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,i=t):(n=e.length+t,i=e.length);i>n;n++)r.push(e[n]);return r}}function Zn(e){return function(t,n,i){function o(e,t){for(var i=0;i<n.length;i++){var r=n[i](e,t);if(0!==r)return r}return 0}function a(e,t){return H(t)?function(t,n){return e(n,t)}:e}function s(e,t){var n=typeof e,i=typeof t;return n==i?(w(e)&&w(t)&&(e=e.valueOf(),t=t.valueOf()),"string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}if(!r(t))return t;if(!n)return t;n=Ci(n)?n:[n],n=U(n,function(t){var n=!1,i=t||m;if(E(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),i=e(t),i.constant)){var r=i();return a(function(e,t){return s(e[r],t[r])},n)}return a(function(e,t){return s(i(e),i(t))},n)});for(var c=[],u=0;u<t.length;u++)c.push(t[u]);return c.sort(a(o,i))}}function ei(e){return $(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function ti(e,t,n,i){function r(t,n){n=n?"-"+Z(n,"-"):"",i.setClass(e,(t?qr:Fr)+n,(t?Fr:qr)+n)}var a=this,s=e.parent().controller("form")||Ur,c=0,u=a.$error={},l=[];a.$name=t.name||t.ngForm,a.$dirty=!1,a.$pristine=!0,a.$valid=!0,a.$invalid=!1,s.$addControl(a),e.addClass(Vr),r(!0),a.$addControl=function(e){it(e.$name,"input"),l.push(e),e.$name&&(a[e.$name]=e)},a.$removeControl=function(e){e.$name&&a[e.$name]===e&&delete a[e.$name],o(u,function(t,n){a.$setValidity(n,!0,e)}),R(l,e)},a.$setValidity=function(e,t,n){var i=u[e];if(t)i&&(R(i,n),i.length||(c--,c||(r(t),a.$valid=!0,a.$invalid=!1),u[e]=!1,r(!0,e),s.$setValidity(e,!0,a)));else{if(c||r(t),i){if(A(i,n))return}else u[e]=i=[],c++,r(!1,e),s.$setValidity(e,!1,a);i.push(n),a.$valid=!1,a.$invalid=!0}},a.$setDirty=function(){i.removeClass(e,Vr),i.addClass(e,Hr),a.$dirty=!0,a.$pristine=!1,s.$setDirty()},a.$setPristine=function(){i.removeClass(e,Hr),i.addClass(e,Vr),a.$dirty=!1,a.$pristine=!0,o(l,function(e){e.$setPristine()})}}function ni(e,t,i,r){return e.$setValidity(t,i),i?r:n}function ii(e,t){var n,i;if(t)for(n=0;n<t.length;++n)if(i=t[n],e[i])return!0;return!1}function ri(e,t,n,i,r){if(b(r)){e.$$hasNativeValidators=!0;var o=function(o){return e.$error[t]||ii(r,i)||!ii(r,n)?o:void e.$setValidity(t,!1)};e.$parsers.push(o)}}function oi(e,t,n,r,o,a){var s=t.prop(pi),c=t[0].placeholder,u={},l=di(t[0].type);if(r.$$validityState=s,!o.android){var h=!1;t.on("compositionstart",function(){h=!0}),t.on("compositionend",function(){h=!1,d()})}var d=function(i){if(!h){var o=t.val();if(yi&&"input"===(i||u).type&&t[0].placeholder!==c)return void(c=t[0].placeholder);"password"!==l&&H(n.ngTrim||"T")&&(o=Bi(o));var a=s&&r.$$hasNativeValidators;(r.$viewValue!==o||""===o&&a)&&(e.$root.$$phase?r.$setViewValue(o):e.$apply(function(){r.$setViewValue(o)}))}};if(o.hasEvent("input"))t.on("input",d);else{var f,m=function(){f||(f=a.defer(function(){d(),f=null}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||m()}),o.hasEvent("paste")&&t.on("paste cut",m)}t.on("change",d),r.$render=function(){t.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)};var g,v,y=n.ngPattern;if(y){var b=function(e,t){return ni(r,"pattern",r.$isEmpty(t)||e.test(t),t)};v=y.match(/^\/(.*)\/([gim]*)$/),v?(y=new RegExp(v[1],v[2]),g=function(e){return b(y,e)}):g=function(n){var r=e.$eval(y);if(!r||!r.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",y,r,j(t));return b(r,n)},r.$formatters.push(g),r.$parsers.push(g)}if(n.ngMinlength){var E=p(n.ngMinlength),_=function(e){return ni(r,"minlength",r.$isEmpty(e)||e.length>=E,e)};r.$parsers.push(_),r.$formatters.push(_)}if(n.ngMaxlength){var w=p(n.ngMaxlength),$=function(e){return ni(r,"maxlength",r.$isEmpty(e)||e.length<=w,e)};r.$parsers.push($),r.$formatters.push($)}}function ai(e,t,i,r,o,a){if(oi(e,t,i,r,o,a),r.$parsers.push(function(e){var t=r.$isEmpty(e);return t||Nr.test(e)?(r.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(r.$setValidity("number",!1),n)}),ri(r,"number",Ir,null,r.$$validityState),r.$formatters.push(function(e){return r.$isEmpty(e)?"":""+e}),i.min){var s=function(e){var t=parseFloat(i.min);return ni(r,"min",r.$isEmpty(e)||e>=t,e)};r.$parsers.push(s),r.$formatters.push(s)}if(i.max){var c=function(e){var t=parseFloat(i.max);return ni(r,"max",r.$isEmpty(e)||t>=e,e)};r.$parsers.push(c),r.$formatters.push(c)}r.$formatters.push(function(e){return ni(r,"number",r.$isEmpty(e)||_(e),e)})}function si(e,t,n,i,r,o){oi(e,t,n,i,r,o);var a=function(e){return ni(i,"url",i.$isEmpty(e)||Or.test(e),e)};i.$formatters.push(a),i.$parsers.push(a)}function ci(e,t,n,i,r,o){oi(e,t,n,i,r,o);var a=function(e){return ni(i,"email",i.$isEmpty(e)||Dr.test(e),e)};i.$formatters.push(a),i.$parsers.push(a)}function ui(e,t,n,i){v(n.name)&&t.attr("name",u()),t.on("click",function(){t[0].checked&&e.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function li(e,t,n,i){var r=n.ngTrueValue,o=n.ngFalseValue;E(r)||(r=!0),E(o)||(o=!1),t.on("click",function(){e.$apply(function(){i.$setViewValue(t[0].checked)})}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return e!==r},i.$formatters.push(function(e){return e===r}),i.$parsers.push(function(e){return e?r:o})}function hi(e,t){return e="ngClass"+e,["$animate",function(n){function i(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r==t[o])continue e;n.push(r)}return n}function r(e){if(Ci(e))return e;if(E(e))return e.split(" ");if(b(e)){var t=[];return o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t}return e}return{restrict:"AC",link:function(a,s,c){function u(e){var t=h(e,1);c.$addClass(t)}function l(e){var t=h(e,-1);c.$removeClass(t)}function h(e,t){var n=s.data("$classCounts")||{},i=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&i.push(e))}),s.data("$classCounts",n),i.join(" ")}function p(e,t){var r=i(t,e),o=i(e,t);o=h(o,-1),r=h(r,1),0===r.length?n.removeClass(s,o):0===o.length?n.addClass(s,r):n.setClass(s,r,o)}function d(e){if(t===!0||a.$index%2===t){var n=r(e||[]);if(f){if(!N(e,f)){var i=r(f);p(i,n)}}else u(n)}f=D(e)}var f;a.$watch(c[e],d,!0),c.$observe("class",function(){d(a.$eval(c[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(c[e]));o===t?u(s):l(s)}})}}}]}var pi="validity",di=function(e){return E(e)?e.toLowerCase():e},fi=Object.prototype.hasOwnProperty,mi=function(e){return E(e)?e.toUpperCase():e},gi=function(e){return E(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},vi=function(e){return E(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(di=gi,mi=vi);var yi,bi,Ei,_i,wi,$i=[].slice,Si=[].push,Pi=Object.prototype.toString,xi=i("ng"),ki=e.angular||(e.angular={}),Ti=["0","0","0"];yi=p((/msie (\d+)/.exec(di(navigator.userAgent))||[])[1]),isNaN(yi)&&(yi=p((/trident\/.*; rv:(\d+)/.exec(di(navigator.userAgent))||[])[1])),f.$inject=[],m.$inject=[];var Ci=function(){return $(Array.isArray)?Array.isArray:function(e){return"[object Array]"===Pi.call(e)}}(),Bi=function(){return String.prototype.trim?function(e){return E(e)?e.trim():e}:function(e){return E(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();wi=9>yi?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?mi(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var Ui=function(){if(y(Ui.isActive_))return Ui.isActive_;var e=!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"));if(!e)try{new Function("")}catch(n){e=!0}return Ui.isActive_=e},Ai=/[A-Z]/g,Mi={full:"1.2.26",major:1,minor:2,dot:26,codeName:"zucchini-expansion"};ft.expando="ng339";var Ri=ft.cache={},Oi=1,Di=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},Ni=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},Li=(ft._data=function(e){return this.cache[e[this.expando]]||{}},/([\:\-\_]+(.))/g),Ii=/^moz([A-Z])/,Ji=i("jqLite"),qi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Fi=/<|&#?\w+;/,Vi=/<([\w:]+)/,Hi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ji={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ji.optgroup=ji.option,ji.tbody=ji.tfoot=ji.colgroup=ji.caption=ji.thead,ji.th=ji.td;var zi=ft.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===t.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ft(e).on("load",i))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return bi(e>=0?this[e]:this[this.length+e])},length:0,push:Si,sort:[].sort,splice:[].splice},Wi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Wi[di(e)]=e});var Xi={};o("input,select,option,textarea,button,form,details".split(","),function(e){Xi[mi(e)]=!0}),o({data:Et,removeData:yt},function(e,t){ft[t]=e}),o({data:Et,inheritedData:xt,scope:function(e){return bi.data(e,"$scope")||xt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return bi.data(e,"$isolateScope")||bi.data(e,"$isolateScopeNoTemplate")},controller:Pt,injector:function(e){return xt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:_t,css:function(e,t,i){if(t=ut(t),!y(i)){var r;return 8>=yi&&(r=e.currentStyle&&e.currentStyle[t],""===r&&(r="auto")),r=r||e.style[t],8>=yi&&(r=""===r?n:r),r}e.style[t]=i},attr:function(e,t,i){var r=di(t);if(Wi[r]){if(!y(i))return e[t]||(e.attributes.getNamedItem(t)||f).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(y(i))e.setAttribute(t,i);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,n){var i=t[e.nodeType];return v(n)?i?e[i]:"":void(e[i]=n)}var t=[];return 9>yi?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(v(t)){if("SELECT"===wi(e)&&e.multiple){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(v(t))return e.innerHTML;for(var n=0,i=e.childNodes;n<i.length;n++)gt(i[n]);e.innerHTML=t},empty:kt},function(e,t){ft.prototype[t]=function(t,i){var r,o,a=this.length;if(e!==kt&&(2==e.length&&e!==_t&&e!==Pt?t:i)===n){if(b(t)){for(r=0;a>r;r++)if(e===Et)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}for(var s=e.$dv,c=s===n?Math.min(a,1):a,u=0;c>u;u++){var l=e(this[u],t,i);s=s?s+l:l}return s}for(r=0;a>r;r++)e(this[r],t,i);return this}}),o({removeData:yt,dealoc:gt,on:function Co(e,n,i,r){if(y(r))throw Ji("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var a=bt(e,"events"),s=bt(e,"handle");a||bt(e,"events",a={}),s||bt(e,"handle",s=Ct(e,a)),o(n.split(" "),function(n){var r=a[n];if(!r){if("mouseenter"==n||"mouseleave"==n){var o=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};a[n]=[];var c={mouseleave:"mouseout",mouseenter:"mouseover"};Co(e,c[n],function(e){var t=this,i=e.relatedTarget;(!i||i!==t&&!o(t,i))&&s(e,n)})}else Di(e,n,s),a[n]=[];r=a[n]}r.push(i)})},off:vt,one:function(e,t,n){e=bi(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;gt(e),o(new ft(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){o(new ft(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;o(new ft(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=bi(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){gt(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,i=e.parentNode;o(new ft(t),function(e){i.insertBefore(e,n.nextSibling),n=e})},addClass:$t,removeClass:wt,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;v(i)&&(i=!_t(e,t)),(i?$t:wt)(e,t)})},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:mt,triggerHandler:function(e,t,n){var i,r,a,s=t.type||t,c=(bt(e,"events")||{})[s];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopPropagation:f,type:s,target:e},t.type&&(i=h(i,t)),r=D(c),a=n?[i].concat(n):[i],o(r,function(t){t.apply(e,a)}))}},function(e,t){ft.prototype[t]=function(t,n,i){for(var r,o=0;o<this.length;o++)v(r)?(r=e(this[o],t,n,i),y(r)&&(r=bi(r))):St(r,e(this[o],t,n,i));return y(r)?r:this},ft.prototype.bind=ft.prototype.on,ft.prototype.unbind=ft.prototype.off}),Ut.prototype={put:function(e,t){this[Bt(e,this.nextUid)]=t},get:function(e){return this[Bt(e,this.nextUid)]},remove:function(e){var t=this[e=Bt(e,this.nextUid)];return delete this[e],t}};var Yi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Qi=/,/,Gi=/^\s*(_?)(\S+?)\1\s*$/,Ki=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Zi=i("$injector"),er=i("$animate"),tr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var i=t+"-animation";if(t&&"."!=t.charAt(0))throw er("notcsel","Expecting class selector starting with '.' got '{0}'.",t);this.$$selectors[t.substr(1)]=i,e.factory(i,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){function n(e){e&&t(e)}return{enter:function(e,t,i,r){i?i.after(e):(t&&t[0]||(t=i.parent()),t.append(e)),n(r)},leave:function(e,t){e.remove(),n(t)},move:function(e,t,n,i){this.enter(e,t,n,i)},addClass:function(e,t,i){t=E(t)?t:Ci(t)?t.join(" "):"",o(e,function(e){$t(e,t)}),n(i)},removeClass:function(e,t,i){t=E(t)?t:Ci(t)?t.join(" "):"",o(e,function(e){wt(e,t)}),n(i)},setClass:function(e,t,i,r){o(e,function(e){$t(e,t),wt(e,i)}),n(r)},enabled:f}}]}],nr=i("$compile");Jt.$inject=["$provide","$$sanitizeUriProvider"];var ir=/^(x[\:\-_]|data[\:\-_])/i,rr=i("$interpolate"),or=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ar={http:80,https:443,ftp:21},sr=i("$location");dn.prototype=pn.prototype=hn.prototype={$$html5:!1,$$replace:!1,absUrl:fn("$$absUrl"),url:function(e){if(v(e))return this.$$url;var t=or.exec(e);return t[1]&&this.path(decodeURIComponent(t[1])),(t[2]||t[1])&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:fn("$$protocol"),host:fn("$$host"),port:fn("$$port"),path:mn("$$path",function(e){return e=e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(E(e)||_(e))e=e.toString(),this.$$search=W(e);else{if(!b(e))throw sr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:v(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:mn("$$hash",function(e){return e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};var cr,ur=i("$parse"),lr={},hr=Function.prototype.call,pr=Function.prototype.apply,dr=Function.prototype.bind,fr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:f,"+":function(e,t,i,r){return i=i(e,t),r=r(e,t),y(i)?y(r)?i+r:i:y(r)?r:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(y(n)?n:0)-(y(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"^":function(e,t,n,i){return n(e,t)^i(e,t)},"=":f,"===":function(e,t,n,i){return n(e,t)===i(e,t)},"!==":function(e,t,n,i){return n(e,t)!==i(e,t)},"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"&":function(e,t,n,i){return n(e,t)&i(e,t)},"|":function(e,t,n,i){return i(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},mr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},gr=function(e){this.options=e};gr.prototype={constructor:gr,lex:function(e){for(this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var t=this.ch+this.peek(),i=t+this.peek(2),r=fr[this.ch],o=fr[t],a=fr[i];a?(this.tokens.push({index:this.index,text:i,fn:a}),this.index+=3):o?(this.tokens.push({index:this.index,text:t,fn:o}),this.index+=2):r?(this.tokens.push({index:this.index,text:this.ch,fn:r}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||" "===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw ur("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=di(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e=1*e,this.tokens.push({index:t,text:e,literal:!0,constant:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,i,r=this,o="",a=this.index;this.index<this.text.length&&(i=this.text.charAt(this.index),"."===i||this.isIdent(i)||this.isNumber(i));)"."===i&&(e=this.index),o+=i,this.index++;if(e)for(t=this.index;t<this.text.length;){if(i=this.text.charAt(t),"("===i){n=o.substr(e-a+1),o=o.substr(0,e-a),this.index=t;break}if(!this.isWhitespace(i))break;t++}var s={index:a,text:o};if(fr.hasOwnProperty(o))s.fn=fr[o],s.literal=!0,s.constant=!0;else{var c=$n(o,this.options,this.text);s.fn=h(function(e,t){return c(e,t)},{assign:function(e,t){return _n(e,o,t,r.text,r.options)}})}this.tokens.push(s),n&&(this.tokens.push({index:e,text:"."}),this.tokens.push({index:e+1,text:n}))},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=mr[o];n+=s||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,string:n,literal:!0,constant:!0,fn:function(){return n}});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var vr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};vr.ZERO=h(function(){return 0},{constant:!0}),vr.prototype={constructor:vr,parse:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t.literal=!!t.literal,t.constant=!!t.constant,t},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();e=t.fn,e||this.throwError("not a primary expression",t),e.literal=!!t.literal,e.constant=!!t.constant}for(var n,i;n=this.expect("(","[",".");)"("===n.text?(e=this.functionCall(e,i),i=null):"["===n.text?(i=e,e=this.objectIndex(e)):"."===n.text?(i=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw ur("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw ur("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){if(this.tokens.length>0){var r=this.tokens[0],o=r.text;if(o===e||o===t||o===n||o===i||!e&&!t&&!n&&!i)return r}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return r?(this.tokens.shift(),r):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return h(function(n,i){return e(n,i,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return h(function(i,r){return e(i,r)?t(i,r):n(i,r)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return h(function(i,r){return t(i,r,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var i,r=0;r<e.length;r++){var o=e[r];o&&(i=o(t,n))}return i}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var i=function(e,i,r){for(var o=[r],a=0;a<n.length;a++)o.push(n[a](e,i));return t.apply(e,o)};return function(){return i}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,i){return n.assign(t,e(t,i),i)}):n},ternary:function(){var e,t,n=this.logicalOR();return(t=this.expect("?"))?(e=this.assignment(),(t=this.expect(":"))?this.ternaryFn(n,e,this.assignment()):void this.throwError("expected :",t)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(vr.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,i=$n(n,this.options,this.text);return h(function(t,n,r){return i(r||e(t,n))},{assign:function(i,r,o){var a=e(i,o);return a||e.assign(i,a={}),_n(a,n,r,t.text,t.options)}})},objectIndex:function(e){var t=this,i=this.expression();return this.consume("]"),h(function(r,o){var a,s,c=e(r,o),u=i(r,o);return yn(u,t.text),c?(a=bn(c[u],t.text),a&&a.then&&t.options.unwrapPromises&&(s=a,"$$v"in a||(s.$$v=n,s.then(function(e){s.$$v=e})),a=a.$$v),a):n},{assign:function(n,r,o){var a=yn(i(n,o),t.text),s=bn(e(n,o),t.text);return s||e.assign(n,s={}),s[a]=r}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var i=this;return function(r,o){for(var a=[],s=t?t(r,o):r,c=0;c<n.length;c++)a.push(bn(n[c](r,o),i.text));var u=e(r,o,s)||f;bn(s,i.text),En(u,i.text);var l=u.apply?u.apply(s,a):u(a[0],a[1],a[2],a[3],a[4]);return bn(l,i.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;
var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),h(function(t,n){for(var i=[],r=0;r<e.length;r++)i.push(e[r](t,n));return i},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),i=n.string||n.text;this.consume(":");var r=this.expression();e.push({key:i,value:r}),r.constant||(t=!1)}while(this.expect(","));return this.consume("}"),h(function(t,n){for(var i={},r=0;r<e.length;r++){var o=e[r];i[o.key]=o.value(t,n)}return i},{literal:!0,constant:t})}};var yr={},br=i("$sce"),Er={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},_r=t.createElement("a"),wr=Nn(e.location.href,!0);Jn.$inject=["$provide"],Fn.$inject=["$locale"],Vn.$inject=["$locale"];var $r=".",Sr={yyyy:zn("FullYear",4),yy:zn("FullYear",2,0,!0),y:zn("FullYear",1),MMMM:Wn("Month"),MMM:Wn("Month",!0),MM:zn("Month",2,1),M:zn("Month",1,1),dd:zn("Date",2),d:zn("Date",1),HH:zn("Hours",2),H:zn("Hours",1),hh:zn("Hours",2,-12),h:zn("Hours",1,-12),mm:zn("Minutes",2),m:zn("Minutes",1),ss:zn("Seconds",2),s:zn("Seconds",1),sss:zn("Milliseconds",3),EEEE:Wn("Day"),EEE:Wn("Day",!0),a:Yn,Z:Xn},Pr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,xr=/^\-?\d+$/;Qn.$inject=["$locale"];var kr=g(di),Tr=g(mi);Zn.$inject=["$parse"];var Cr=g({restrict:"E",compile:function(e,n){return 8>=yi&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),n.href||n.xlinkHref||n.name?void 0:function(e,t){var n="[object SVGAnimatedString]"===Pi.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),Br={};o(Wi,function(e,t){if("multiple"!=e){var n=qt("ng-"+t);Br[n]=function(){return{priority:100,link:function(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}}}}),o(["src","srcset","href"],function(e){var t=qt("ng-"+e);Br[t]=function(){return{priority:99,link:function(n,i,r){var o=e,a=e;"href"===e&&"[object SVGAnimatedString]"===Pi.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(t,function(t){return t?(r.$set(a,t),void(yi&&o&&i.prop(o,r[a]))):void("href"===e&&r.$set(a,null))})}}}});var Ur={$addControl:f,$removeControl:f,$setValidity:f,$setDirty:f,$setPristine:f};ti.$inject=["$element","$attrs","$scope","$animate"];var Ar=function(e){return["$timeout",function(t){var i={name:"form",restrict:e?"EAC":"E",controller:ti,compile:function(){return{pre:function(e,i,r,o){if(!r.action){var a=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};Di(i[0],"submit",a),i.on("$destroy",function(){t(function(){Ni(i[0],"submit",a)},0,!1)})}var s=i.parent().controller("form"),c=r.name||r.ngForm;c&&_n(e,c,o,c),s&&i.on("$destroy",function(){s.$removeControl(o),c&&_n(e,c,n,c),h(o,Ur)})}}}};return i}]},Mr=Ar(),Rr=Ar(!0),Or=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Dr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Nr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Lr={text:oi,number:ai,url:si,email:ci,radio:ui,checkbox:li,hidden:f,button:f,submit:f,reset:f,file:f},Ir=["badInput"],Jr=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,i,r,o){o&&(Lr[di(r.type)]||Lr.text)(n,i,r,o,t,e)}}}],qr="ng-valid",Fr="ng-invalid",Vr="ng-pristine",Hr="ng-dirty",jr=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,r,a,s){function c(e,t){t=t?"-"+Z(t,"-"):"",s.removeClass(r,(e?Fr:qr)+t),s.addClass(r,(e?qr:Fr)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var u=a(n.ngModel),l=u.assign;if(!l)throw i("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,j(r));this.$render=f,this.$isEmpty=function(e){return v(e)||""===e||null===e||e!==e};var h=r.inheritedData("$formController")||Ur,p=0,d=this.$error={};r.addClass(Vr),c(!0),this.$setValidity=function(e,t){d[e]!==!t&&(t?(d[e]&&p--,p||(c(!0),this.$valid=!0,this.$invalid=!1)):(c(!1),this.$invalid=!0,this.$valid=!1,p++),d[e]=!t,c(t,e),h.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,s.removeClass(r,Hr),s.addClass(r,Vr)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,s.removeClass(r,Vr),s.addClass(r,Hr),h.$setDirty()),o(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,l(e,n),o(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var m=this;e.$watch(function(){var t=u(e);if(m.$modelValue!==t){var n=m.$formatters,i=n.length;for(m.$modelValue=t;i--;)t=n[i](t);m.$viewValue!==t&&(m.$viewValue=t,m.$render())}return t})}],zr=function(){return{require:["ngModel","^?form"],controller:jr,link:function(e,t,n,i){var r=i[0],o=i[1]||Ur;o.$addControl(r),e.$on("$destroy",function(){o.$removeControl(r)})}}},Wr=g({require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Xr=function(){return{require:"?ngModel",link:function(e,t,n,i){if(i){n.required=!0;var r=function(e){return n.required&&i.$isEmpty(e)?void i.$setValidity("required",!1):(i.$setValidity("required",!0),e)};i.$formatters.push(r),i.$parsers.unshift(r),n.$observe("required",function(){r(i.$viewValue)})}}}},Yr=function(){return{require:"ngModel",link:function(e,t,i,r){var a=/\/(.*)\//.exec(i.ngList),s=a&&new RegExp(a[1])||i.ngList||",",c=function(e){if(!v(e)){var t=[];return e&&o(e.split(s),function(e){e&&t.push(Bi(e))}),t}};r.$parsers.push(c),r.$formatters.push(function(e){return Ci(e)?e.join(", "):n}),r.$isEmpty=function(e){return!e||!e.length}}}},Qr=/^(true|false|\d+)$/,Gr=function(){return{priority:100,compile:function(e,t){return Qr.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Kr=ei({compile:function(e){return e.addClass("ng-binding"),function(e,t,i){t.data("$binding",i.ngBind),e.$watch(i.ngBind,function(e){t.text(e==n?"":e)})}}}),Zr=["$interpolate",function(e){return function(t,n,i){var r=e(n.attr(i.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",r),i.$observe("ngBindTemplate",function(e){n.text(e)})}}],eo=["$sce","$parse",function(e,t){return{compile:function(n){return n.addClass("ng-binding"),function(n,i,r){function o(){return(a(n)||"").toString()}i.data("$binding",r.ngBindHtml);var a=t(r.ngBindHtml);n.$watch(o,function(){i.html(e.getTrustedHtml(a(n))||"")})}}}}],to=hi("",!0),no=hi("Odd",0),io=hi("Even",1),ro=ei({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),oo=[function(){return{scope:!0,controller:"@",priority:500}}],ao={},so={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=qt("ng-"+e);ao[t]=["$parse","$rootScope",function(n,i){return{compile:function(r,o){var a=n(o[t]);return function(t,n){n.on(e,function(n){var r=function(){a(t,{$event:n})};so[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var co=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,c,u;n.$watch(r.ngIf,function(o){H(o)?c||(c=n.$new(),a(c,function(n){n[n.length++]=t.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},e.enter(n,i.parent(),i)})):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),s&&(u=ot(s.clone),e.leave(u,function(){u=null}),s=null))})}}}],uo=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,i,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ki.noop,compile:function(o,a){var s=a.ngInclude||a.src,c=a.onload||"",u=a.autoscroll;return function(o,a,l,h,p){var d,f,m,g=0,v=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),m&&(i.leave(m,function(){f=null}),f=m,m=null)};o.$watch(r.parseAsResourceUrl(s),function(r){var s=function(){!y(u)||u&&!o.$eval(u)||n()},l=++g;r?(e.get(r,{cache:t}).success(function(e){if(l===g){var t=o.$new();h.template=e;var n=p(t,function(e){v(),i.enter(e,null,a,s)});d=t,m=n,d.$emit("$includeContentLoaded"),o.$eval(c)}}).error(function(){l===g&&v()}),o.$emit("$includeContentRequested")):(v(),h.template=null)})}}}}],lo=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,i,r){n.html(r.template),e(n.contents())(t)}}}],ho=ei({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),po=ei({terminal:!0,priority:1e3}),fo=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(i,r,a){var s=a.count,c=a.$attr.when&&r.attr(a.$attr.when),u=a.offset||0,l=i.$eval(c)||{},h={},p=t.startSymbol(),d=t.endSymbol(),f=/^when(Minus)?(.+)$/;o(a,function(e,t){f.test(t)&&(l[di(t.replace("when","").replace("Minus","-"))]=r.attr(a.$attr[t]))}),o(l,function(e,i){h[i]=t(e.replace(n,p+s+"-"+u+d))}),i.$watch(function(){var t=parseFloat(i.$eval(s));return isNaN(t)?"":(t in l||(t=e.pluralCat(t-u)),h[t](i,r,!0))},function(e){r.text(e)})}}}],mo=["$parse","$animate",function(e,n){function a(e){return e.clone[0]}function s(e){return e.clone[e.clone.length-1]}var c="$$NG_REMOVED",u=i("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(i,l,h,p,d){var f,m,g,v,y,b,E,_,w,$=h.ngRepeat,S=$.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),P={$id:Bt};if(!S)throw u("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",$);if(b=S[1],E=S[2],f=S[3],f?(m=e(f),g=function(e,t,n){return w&&(P[w]=e),P[_]=t,P.$index=n,m(i,P)}):(v=function(e,t){return Bt(t)},y=function(e){return e}),S=b.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!S)throw u("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",b);_=S[3]||S[1],w=S[2];var x={};i.$watchCollection(E,function(e){var h,p,f,m,b,E,S,P,k,T,C,B,U=l[0],A={},M=[];if(r(e))T=e,k=g||v;else{k=g||y,T=[];for(E in e)e.hasOwnProperty(E)&&"$"!=E.charAt(0)&&T.push(E);T.sort()}for(m=T.length,p=M.length=T.length,h=0;p>h;h++)if(E=e===T?h:T[h],S=e[E],P=k(E,S,h),it(P,"`track by` id"),x.hasOwnProperty(P))C=x[P],delete x[P],A[P]=C,M[h]=C;else{if(A.hasOwnProperty(P))throw o(M,function(e){e&&e.scope&&(x[e.id]=e)}),u("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",$,P,F(S));M[h]={id:P},A[P]=!1}for(E in x)x.hasOwnProperty(E)&&(C=x[E],B=ot(C.clone),n.leave(B),o(B,function(e){e[c]=!0}),C.scope.$destroy());for(h=0,p=T.length;p>h;h++){if(E=e===T?h:T[h],S=e[E],C=M[h],M[h-1]&&(U=s(M[h-1])),C.scope){b=C.scope,f=U;do f=f.nextSibling;while(f&&f[c]);a(C)!=f&&n.move(ot(C.clone),null,bi(U)),U=s(C)}else b=i.$new();b[_]=S,w&&(b[w]=E),b.$index=h,b.$first=0===h,b.$last=h===m-1,b.$middle=!(b.$first||b.$last),b.$odd=!(b.$even=0===(1&h)),C.scope||d(b,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+$+" "),n.enter(e,null,bi(U)),U=e,C.scope=b,C.clone=e,A[C.id]=C})}x=A})}}}],go=["$animate",function(e){return function(t,n,i){t.$watch(i.ngShow,function(t){e[H(t)?"removeClass":"addClass"](n,"ng-hide")})}}],vo=["$animate",function(e){return function(t,n,i){t.$watch(i.ngHide,function(t){e[H(t)?"addClass":"removeClass"](n,"ng-hide")})}}],yo=ei(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),bo=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,i,r){var a=i.ngSwitch||i.on,s=[],c=[],u=[],l=[];t.$watch(a,function(n){var a,h;for(a=0,h=u.length;h>a;++a)u[a].remove();for(u.length=0,a=0,h=l.length;h>a;++a){var p=c[a];l[a].$destroy(),u[a]=p,e.leave(p,function(){u.splice(a,1)})}c.length=0,l.length=0,(s=r.cases["!"+n]||r.cases["?"])&&(t.$eval(i.change),o(s,function(n){var i=t.$new();l.push(i),n.transclude(i,function(t){var i=n.element;c.push(t),e.enter(t,i.parent(),i)})}))})}}}],Eo=ei({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:t})}}),_o=ei({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),wo=ei({link:function(e,t,n,r,o){if(!o)throw i("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",j(t));o(function(e){t.empty(),t.append(e)})}}),$o=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],So=i("ngOptions"),Po=g({terminal:!0}),xo=["$compile","$parse",function(e,i){var r=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:f};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,r,o=this,a={},c=s;o.databound=n.ngModel,o.init=function(e,t,n){c=e,i=t,r=n},o.addOption=function(t){it(t,'"option value"'),a[t]=!0,c.$viewValue==t&&(e.val(t),r.parent()&&r.remove())},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],c.$viewValue==e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+Bt(t)+" ?";r.val(n),e.prepend(r),e.val(n),r.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=f})}],link:function(s,c,u,l){function h(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(S.parent()&&S.remove(),t.val(e),""===e&&f.prop("selected",!0)):v(e)&&f?t.val(""):i.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){S.parent()&&S.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var i;n.$render=function(){var e=new Ut(n.$viewValue);o(t.find("option"),function(t){t.selected=y(e.get(t.value))})},e.$watch(function(){N(i,n.$viewValue)||(i=D(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];o(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function d(t,o,s){function c(){var e=!1;if(b){var n=s.$modelValue;if(P&&Ci(n)){e=new Ut([]);for(var i={},r=0;r<n.length;r++)i[p]=n[r],e.put(P(t,i),n[r])}else e=new Ut(n)}return e}function u(){var e,n,i,r,u,l,E,S,k,T,C,B,U,A,M,R={"":[]},O=[""],D=s.$modelValue,N=v(t)||[],L=d?a(N):N,I={},J=c();for(C=0;k=L.length,k>C;C++){if(E=C,d){if(E=L[C],"$"===E.charAt(0))continue;I[d]=E}if(I[p]=N[E],e=f(t,I)||"",(n=R[e])||(n=R[e]=[],O.push(e)),b)B=y(J.remove(P?P(t,I):g(t,I)));else{if(P){var q={};q[p]=D,B=P(t,q)===P(t,I)}else B=D===g(t,I);J=J||B}M=h(t,I),M=y(M)?M:"",n.push({id:P?P(t,I):d?L[C]:C,label:M,selected:B})}for(b||(_||null===D?R[""].unshift({id:"",label:"",selected:!J}):J||R[""].unshift({id:"?",label:"",selected:!0})),T=0,S=O.length;S>T;T++){for(e=O[T],n=R[e],x.length<=T?(r={element:$.clone().attr("label",e),label:n.label},u=[r],x.push(u),o.append(r.element)):(u=x[T],r=u[0],r.label!=e&&r.element.attr("label",r.label=e)),U=null,C=0,k=n.length;k>C;C++)i=n[C],(l=u[C+1])?(U=l.element,l.label!==i.label&&U.text(l.label=i.label),l.id!==i.id&&U.val(l.id=i.id),U[0].selected!==i.selected&&(U.prop("selected",l.selected=i.selected),yi&&U.prop("selected",l.selected))):(""===i.id&&_?A=_:(A=w.clone()).val(i.id).prop("selected",i.selected).attr("selected",i.selected).text(i.label),u.push(l={element:A,label:i.label,id:i.id,selected:i.selected}),m.addOption(i.label,A),U?U.after(A):r.element.append(A),U=A);for(C++;u.length>C;)i=u.pop(),m.removeOption(i.label),i.element.remove()}for(;x.length>T;)x.pop()[0].element.remove()}var l;if(!(l=E.match(r)))throw So("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",E,j(o));var h=i(l[2]||l[1]),p=l[4]||l[6],d=l[5],f=i(l[3]||""),g=i(l[2]?l[1]:p),v=i(l[7]),S=l[8],P=S?i(l[8]):null,x=[[{element:o,label:""}]];_&&(e(_)(t),_.removeClass("ng-scope"),_.remove()),o.empty(),o.on("change",function(){t.$apply(function(){var e,i,r,a,c,l,h,f,m,y=v(t)||[],E={};if(b){for(r=[],l=0,f=x.length;f>l;l++)for(e=x[l],c=1,h=e.length;h>c;c++)if((a=e[c].element)[0].selected){if(i=a.val(),d&&(E[d]=i),P)for(m=0;m<y.length&&(E[p]=y[m],P(t,E)!=i);m++);else E[p]=y[i];r.push(g(t,E))}}else if(i=o.val(),"?"==i)r=n;else if(""===i)r=null;else if(P){for(m=0;m<y.length;m++)if(E[p]=y[m],P(t,E)==i){r=g(t,E);break}}else E[p]=y[i],d&&(E[d]=i),r=g(t,E);s.$setViewValue(r),u()})}),s.$render=u,t.$watchCollection(v,u),t.$watchCollection(function(){var e={},n=v(t);if(n){for(var i=new Array(n.length),r=0,o=n.length;o>r;r++)e[p]=n[r],i[r]=h(t,e);return i}},u),b&&t.$watchCollection(function(){return s.$modelValue},u)}if(l[1]){for(var f,m=l[0],g=l[1],b=u.multiple,E=u.ngOptions,_=!1,w=bi(t.createElement("option")),$=bi(t.createElement("optgroup")),S=w.clone(),P=0,x=c.children(),k=x.length;k>P;P++)if(""===x[P].value){f=_=x.eq(P);break}m.init(g,_,S),b&&(g.$isEmpty=function(e){return!e||0===e.length}),E?d(s,c,g):b?p(s,c,g):h(s,c,g,m)}}}}],ko=["$interpolate",function(e){var t={addOption:f,removeOption:f};return{restrict:"E",priority:100,compile:function(n,i){if(v(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound?n.prop("selected",!1):s=t,r?e.$watch(r,function(e,t){i.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(i.value),n.on("$destroy",function(){s.removeOption(i.value)})}}}}],To=g({restrict:"E",terminal:!0});return e.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(et(),st(ki),void bi(t).ready(function(){G(t,K)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var o=new this;e=!1;for(var a in n)o[a]="function"==typeof n[a]&&"function"==typeof r[a]&&t.test(n[a])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(a,n[a]):n[a];return i.prototype=o,i.prototype.constructor=i,i.extend=arguments.callee,i}}();var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){"use strict";return deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,i,r,o,a=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(o=e.changedTouches[0],a=document.elementFromPoint(o.pageX-window.pageXOffset,o.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=a.tagName.toLowerCase(),"label"===i){if(t=this.findControl(a)){if(this.focus(a),deviceIsAndroid)return!1;a=t}}else if(this.needsFocus(a))return e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(a),this.sendClick(a,e),deviceIsIOS4&&"select"===i||(this.targetElement=null,e.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(r=a.fastClickScrollParent,r&&r.fastClickLastScrollTop!==r.scrollTop)?!0:(this.needsClick(a)||(e.preventDefault(),this.sendClick(a,e)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction?!0:!1},FastClick.attach=function(e){"use strict";return new FastClick(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(e,t){"use strict";function n(){i.READY||(i.event.determineEventTypes(),i.utils.each(i.gestures,function(e){i.detection.register(e)}),i.event.onTouch(i.DOCUMENT,i.EVENT_MOVE,i.detection.detect),i.event.onTouch(i.DOCUMENT,i.EVENT_END,i.detection.detect),i.READY=!0)}var i=function(e,t){return new i.Instance(e,t||{})};i.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},i.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,i.HAS_TOUCHEVENTS="ontouchstart"in e,i.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,i.NO_MOUSEEVENTS=i.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(i.MOBILE_REGEX),i.EVENT_TYPES={},i.DIRECTION_DOWN="down",i.DIRECTION_LEFT="left",i.DIRECTION_UP="up",i.DIRECTION_RIGHT="right",i.POINTER_MOUSE="mouse",i.POINTER_TOUCH="touch",i.POINTER_PEN="pen",i.EVENT_START="start",i.EVENT_MOVE="move",i.EVENT_END="end",i.DOCUMENT=e.document,i.plugins=i.plugins||{},i.gestures=i.gestures||{},i.READY=!1,i.utils={extend:function(e,n,i){for(var r in n)e[r]!==t&&i||(e[r]=n[r]);return e},each:function(e,n,i){var r,o;if("forEach"in e)e.forEach(n,i);else if(e.length!==t){for(r=0,o=e.length;o>r;r++)if(n.call(i,e[r],r,e)===!1)return}else for(r in e)if(e.hasOwnProperty(r)&&n.call(i,e[r],r,e)===!1)return},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],n=[];return i.utils.each(e,function(e){t.push("undefined"!=typeof e.clientX?e.clientX:e.pageX),n.push("undefined"!=typeof e.clientY?e.clientY:e.pageY)}),{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,n)+Math.max.apply(Math,n))/2}},getVelocity:function(e,t,n){return{x:Math.abs(t/e)||0,y:Math.abs(n/e)||0}},getAngle:function(e,t){var n=t.pageY-e.pageY,i=t.pageX-e.pageX;return 180*Math.atan2(n,i)/Math.PI},getDirection:function(e,t){var n=Math.abs(e.pageX-t.pageX),r=Math.abs(e.pageY-t.pageY);return n>=r?e.pageX-t.pageX>0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT:e.pageY-t.pageY>0?i.DIRECTION_UP:i.DIRECTION_DOWN},getDistance:function(e,t){var n=t.pageX-e.pageX,i=t.pageY-e.pageY;return Math.sqrt(n*n+i*i)},getScale:function(e,t){return e.length>=2&&t.length>=2?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return e.length>=2&&t.length>=2?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==i.DIRECTION_UP||e==i.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(e,t){t&&e&&e.style&&(i.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(n){i.utils.each(t,function(t){n&&(t=n+t.substring(0,1).toUpperCase()+t.substring(1)),t in e.style&&(e.style[t]=t)})}),"none"==t.userSelect&&(e.onselectstart=function(){return!1}),"none"==t.userDrag&&(e.ondragstart=function(){return!1}))}},i.Instance=function(e,t){var r=this;return n(),this.element=e,this.enabled=!0,this.options=i.utils.extend(i.utils.extend({},i.defaults),t||{}),this.options.stop_browser_behavior&&i.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),i.event.onTouch(e,i.EVENT_START,function(e){r.enabled&&i.detection.startDetect(r,e)}),this},i.Instance.prototype={on:function(e,t){var n=e.split(" ");return i.utils.each(n,function(e){this.element.addEventListener(e,t,!1)},this),this},off:function(e,t){var n=e.split(" ");return i.utils.each(n,function(e){this.element.removeEventListener(e,t,!1)},this),this},trigger:function(e,t){t||(t={});var n=i.DOCUMENT.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t;var r=this.element;return i.utils.hasParent(t.target,r)&&(r=t.target),r.dispatchEvent(n),this},enable:function(e){return this.enabled=e,this}};var r=null,o=!1,a=!1;i.event={bindDom:function(e,t,n){var r=t.split(" ");i.utils.each(r,function(t){e.addEventListener(t,n,!1)})},onTouch:function(e,t,n){var s=this;this.bindDom(e,i.EVENT_TYPES[t],function(c){var u=c.type.toLowerCase();if(!u.match(/mouse/)||!a){u.match(/touch/)||u.match(/pointerdown/)||u.match(/mouse/)&&1===c.which?o=!0:u.match(/mouse/)&&!c.which&&(o=!1),u.match(/touch|pointer/)&&(a=!0);var l=0;o&&(i.HAS_POINTEREVENTS&&t!=i.EVENT_END?l=i.PointerEvent.updatePointer(t,c):u.match(/touch/)?l=c.touches.length:a||(l=u.match(/up/)?0:1),l>0&&t==i.EVENT_END?t=i.EVENT_MOVE:l||(t=i.EVENT_END),(l||null===r)&&(r=c),n.call(i.detection,s.collectEventData(e,t,s.getTouchList(r,t),c)),i.HAS_POINTEREVENTS&&t==i.EVENT_END&&(l=i.PointerEvent.updatePointer(t,c))),l||(r=null,o=!1,a=!1,i.PointerEvent.reset())}})},determineEventTypes:function(){var e;e=i.HAS_POINTEREVENTS?i.PointerEvent.getEvents():i.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],i.EVENT_TYPES[i.EVENT_START]=e[0],i.EVENT_TYPES[i.EVENT_MOVE]=e[1],i.EVENT_TYPES[i.EVENT_END]=e[2]},getTouchList:function(e){return i.HAS_POINTEREVENTS?i.PointerEvent.getTouchList():e.touches?e.touches:(e.identifier=1,[e])},collectEventData:function(e,t,n,r){var o=i.POINTER_TOUCH;return(r.type.match(/mouse/)||i.PointerEvent.matchType(i.POINTER_MOUSE,r))&&(o=i.POINTER_MOUSE),{center:i.utils.getCenter(n),timeStamp:(new Date).getTime(),target:r.target,touches:n,eventType:t,pointerType:o,srcEvent:r,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return i.detection.stopDetect()}}}},i.PointerEvent={pointers:{},getTouchList:function(){var e=this,t=[];return i.utils.each(e.pointers,function(e){t.push(e)}),t},updatePointer:function(e,t){return e==i.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var n=t.pointerType,r={};return r[i.POINTER_MOUSE]=n===t.MSPOINTER_TYPE_MOUSE||n===i.POINTER_MOUSE,r[i.POINTER_TOUCH]=n===t.MSPOINTER_TYPE_TOUCH||n===i.POINTER_TOUCH,r[i.POINTER_PEN]=n===t.MSPOINTER_TYPE_PEN||n===i.POINTER_PEN,r[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},i.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:i.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(e){if(this.current&&!this.stopped){e=this.extendEventData(e);var t=this.current.inst.options;return i.utils.each(this.gestures,function(n){return this.stopped||t[n.name]===!1||n.handler.call(n,e,this.current.inst)!==!1?void 0:(this.stopDetect(),!1)
},this),this.current&&(this.current.lastEvent=e),e.eventType==i.EVENT_END&&!e.touches.length-1&&this.stopDetect(),e}},stopDetect:function(){this.previous=i.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;!t||e.touches.length==t.touches.length&&e.touches!==t.touches||(t.touches=[],i.utils.each(e.touches,function(e){t.touches.push(i.utils.extend({},e))}));var n,r,o=e.timeStamp-t.timeStamp,a=e.center.pageX-t.center.pageX,s=e.center.pageY-t.center.pageY,c=i.utils.getVelocity(o,a,s);return"end"===e.eventType?(n=this.current.lastEvent&&this.current.lastEvent.interimAngle,r=this.current.lastEvent&&this.current.lastEvent.interimDirection):(n=this.current.lastEvent&&i.utils.getAngle(this.current.lastEvent.center,e.center),r=this.current.lastEvent&&i.utils.getDirection(this.current.lastEvent.center,e.center)),i.utils.extend(e,{deltaTime:o,deltaX:a,deltaY:s,velocityX:c.x,velocityY:c.y,distance:i.utils.getDistance(t.center,e.center),angle:i.utils.getAngle(t.center,e.center),interimAngle:n,direction:i.utils.getDirection(t.center,e.center),interimDirection:r,scale:i.utils.getScale(t.touches,e.touches),rotation:i.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var n=e.defaults||{};return n[e.name]===t&&(n[e.name]=!0),i.utils.extend(i.defaults,n,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},i.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(i.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(t.options.drag_max_touches>0&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&i.detection.current.name!=this.name)return;if(i.detection.current.name!=this.name&&(i.detection.current.name=this.name,t.options.correct_for_drag_min_distance&&e.distance>0)){var n=Math.abs(t.options.drag_min_distance/e.distance);i.detection.current.startEvent.center.pageX+=e.deltaX*n,i.detection.current.startEvent.center.pageY+=e.deltaY*n,e=i.detection.extendEventData(e)}(i.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var r=i.detection.current.lastEvent.direction;e.drag_locked_to_axis&&r!==e.direction&&(e.direction=i.utils.isVertical(r)?e.deltaY<0?i.DIRECTION_UP:i.DIRECTION_DOWN:e.deltaX<0?i.DIRECTION_LEFT:i.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&i.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!i.utils.isVertical(e.direction))&&e.preventDefault();break;case i.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},i.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case i.EVENT_START:clearTimeout(this.timer),i.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==i.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case i.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case i.EVENT_END:clearTimeout(this.timer)}}},i.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==i.EVENT_END&&t.trigger(this.name,e)}},i.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){if(e.eventType==i.EVENT_END){if(t.options.swipe_max_touches>0&&e.touches.length<t.options.swipe_min_touches&&e.touches.length>t.options.swipe_max_touches)return;(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e))}}},i.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){if(e.eventType==i.EVENT_END&&"touchcancel"!=e.srcEvent.type){var n=i.detection.previous,r=!1;if(e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance)return;n&&"tap"==n.name&&e.timeStamp-n.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),r=!0),(!r||t.options.tap_always)&&(i.detection.current.name="tap",t.trigger(i.detection.current.name,e))}}},i.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==i.POINTER_MOUSE?void e.stopDetect():(t.options.prevent_default&&e.preventDefault(),void(e.eventType==i.EVENT_START&&t.trigger(this.name,e)))}},i.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(i.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case i.EVENT_START:this.triggered=!1;break;case i.EVENT_MOVE:var n=Math.abs(1-e.scale),r=Math.abs(e.rotation);if(n<t.options.transform_min_scale&&r<t.options.transform_min_rotation)return;i.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),r>t.options.transform_min_rotation&&t.trigger("rotate",e),n>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case i.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},e.Hammer=i}(this);var IScroll=function(e,t,n){function i(e,n){this.wrapper="string"==typeof e?t.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in n)this.options[i]=n[i];this.translateZ=this.options.HWCompositing&&o.hasPerspective?" translateZ(0)":"",this.options.useTransition=o.hasTransition&&this.options.useTransition,this.options.useTransform=o.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?o.ease[this.options.bounceEasing]||o.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var r=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},o=function(){function i(e){return a===!1?!1:""===a?e:a+e.charAt(0).toUpperCase()+e.substr(1)}var r={},o=t.createElement("div").style,a=function(){for(var e,t=["t","webkitT","MozT","msT","OT"],n=0,i=t.length;i>n;n++)if(e=t[n]+"ransform",e in o)return t[n].substr(0,t[n].length-1);return!1}();r.getTime=Date.now||function(){return(new Date).getTime()},r.extend=function(e,t){for(var n in t)e[n]=t[n]},r.addEvent=function(e,t,n,i){e.addEventListener(t,n,!!i)},r.removeEvent=function(e,t,n,i){e.removeEventListener(t,n,!!i)},r.momentum=function(e,t,i,r,o){var a,s,c=e-t,u=n.abs(c)/i,l=6e-4;return a=e+u*u/(2*l)*(0>c?-1:1),s=u/l,r>a?(a=o?r-o/2.5*(u/8):r,c=n.abs(a-e),s=c/u):a>0&&(a=o?o/2.5*(u/8):0,c=n.abs(e)+a,s=c/u),{destination:n.round(a),duration:s}};var s=i("transform");return r.extend(r,{hasTransform:s!==!1,hasPerspective:i("perspective")in o,hasTouch:"ontouchstart"in e,hasPointer:navigator.msPointerEnabled,hasTransition:i("transition")in o}),r.isAndroidBrowser=/Android/.test(e.navigator.appVersion)&&/Version\/\d/.test(e.navigator.appVersion),r.extend(r.style={},{transform:s,transitionTimingFunction:i("transitionTimingFunction"),transitionDuration:i("transitionDuration"),transformOrigin:i("transformOrigin")}),r.hasClass=function(e,t){var n=new RegExp("(^|\\s)"+t+"(\\s|$)");return n.test(e.className)},r.addClass=function(e,t){if(!r.hasClass(e,t)){var n=e.className.split(" ");n.push(t),e.className=n.join(" ")}},r.removeClass=function(e,t){if(r.hasClass(e,t)){var n=new RegExp("(^|\\s)"+t+"(\\s|$)","g");e.className=e.className.replace(n," ")}},r.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},r.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},r.extend(r.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),r.extend(r.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return n.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){var t=4;return(e-=1)*e*((t+1)*e+t)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){var t=.22,i=.4;return 0===e?0:1==e?1:i*n.pow(2,-10*e)*n.sin(2*(e-t/4)*n.PI/t)+1}}}),r.tap=function(e,n){var i=t.createEvent("Event");i.initEvent(n,!0,!0),i.pageX=e.pageX,i.pageY=e.pageY,e.target.dispatchEvent(i)},r.click=function(e){var n,i=e.target;"SELECT"!=i.tagName&&"INPUT"!=i.tagName&&"TEXTAREA"!=i.tagName&&(n=t.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,e.view,1,i.screenX,i.screenY,i.clientX,i.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n._constructed=!0,i.dispatchEvent(n))},r}();return i.prototype={version:"5.0.6",_init:function(){this._initEvents()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(e){if(!(1!=o.eventType[e.type]&&0!==e.button||!this.enabled||this.initiated&&o.eventType[e.type]!==this.initiated)){!this.options.preventDefault||o.isAndroidBrowser||o.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,i=e.touches?e.touches[0]:e;this.initiated=o.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.isAnimating=!1,this.startTime=o.getTime(),this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(n.round(t.x),n.round(t.y)),this._execEvent("scrollEnd"),this.isInTransition=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&o.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,i,r,a,s=e.touches?e.touches[0]:e,c=s.pageX-this.pointX,u=s.pageY-this.pointY,l=o.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=c,this.distY+=u,r=n.abs(this.distX),a=n.abs(this.distY),!(l-this.endTime>300&&10>r&&10>a)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=r>a+this.options.directionLockThreshold?"h":a>=r+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);u=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}c=this.hasHorizontalScroll?c:0,u=this.hasVerticalScroll?u:0,t=this.x+c,i=this.y+u,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+c/3:t>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+u/3:i>0?0:this.maxScrollY),this.directionX=c>0?-1:0>c?1:0,this.directionY=u>0?-1:0>u?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,i),l-this.startTime>300&&(this.startTime=l,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&o.eventType[e.type]===this.initiated){this.options.preventDefault&&!o.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();var t,i,r=(e.changedTouches?e.changedTouches[0]:e,o.getTime()-this.startTime),a=n.round(this.x),s=n.round(this.y),c=n.abs(a-this.startX),u=n.abs(s-this.startY),l=0,h="";if(this.scrollTo(a,s),this.isInTransition=0,this.initiated=0,this.endTime=o.getTime(),!this.resetPosition(this.options.bounceTime))return this.moved?this._events.flick&&200>r&&100>c&&100>u?void this._execEvent("flick"):(this.options.momentum&&300>r&&(t=this.hasHorizontalScroll?o.momentum(this.x,this.startX,r,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:a,duration:0},i=this.hasVerticalScroll?o.momentum(this.y,this.startY,r,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:s,duration:0},a=t.destination,s=i.destination,l=n.max(t.duration,i.duration),this.isInTransition=1),a!=this.x||s!=this.y?((a>0||a<this.maxScrollX||s>0||s<this.maxScrollY)&&(h=o.ease.quadratic),void this.scrollTo(a,s,l,h)):void this._execEvent("scrollEnd")):(this.options.tap&&o.tap(e,this.options.tap),void(this.options.click&&o.click(e)))}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),t==this.x&&n==this.y?!1:(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=o.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;n>t;t++)this._events[e][t].call(this)}},scrollBy:function(e,t,n,i){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,i)},scrollTo:function(e,t,n,i){i=i||o.ease.circular,!n||this.options.useTransition&&i.style?(this._transitionTimingFunction(i.style),this._transitionTime(n),this._translate(e,t)):this._animate(e,t,n,i.fn)},scrollToElement:function(e,t,i,r,a){if(e=e.nodeType?e:this.scroller.querySelector(e)){var s=o.offset(e);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,i===!0&&(i=n.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),r===!0&&(r=n.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=i||0,s.top-=r||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,t=void 0===t||null===t||"auto"===t?n.max(n.abs(this.x-s.left),n.abs(this.y-s.top)):t,this.scrollTo(s.left,s.top,t,a)}},_transitionTime:function(e){e=e||0,this.scrollerStyle[o.style.transitionDuration]=e+"ms"},_transitionTimingFunction:function(e){this.scrollerStyle[o.style.transitionTimingFunction]=e},_translate:function(e,t){this.options.useTransform?this.scrollerStyle[o.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=n.round(e),t=n.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t},_initEvents:function(t){var n=t?o.removeEvent:o.addEvent,i=this.options.bindToWrapper?this.wrapper:e;n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),o.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,"MSPointerDown",this),n(i,"MSPointerMove",this),n(i,"MSPointerCancel",this),n(i,"MSPointerUp",this)),o.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,i=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[o.style.transform].split(")")[0].split(", "),t=+(i[12]||i[4]),n=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d]/g,""),n=+i.top.replace(/[^-\d]/g,"")),{x:t,y:n}},_animate:function(e,t,n,i){function a(){var p,d,f,m=o.getTime();return m>=h?(s.isAnimating=!1,s._translate(e,t),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(m=(m-l)/n,f=i(m),p=(e-c)*f+c,d=(t-u)*f+u,s._translate(p,d),void(s.isAnimating&&r(a)))}var s=this,c=this.x,u=this.y,l=o.getTime(),h=l+n;this.isAnimating=!0,a()},handleEvent:function(e){switch(e.type){case"touchstart":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"MSPointerUp":case"mouseup":case"touchcancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":e._constructed||(e.preventDefault(),e.stopPropagation())}}},i.ease=o.ease,i}(window,document,Math),MicroEvent=function(){};MicroEvent.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},once:function(e,t){var n=this,i=function(){return n.off(e,i),t.apply(null,arguments)};this.on(e,i)},off:function(e,t){this._events=this._events||{},e in this._events!=!1&&this._events[e].splice(this._events[e].indexOf(t),1)},emit:function(e){if(this._events=this._events||{},e in this._events!=!1)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},MicroEvent.mixin=function(e){for(var t=["on","once","off","emit"],n=0;n<t.length;n++)"function"==typeof e?e.prototype[t[n]]=MicroEvent.prototype[t[n]]:e[t[n]]=MicroEvent.prototype[t[n]]},"undefined"!=typeof module&&"exports"in module&&(module.exports=MicroEvent),window.Modernizr=function(e,t,n){function i(e){y.cssText=e}function r(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var i in e){var r=e[i];if(!o(r,"-")&&y[r]!==n)return"pfx"==t?r:!0}return!1}function s(e,t,i){for(var o in e){var a=t[e[o]];if(a!==n)return i===!1?e[o]:r(a,"function")?a.bind(i||t):a}return!1}function c(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+_.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?a(o,t):(o=(e+" "+w.join(i+" ")+i).split(" "),s(o,t,n))}var u,l,h,p="2.6.2",d={},f=!0,m=t.documentElement,g="modernizr",v=t.createElement(g),y=v.style,b=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),E="Webkit Moz O ms",_=E.split(" "),w=E.toLowerCase().split(" "),$={svg:"http://www.w3.org/2000/svg"},S={},P=[],x=P.slice,k=function(e,n,i,r){var o,a,s,c,u=t.createElement("div"),l=t.body,h=l||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=r?r[i]:g+(i+1),u.appendChild(s);return o=["&#173;",'<style id="s',g,'">',e,"</style>"].join(""),u.id=g,(l?u:h).innerHTML+=o,h.appendChild(u),l||(h.style.background="",h.style.overflow="hidden",c=m.style.overflow,m.style.overflow="hidden",m.appendChild(h)),a=n(u,e),l?u.parentNode.removeChild(u):(h.parentNode.removeChild(h),m.style.overflow=c),!!a},T={}.hasOwnProperty;h=r(T,"undefined")||r(T.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return T.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=x.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,a=t.apply(o,n.concat(x.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(x.call(arguments)))};return i}),S.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},S.borderradius=function(){return c("borderRadius")},S.boxshadow=function(){return c("boxShadow")},S.cssanimations=function(){return c("animationName")},S.csstransforms=function(){return!!c("transform")},S.csstransforms3d=function(){var e=!!c("perspective");return e&&"webkitPerspective"in m.style&&k("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},S.csstransitions=function(){return c("transition")},S.svg=function(){return!!t.createElementNS&&!!t.createElementNS($.svg,"svg").createSVGRect};for(var C in S)h(S,C)&&(l=C.toLowerCase(),d[l]=S[C](),P.push((d[l]?"":"no-")+l));return d.addTest=function(e,t){if("object"==typeof e)for(var i in e)h(e,i)&&d.addTest(i,e[i]);else{if(e=e.toLowerCase(),d[e]!==n)return d;t="function"==typeof t?t():t,"undefined"!=typeof f&&f&&(m.className+=" "+(t?"":"no-")+e),d[e]=t}return d},i(""),v=u=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=v.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=g[e[f]];return t||(t={},m++,e[f]=m,g[m]=t),t}function o(e,n,i){if(n||(n=t),l)return n.createElement(e);i||(i=r(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():d.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),o.canHaveChildren&&!p.test(e)?i.frag.appendChild(o):o}function a(e,n){if(e||(e=t),l)return e.createDocumentFragment();n=n||r(e);for(var o=n.frag.cloneNode(),a=0,s=i(),c=s.length;c>a;a++)o.createElement(s[a]);return o}function s(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return v.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(v,t.frag)}function c(e){e||(e=t);var i=r(e);return!v.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),l||s(e,i),e}var u,l,h=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,d=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f="_html5shiv",m=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,l=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,l=!0}}();var v={elements:h.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:h.shivCSS!==!1,supportsUnknownElements:l,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:c,createElement:o,createDocumentFragment:a};e.html5=v,c(t)}(this,t),d._version=p,d._prefixes=b,d._domPrefixes=w,d._cssomPrefixes=_,d.testProp=function(e){return a([e])},d.testAllProps=c,d.testStyles=k,m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+P.join(" "):""),d}(this,this.document),function(e,t,n){function i(e){return"[object Function]"==g.call(e)}function r(e){return"string"==typeof e}function o(){}function a(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function s(){var e=v.shift();y=1,e?e.t?f(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),s()):y=0}function c(e,n,i,r,o,c,u){function l(t){if(!d&&a(h.readyState)&&(b.r=d=1,!y&&s(),h.onload=h.onreadystatechange=null,t)){"img"!=e&&f(function(){_.removeChild(h)},50);for(var i in x[n])x[n].hasOwnProperty(i)&&x[n][i].onload()}}var u=u||p.errorTimeout,h=t.createElement(e),d=0,g=0,b={t:i,s:n,e:o,a:c,x:u};1===x[n]&&(g=1,x[n]=[]),"object"==e?h.data=n:(h.src=n,h.type=e),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){l.call(this,g)},v.splice(r,0,b),"img"!=e&&(g||2===x[n]?(_.insertBefore(h,E?null:m),f(l,u)):x[n].push(h))}function u(e,t,n,i,o){return y=0,t=t||"j",r(e)?c("c"==t?$:w,e,t,this.i++,n,i,o):(v.splice(this.i++,0,e),1==v.length&&s()),this}function l(){var e=p;return e.loader={load:u,i:0},e}var h,p,d=t.documentElement,f=e.setTimeout,m=t.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in d.style,E=b&&!!t.createRange().compareNode,_=E?d:m.parentNode,d=e.opera&&"[object Opera]"==g.call(e.opera),d=!!t.attachEvent&&!d,w=b?"object":d?"script":"img",$=d?"script":w,S=Array.isArray||function(e){return"[object Array]"==g.call(e)},P=[],x={},k={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,n,i,e=e.split("!"),r=P.length,o=e.pop(),a=e.length,o={url:o,origUrl:o,prefixes:e};for(n=0;a>n;n++)i=e[n].split("="),(t=k[i.shift()])&&(o=t(o,i));for(n=0;r>n;n++)o=P[n](o);return o}function a(e,r,o,a,s){var c=t(e),u=c.autoCallback;c.url.split(".").pop().split("?").shift(),c.bypass||(r&&(r=i(r)?r:r[e]||r[a]||r[e.split("/").pop().split("?")[0]]),c.instead?c.instead(e,r,o,a,s):(x[c.url]?c.noexec=!0:x[c.url]=1,o.load(c.url,c.forceCSS||!c.forceJS&&"css"==c.url.split(".").pop().split("?").shift()?"c":n,c.noexec,c.attrs,c.timeout),(i(r)||i(u))&&o.load(function(){l(),r&&r(c.origUrl,s,a),u&&u(c.origUrl,s,a),x[c.url]=2})))}function s(e,t){function n(e,n){if(e){if(r(e))n||(h=function(){var e=[].slice.call(arguments);p.apply(this,e),d()}),a(e,h,t,0,u);else if(Object(e)===e)for(c in s=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(c)&&(!n&&!--s&&(i(h)?h=function(){var e=[].slice.call(arguments);p.apply(this,e),d()}:h[c]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),d()}}(p[c])),a(e[c],h,t,c,u))}else!n&&d()}var s,c,u=!!e.test,l=e.load||e.both,h=e.callback||o,p=h,d=e.complete||o;n(u?e.yep:e.nope,!!l),l&&n(l)}var c,u,h=this.yepnope.loader;if(r(e))a(e,0,h,0);else if(S(e))for(c=0;c<e.length;c++)u=e[c],r(u)?a(u,0,h,0):S(u)?p(u):Object(u)===u&&s(u,h);else Object(e)===e&&s(e,h)},p.addPrefix=function(e,t){k[e]=t},p.addFilter=function(e){P.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",h=function(){t.removeEventListener("DOMContentLoaded",h,0),t.readyState="complete"},0)),e.yepnope=l(),e.yepnope.executeStack=s,e.yepnope.injectJs=function(e,n,i,r,c,u){var l,h,d=t.createElement("script"),r=r||p.errorTimeout;d.src=e;for(h in i)d.setAttribute(h,i[h]);n=u?s:n||o,d.onreadystatechange=d.onload=function(){!l&&a(d.readyState)&&(l=1,n(),d.onload=d.onreadystatechange=null)},f(function(){l||(l=1,n(1))},r),c?d.onload():m.parentNode.insertBefore(d,m)},e.yepnope.injectCss=function(e,n,i,r,a,c){var u,r=t.createElement("link"),n=c?s:n||o;r.href=e,r.rel="stylesheet",r.type="text/css";for(u in i)r.setAttribute(u,i[u]);a||(m.parentNode.insertBefore(r,m),f(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(e,t){"use strict";function n(e){return f[d]=i.apply(t,e),d++}function i(e){var n=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(t,n):new Function(""+e)()}}function r(e){if(m)setTimeout(i(r,e),0);else{var t=f[e];if(t){m=!0;try{t()}finally{o(e),m=!1}}}}function o(e){delete f[e]}function a(){p=function(){var e=n(arguments);return process.nextTick(i(r,e)),e}}function s(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",i=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&r(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),p=function(){var i=n(arguments);return e.postMessage(t+i,"*"),i}}function u(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;r(t)},p=function(){var t=n(arguments);return e.port2.postMessage(t),t}}function l(){var e=g.documentElement;p=function(){var t=n(arguments),i=g.createElement("script");return i.onreadystatechange=function(){r(t),i.onreadystatechange=null,e.removeChild(i),i=null},e.appendChild(i),t}}function h(){p=function(){var e=n(arguments);return setTimeout(i(r,e),0),e}}if(!e.setImmediate){var p,d=1,f={},m=!1,g=e.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,"[object process]"==={}.toString.call(e.process)?a():s()?c():e.MessageChannel?u():g&&"onreadystatechange"in g.createElement("script")?l():h(),v.setImmediate=p,v.clearImmediate=o}}(new Function("return this")()),function(){function e(){return this.PRE_IOS7_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.IOS7_VIEWPORT="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=no",this.DEFAULT_VIEWPORT="initial-scale=1, maximum-scale=1, user-scalable=no",this.ensureViewportElement(),this.platform={},this.platform.name=this.getPlatformName(),this.platform.version=this.getPlatformVersion(),this}e.prototype.ensureViewportElement=function(){this.viewportElement=document.querySelector("meta[name=viewport]"),this.viewportElement||(this.viewportElement=document.createElement("meta"),this.viewportElement.name="viewport",document.head.appendChild(this.viewportElement))},e.prototype.setup=function(){function e(){return!!(window.cordova||window.phonegap||window.PhoneGap)}this.viewportElement&&"true"!=this.viewportElement.getAttribute("data-no-adjust")&&("ios"==this.platform.name?this.platform.version>=7&&e()?this.viewportElement.setAttribute("content",this.IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.PRE_IOS7_VIEWPORT):this.viewportElement.setAttribute("content",this.DEFAULT_VIEWPORT))
},e.prototype.getPlatformName=function(){return navigator.userAgent.match(/Android/i)?"android":navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":void 0},e.prototype.getPlatformVersion=function(){var e=window.navigator.userAgent.indexOf("OS ");return window.Number(window.navigator.userAgent.substr(e+3,3).replace("_","."))},window.Viewport=e}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/back_button.tpl",'<span class="toolbar-button--quiet {{modifierTemplater(\'toolbar-button--quiet--*\')}}" ng-click="$root.ons.findParentComponentUntil(\'ons-navigator\', $event).popPage()" style="height: 44px; line-height: 0; padding: 0; position: relative;">\n  <i class="ion-ios7-arrow-back ons-back-button__icon" style="vertical-align: top; background-color: transparent; height: 44px; line-height: 44px; font-size: 36px; margin-left: 8px; margin-right: 2px; width: 16px; display: inline-block; padding-top: 1px;"></i><span style="vertical-align: top; display: inline-block; line-height: 44px; height: 44px;" class="back-button__label"></span>\n</span>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/button.tpl",'<span class="label ons-button-inner"></span>\n<span class="spinner button__spinner {{modifierTemplater(\'button--*__spinner\')}}"></span>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/icon.tpl",'<i class="fa fa-{{icon}} fa-{{spin}} fa-{{fixedWidth}} fa-rotate-{{rotate}} fa-flip-{{flip}}" ng-class="sizeClass" ng-style="style"></i>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/row.tpl",'<div class="row row-{{align}} ons-row-inner"></div>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/screen.tpl",'<div class="ons-screen"></div>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/sliding_menu.tpl",'<div class="onsen-sliding-menu__behind ons-sliding-menu-inner"></div>\n<div class="onsen-sliding-menu__above ons-sliding-menu-inner"></div>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/split_view.tpl",'<div class="onsen-split-view__secondary full-screen ons-split-view-inner"></div>\n<div class="onsen-split-view__main full-screen ons-split-view-inner"></div>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/switch.tpl",'<label class="switch {{modifierTemplater(\'switch--*\')}}">\n  <input type="checkbox" class="switch__input {{modifierTemplater(\'switch--*__input\')}}" ng-model="model">\n  <div class="switch__toggle {{modifierTemplater(\'switch--*__toggle\')}}"></div>\n</label>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/tab.tpl",'<input type="radio" name="tab-bar-{{tabbarId}}" style="display: none">\n<button class="tab-bar__button tab-bar-inner {{tabbarModifierTemplater(\'tab-bar--*__button\')}} {{modifierTemplater(\'tab-bar__button--*\')}}" ng-click="tryToChange()">\n</button>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/tab_bar.tpl",'<div class="ons-tab-bar__content tab-bar__content"></div>\n<div ng-hide="hideTabs" class="tab-bar ons-tab-bar__footer {{modifierTemplater(\'tab-bar--*\')}} ons-tabbar-inner"></div>\n')}])}(),function(){try{app=angular.module("templates-main")}catch(e){app=angular.module("templates-main",[])}app.run(["$templateCache",function(e){"use strict";e.put("templates/toolbar_button.tpl","<span class=\"toolbar-button {{modifierTemplater('toolbar-button--quiet--*')}} navigation-bar__line-height\" ng-transclude></span>\n")}])}(),window.DoorLock=function(){var e=function(e){e=e||{},this._lockList=[],this._waitList=[],this._log=e.log||function(){}};return e.generateId=function(){var e=0;return function(){return e++}}(),e.prototype={lock:function(){var t=this,n=function(){t._unlock(n)};return n.id=e.generateId(),this._lockList.push(n),this._log("lock: "+n.id),n},_unlock:function(e){var t=this._lockList.indexOf(e);if(-1===t)throw new Error("This function is not registered in the lock list.");this._lockList.splice(t,1),this._log("unlock: "+e.id),this._tryToFreeWaitList()},_tryToFreeWaitList:function(){for(;!this.isLocked()&&this._waitList.length>0;)this._waitList.shift()()},waitUnlock:function(e){if(!(e instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(e):e()},isLocked:function(){return this._lockList.length>0}},e}(),window.ons=function(){"use strict";function e(){var e=o._readyLock.lock();window.addEventListener("DOMContentLoaded",function(){o.isWebView()?window.document.addEventListener("deviceready",e,!1):e()},!1)}function t(){var e=o._readyLock.lock();r.run(["$compile","$rootScope","$onsen",function(t,n){if("loading"===document.readyState||"uninitialized"==document.readyState)window.addEventListener("DOMContentLoaded",function(){document.body.appendChild(document.createElement("ons-dummy-for-init"))});else{if(!document.body)throw new Error("Invalid initialization state.");document.body.appendChild(document.createElement("ons-dummy-for-init"))}n.$on("$ons-ready",e)}])}function n(){r.value("$onsGlobal",o),r.run(["$compile","$rootScope","$onsen",function(e,t,n){o._onsenService=n,t.ons=window.ons,t.console=window.console,t.alert=window.alert,o.$compile=e}])}function i(){var e={_readyLock:new DoorLock,_onsenService:null,_config:{autoStatusBarFill:!0},_unlockersDict:{},bootstrap:function(e){e=["onsen"].concat(angular.isArray(e)?e:[]);var t=window.document;if("loading"==t.readyState||"uninitialized"==t.readyState)t.addEventListener("DOMContentLoaded",function(){angular.bootstrap(t.documentElement,e)},!1);else{if(!t.documentElement)throw new Error("Invalid state");angular.bootstrap(t.documentElement,e)}},enableAutoStatusBarFill:function(){if(this.isReady())throw new Error("This method must be called before ons.isReady() is true.");this._config.autoStatusBarFill=!0},disableAutoStatusBarFill:function(){if(this.isReady())throw new Error("This method must be called before ons.isReady() is true.");this._config.autoStatusBarFill=!1},findParentComponentUntil:function(e,t){var n;return t instanceof HTMLElement?n=angular.element(t):t instanceof angular.element?n=t:t.target&&(n=angular.element(t.target)),n.inheritedData(e)},setDefaultDeviceBackButtonListener:function(e){this._getOnsenService().getDefaultDeviceBackButtonHandler().setListener(e)},disableDeviceBackButtonHandler:function(){this._getOnsenService().DeviceBackButtonHandler.disable()},enableDeviceBackButtonHandler:function(){this._getOnsenService().DeviceBackButtonHandler.enable()},findComponent:function(e,t){var n=(t?t:document).querySelector(e);return n?angular.element(n).data(n.nodeName.toLowerCase())||null:null},isReady:function(){return!e._readyLock.isLocked()},compile:function(t){if(!e.$compile)throw new Error("ons.$compile() is not ready. Wait for initialization with ons.ready().");if(!(t instanceof HTMLElement))throw new Error("First argument must be an instance of HTMLElement.");var n=angular.element(t).scope();if(!n)throw new Error("AngularJS Scope is null. Argument DOM element must be attached in DOM document.");e.$compile(t)(n)},_getOnsenService:function(){if(!this._onsenService)throw new Error("$onsen is not loaded, wait for ons.ready().");return this._onsenService},ready:function(t){if(t instanceof Function)e.isReady()?t():e._readyLock.waitUnlock(t);else if(angular.isArray(t)&&arguments[1]instanceof Function){var n=t;t=arguments[1],e.ready(function(){var i=e._getOnsenService();i.waitForVariables(n,t)})}},isWebView:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}};return e}var r=angular.module("onsen",["templates-main"]);angular.module("onsen.directives",["onsen"]);var o=i();return e(),t(),n(),o}(),function(){"use strict;";var e=angular.module("onsen");e.factory("FadeTransitionAnimator",["NavigatorTransitionAnimator",function(e){var t=e.extend({push:function(e,t,n){animit.runAll(animit(e.getPageView().getContentElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:.4,timing:"linear"}).resetStyle().queue(function(e){n(),e()}),animit(e.getPageView().getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:.4,timing:"linear"}).resetStyle())},pop:function(e,t,n){animit.runAll(animit(t.getPageView().getContentElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:.4,timing:"linear"}).queue(function(e){n(),e()}),animit(t.getPageView().getToolbarElement()).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:0},duration:.4,timing:"linear"}))}});return t}])}(),function(){"use strict;";var e=angular.module("onsen");e.factory("IOSSlideTransitionAnimator",["NavigatorTransitionAnimator","PageView",function(e){var t=e.extend({backgroundMask:angular.element('<div style="position: absolute; width: 100%;height: 100%; background-color: black; opacity: 0;"></div>'),_decompose:function(e){function t(e){for(var t=[],n=0;n<e.length;n++)t.push("ons-back-button"===e[n].nodeName.toLowerCase()?e[n].querySelector(".ons-back-button__icon"):e[n]);return t}var n=e.getPageView().getToolbarLeftItemsElement(),i=e.getPageView().getToolbarRightItemsElement(),r=[].concat(0===n.children.length?n:t(n.children)).concat(0===i.children.length?i:t(i.children)),o=[e.getPageView().getToolbarCenterItemsElement(),e.getPageView().getToolbarBackButtonLabelElement()];return{pageLabels:o,other:r,content:e.getPageView().getContentElement(),toolbar:e.getPageView().getToolbarElement(),bottomToolbar:e.getPageView().getBottomToolbarElement()}},push:function(e,t,n){var i=this.backgroundMask.remove();t.element[0].parentNode.insertBefore(i[0],t.element[0].nextSibling);{var r=this._decompose(e),o=this._decompose(t),a=function(){var e=t.element[0].getBoundingClientRect();return Math.round((e.right-e.left)/2*.6)}(),s=animit(i[0]).queue({opacity:0,transform:"translate3d(0, 0, 0)"}).queue({opacity:.1},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(e){i.remove(),e()}),c=e.getPageView().hasToolbarElement()&&t.getPageView().hasToolbarElement();!e.getPageView().hasToolbarElement()&&!t.getPageView().hasToolbarElement()}c?animit.runAll(s,animit([r.content,r.bottomToolbar]).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(r.toolbar).queue({css:{background:"none",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)"},duration:0}).wait(.3).resetStyle({duration:.1,transition:"background-color 0.1s linear, border-color 0.1s linear"}),animit(r.pageLabels).queue({css:{transform:"translate3d("+a+"px, 0, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(r.other).queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit([o.content,o.bottomToolbar]).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(e){n(),e()}),animit(o.pageLabels).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d(-"+a+"px, 0, 0)",opacity:0},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(o.other).queue({css:{opacity:1},duration:0}).queue({css:{opacity:0},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle()):animit.runAll(s,animit(e.element[0]).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(t.element[0]).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(-25%, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(e){n(),e()}))},pop:function(e,t,n){var i=this.backgroundMask.remove();e.element[0].parentNode.insertBefore(i[0],e.element[0].nextSibling);var r=this._decompose(e),o=this._decompose(t),a=function(){var e=t.element[0].getBoundingClientRect();return Math.round((e.right-e.left)/2*.6)}(),s=animit(i[0]).queue({opacity:.1,transform:"translate3d(0, 0, 0)"}).queue({opacity:0},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(e){i.remove(),e()}),c=e.getPageView().hasToolbarElement()&&t.getPageView().hasToolbarElement(),u=!e.getPageView().hasToolbarElement()&&!t.getPageView().hasToolbarElement();c||u?animit.runAll(s,animit([r.content,r.bottomToolbar]).queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(r.pageLabels).queue({css:{transform:"translate3d(-"+a+"px, 0, 0)",opacity:0},duration:0}).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(r.toolbar).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(r.other).queue({css:{opacity:0},duration:0}).queue({css:{opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit([o.content,o.bottomToolbar]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).wait(0).queue(function(e){n(),e()}),animit(o.other).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d(0, 0, 0)",opacity:0},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}),animit(o.toolbar).queue({css:{background:"none",backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(0, 0, 0, 0)"},duration:0}),animit(o.pageLabels).queue({css:{transform:"translate3d(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3d("+a+"px, 0, 0)",opacity:0},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"})):animit.runAll(s,animit(e.element[0]).queue({css:{transform:"translate3D(-25%, 0px, 0px)",opacity:.9},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle(),animit(t.element[0]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(e){n(),e()}))}});return t}])}(),function(){"use strict;";var e=angular.module("onsen");e.factory("LiftTransitionAnimator",["NavigatorTransitionAnimator",function(e){var t=e.extend({backgroundMask:angular.element('<div style="position: absolute; width: 100%;height: 100%; background-color: black;"></div>'),push:function(e,t,n){var i=this.backgroundMask.remove();t.element[0].parentNode.insertBefore(i[0],t.element[0]);var r=animit(i[0]).wait(.6).queue(function(e){i.remove(),e()});animit.runAll(r,animit(e.element[0]).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).wait(.2).resetStyle().queue(function(e){n(),e()}),animit(t.element[0]).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:0}).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}))},pop:function(e,t,n){var i=this.backgroundMask.remove();e.element[0].parentNode.insertBefore(i[0],e.element[0]),animit.runAll(animit(i[0]).wait(.4).queue(function(e){i.remove(),e()}),animit(e.element[0]).queue({css:{transform:"translate3D(0, -10%, 0)",opacity:.9},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)",opacity:1},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().wait(.4).queue(function(e){n(),e()}),animit(t.element[0]).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(0, 100%, 0)"},duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}))}});return t}])}(),function(){"use strict;";var e=angular.module("onsen");e.factory("ModalView",["$onsen",function(e){var t=Class.extend({_element:void 0,_scope:void 0,init:function(t,n){this._scope=t,this._element=n,this._scope.$on("$destroy",this._destroy.bind(this)),this._deviceBackButtonHandler=e.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)),this.hide()},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler},show:function(){this._element.css("display","table")},_isVisible:function(){return this._element[0].clientWidth>0},_onDeviceBackButton:function(){},hide:function(){this._element.css("display","none")},toggle:function(){return this._isVisible()?this.hide.apply(this,arguments):this.show.apply(this,arguments)},_destroy:function(){this.emit("destroy",{page:this}),this._deviceBackButtonHandler.destroy(),this._element=this._scope=null}});return MicroEvent.mixin(t),t}])}(),function(){"use strict;";var e=angular.module("onsen"),t=Class.extend({init:function(e){this.page=e.page,this.name=e.page,this.element=e.element,this.pageScope=e.pageScope,this.options=e.options,this.navigator=e.navigator},getPageView:function(){if(!this._pageView&&(this._pageView=this.element.inheritedData("ons-page"),!this._pageView))throw new Error("Fail to fetch PageView from ons-page element.");return this._pageView},destroy:function(){this.pageScope.$destroy(),this.element.remove(),this._pageView=null,this.element=null,this.pageScope=null,this.options=null;var e=this.navigator.pages.indexOf(this);-1!==e&&this.navigator.pages.splice(e,1),this.navigator=null}});e.factory("NavigatorView",["$http","$parse","$templateCache","$compile","$onsen","$timeout","SimpleSlideTransitionAnimator","NavigatorTransitionAnimator","LiftTransitionAnimator","NullTransitionAnimator","IOSSlideTransitionAnimator","FadeTransitionAnimator",function(e,n,i,r,o,a,s,c,u,l,h,p){var d=Class.extend({_element:void 0,pages:void 0,_scope:void 0,_doorLock:void 0,_profiling:!1,init:function(e){e=e||e,this._element=e.element||angular.element(window.document.body),this._scope=e.scope||this._element.scope(),this._doorLock=new DoorLock,this.pages=[],this._deviceBackButtonHandler=o.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)),this._scope.$on("$destroy",this._destroy.bind(this))},_destroy:function(){this.emit("destroy",{navigator:this}),this.pages.forEach(function(e){e.destroy()}),this._deviceBackButtonHandler.destroy(),this._deviceBackButtonHandler=null},_onDeviceBackButton:function(e){this.pages.length>1?this.popPage():e.callParentHandler()},_normalizePageElement:function(e){for(var t=0;t<e.length;t++)if(1===e[t].nodeType)return angular.element(e[t]);throw new Error("invalid state")},_createPageElementAndLinkFunction:function(e,t){function n(e){var t=e.$root.$$phase;"$apply"!==t&&"$digest"!==t&&e.$apply()}var i=document.createElement("div");i.innerHTML=e.trim();var o=angular.element(i),a=1===i.childElementCount&&"ons-page"===i.childNodes[0].nodeName.toLowerCase();if(!a)throw new Error('You can not supply no "ons-page" element to "ons-navigator".');o=angular.element(i.childNodes[0]);var s=r(o);return{element:o,link:function(){s(t),n(t)}}},insertPage:function(e,t,n){if(n=n||{},n&&"object"!=typeof n)throw new Error("options must be an object. You supplied "+n);if(0===this.pages.length)return this.pushPage.apply(this,arguments);this._doorLock.waitUnlock(function(){var r=this._doorLock.lock();o.getPageHTMLAsync(t).then(function(o){var a=this._createPageScope(),s=this._createPageElementAndLinkFunction(o,a),c=s.element,u=s.link;c=this._normalizePageElement(c);var l=this._createPageObject(t,c,a,n);this.pages.length>0?(e=i(e),this._element[0].insertBefore(c[0],this.pages[e]?this.pages[e].element[0]:null),this.pages.splice(e,0,l),u(),setTimeout(function(){this.getCurrentPage()!==l&&c.css("display","none"),r(),c=null}.bind(this),1e3/60)):(this._element.append(c),this.pages.push(l),u(),r(),c=null)}.bind(this),function(){throw r(),new Error("Page is not found: "+t)})}.bind(this));var i=function(e){return 0>e&&(e=this.pages.length+e),e}.bind(this)},pushPage:function(e,t){if(this._profiling&&console.time("pushPage"),t=t||{},t&&"object"!=typeof t)throw new Error("options must be an object. You supplied "+t);this._emitPrePushEvent()||this._doorLock.waitUnlock(function(){this._pushPage(e,t)}.bind(this))},_pushPage:function(e,t){var n=this._doorLock.lock(),i=function(){n(),this._profiling&&console.timeEnd("pushPage")};o.getPageHTMLAsync(e).then(function(n){var r=this._createPageScope(),o=this._createPageElementAndLinkFunction(n,r);setImmediate(function(){this._pushPageDOM(e,o.element,o.link,r,t,i),o=null}.bind(this))}.bind(this),function(){throw i(),new Error("Page is not found: "+e)}.bind(this))},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler},_getAnimatorOption:function(e){var t=null;if(e.animation instanceof c)return e.animation;if("string"==typeof e.animation&&(t=d._transitionAnimatorDict[e.animation]),!t&&this._element.attr("animation")&&(t=d._transitionAnimatorDict[this._element.attr("animation")]),t||(t=d._transitionAnimatorDict["default"]),!(t instanceof c))throw new Error('"animator" is not an instance of NavigatorTransitionAnimator.');return t},_createPageScope:function(){return this._scope.$new()},_createPageObject:function(e,n,i,r){return r.animator=this._getAnimatorOption(r),new t({page:e,element:n,pageScope:i,options:r,navigator:this})},_pushPageDOM:function(e,t,n,i,r,o){this._profiling&&console.time("pushPageDOM"),o=o||function(){},r=r||{},t=this._normalizePageElement(t);var a=this._createPageObject(e,t,i,r),s={enterPage:a,leavePage:this.pages[this.pages.length-1],navigator:this};this.pages.push(a);var c=function(){this.pages[this.pages.length-2]&&this.pages[this.pages.length-2].element.css("display","none"),this._profiling&&console.timeEnd("pushPageDOM"),o(),this.emit("postpush",s),"function"==typeof r.onTransitionEnd&&r.onTransitionEnd(),t=null}.bind(this);if(this.pages.length>1){var u=this.pages.slice(-2)[0],l=this.pages.slice(-1)[0];this._element.append(t),n(),r.animator.push(l,u,c),t=null}else this._element.append(t),n(),c(),t=null},_emitPrePushEvent:function(){var e=!1,t={navigator:this,currentPage:this.getCurrentPage(),cancel:function(){e=!0}};return this.emit("prepush",t),e},_emitPrePopEvent:function(){var e=!1,t={navigator:this,currentPage:this.getCurrentPage(),cancel:function(){e=!0}};return this.emit("prepop",t),e},popPage:function(e){if(e=e||{},this.pages.length<=1)throw new Error("NavigatorView's page stack is empty.");this._emitPrePopEvent()||this._doorLock.waitUnlock(function(){this._popPage(e)}.bind(this))},_popPage:function(e){var t=this._doorLock.lock(),n=this.pages.pop();this.pages[this.pages.length-1]&&this.pages[this.pages.length-1].element.css("display","block");var i=this.pages[this.pages.length-1],r={leavePage:n,enterPage:this.pages[this.pages.length-1],navigator:this},o=function(){n.destroy(),t(),this.emit("postpop",r),r.leavePage=null,"function"==typeof e.onTransitionEnd&&e.onTransitionEnd()}.bind(this);n.options.animator.pop(i,n,o)},resetToPage:function(e,t){t=t||{},t.animator||t.animation||(t.animation="none");var n=t.onTransitionEnd||function(){},i=this;t.onTransitionEnd=function(){for(;i.pages.length>1;)i.pages.shift().destroy();n()},this.pushPage(e,t)},getCurrentPage:function(){return this.pages[this.pages.length-1]},getPages:function(){return this.pages},canPopPage:function(){return this.pages.length>1}});return d._transitionAnimatorDict={"default":o.isAndroid()?new s:new h,slide:o.isAndroid()?new s:new h,lift:new u,fade:new p,none:new l},d.registerTransitionAnimator=function(e,t){if(!(t instanceof c))throw new Error('"animator" param must be an instance of NavigatorTransitionAnimator');this._transitionAnimatorDict[e]=t},MicroEvent.mixin(d),d}])}(),function(){"use strict;";var e=angular.module("onsen");e.factory("NavigatorTransitionAnimator",function(){var e=Class.extend({push:function(e,t,n){n()},pop:function(e,t,n){n()}});return e})}(),function(){"use strict;";var e=angular.module("onsen");e.factory("NullTransitionAnimator",["NavigatorTransitionAnimator",function(e){var t=e.extend({});return t}])}(),function(){"use strict";var e=angular.module("onsen");e.factory("OverlaySlidingMenuAnimator",["SlidingMenuAnimator",function(e){var t=e.extend({_blackMask:void 0,_isRight:!1,_element:!1,_menuPage:!1,_mainPage:!1,_width:!1,setup:function(e,t,n,i){i=i||{},this._width=i.width||"90%",this._isRight=!!i.isRight,this._element=e,this._mainPage=t,this._menuPage=n,n.css("box-shadow","0px 0 10px 0px rgba(0, 0, 0, 0.2)"),n.css({width:i.width,display:"none",zIndex:2}),t.css({zIndex:1}),n.css(this._isRight?{right:"-"+i.width,left:"auto"}:{right:"auto",left:"-"+i.width}),this._blackMask=angular.element("<div></div>").css({backgroundColor:"black",top:"0px",left:"0px",right:"0px",bottom:"0px",position:"absolute",display:"none",zIndex:0}),e.prepend(this._blackMask)},onResized:function(e){if(this._menuPage.css("width",e.width),this._menuPage.css(this._isRight?{right:"-"+e.width,left:"auto"}:{right:"auto",left:"-"+e.width}),e.isOpened){var t=this._menuPage[0].clientWidth,n=this._generateMenuPageStyle(t);animit(this._menuPage[0]).queue(n).play()}},destroy:function(){this._blackMask&&(this._blackMask.remove(),this._blackMask=null),this._mainPage.removeAttr("style"),this._menuPage.removeAttr("style"),this._element=this._mainPage=this._menuPage=null},openMenu:function(e){this._menuPage.css("display","block"),this._blackMask.css("display","block");var t=this._menuPage[0].clientWidth,n=this._generateMenuPageStyle(t),i=this._generateMainPageStyle(t);setTimeout(function(){animit(this._mainPage[0]).queue(i,{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){e(),t()}).play(),animit(this._menuPage[0]).queue(n,{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).play()}.bind(this),1e3/60)},closeMenu:function(e){this._blackMask.css({display:"block"});var t=this._generateMenuPageStyle(0),n=this._generateMainPageStyle(0);setTimeout(function(){animit(this._mainPage[0]).queue(n,{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){this._menuPage.css("display","none"),e(),t()}.bind(this)).play(),animit(this._menuPage[0]).queue(t,{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).play()}.bind(this),1e3/60)},translateMenu:function(e){this._menuPage.css("display","block"),this._blackMask.css({display:"block"});var t=this._generateMenuPageStyle(Math.min(e.maxDistance,e.distance)),n=this._generateMainPageStyle(Math.min(e.maxDistance,e.distance));delete n.opacity,animit(this._menuPage[0]).queue(t).play(),Object.keys(n).length>0&&animit(this._mainPage[0]).queue(n).play()},_generateMenuPageStyle:function(e){var t=(this._menuPage[0].clientWidth,this._isRight?-e:e),n="translate3d("+t+"px, 0, 0)";return{transform:n,"box-shadow":0===e?"none":"0px 0 10px 0px rgba(0, 0, 0, 0.2)"}},_generateMainPageStyle:function(e){var t=this._menuPage[0].clientWidth,n=1-.1*e/t;return{opacity:n}},copy:function(){return new t}});return t}])}(),function(){"use strict;";var e=angular.module("onsen");e.factory("PageView",["$onsen","$parse",function(e,t){var n=Class.extend({_registeredToolbarElement:!1,_registeredBottomToolbarElement:!1,_nullElement:window.document.createElement("div"),_toolbarElement:null,_bottomToolbarElement:null,init:function(t,n,i){this._scope=t,this._element=n,this._attrs=i,this._registeredToolbarElement=!1,this._registeredBottomToolbarElement=!1,this._nullElement=window.document.createElement("div"),this._toolbarElement=angular.element(this._nullElement),this._bottomToolbarElement=angular.element(this._nullElement),this._clearListener=t.$on("$destroy",this._destroy.bind(this)),this._userDeviceBackButtonListener=angular.noop,(this._attrs.ngDeviceBackbutton||this._attrs.onDeviceBackbutton)&&(this._deviceBackButtonHandler=e.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this)))},_onDeviceBackButton:function(e){if(this._userDeviceBackButtonListener(e),this._attrs.ngDeviceBackbutton&&t(this._attrs.ngDeviceBackbutton)(this._scope,{$event:e}),this._attrs.onDeviceBackbutton){var n=window.$event;window.$event=e,new Function(this._attrs.onDeviceBackbutton)(),window.$event=n}},setDeviceBackButtonHandler:function(t){this._deviceBackButtonHandler||(this._deviceBackButtonHandler=e.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this))),this._userDeviceBackButtonListener=t},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler||null},registerToolbar:function(e){if(this._registeredToolbarElement)throw new Error("This page's toolbar is already registered.");angular.element(this.getContentElement()).attr("no-status-bar-fill",""),e.remove();var t=this._element[0].querySelector(".page__status-bar-fill");t?angular.element(t).after(e):this._element.prepend(e),this._toolbarElement=e,this._registeredToolbarElement=!0},registerBottomToolbar:function(e){if(this._registeredBottomToolbarElement)throw new Error("This page's bottom-toolbar is already registered.");e.remove(),this._bottomToolbarElement=e,this._registeredBottomToolbarElement=!0;var t=angular.element(document.createElement("div"));t.addClass("page__bottom-bar-fill"),t.css({width:"0px",height:"0px"}),this._element.prepend(t),this._element.append(e)},registerExtraElement:function(e){this._extraElement||(this._extraElement=angular.element("<div></div>"),this._extraElement.addClass("page__extra"),this._extraElement.css({"z-index":"10001"}),this._element.append(this._extraElement)),this._extraElement.append(e.remove())},hasToolbarElement:function(){return!!this._registeredToolbarElement},hasBottomToolbarElement:function(){return!!this._registeredBottomToolbarElement},getContentElement:function(){for(var e=0;e<this._element.length;e++)if(this._element[e].querySelector){var t=this._element[e].querySelector(".page__content");if(t)return t}throw Error('fail to get ".page__content" element.')},getToolbarElement:function(){return this._toolbarElement[0]||this._nullElement},getBottomToolbarElement:function(){return this._bottomToolbarElement[0]||this._nullElement},getToolbarLeftItemsElement:function(){return this._toolbarElement[0].querySelector(".left")||this._nullElement},getToolbarCenterItemsElement:function(){return this._toolbarElement[0].querySelector(".center")||this._nullElement
},getToolbarRightItemsElement:function(){return this._toolbarElement[0].querySelector(".right")||this._nullElement},getToolbarBackButtonLabelElement:function(){return this._toolbarElement[0].querySelector("ons-back-button .back-button__label")||this._nullElement},_destroy:function(){this.emit("destroy",{page:this}),this._deviceBackButtonHandler&&(this._deviceBackButtonHandler.destroy(),this._deviceBackButtonHandler=null),this._element=null,this._toolbarElement=null,this._nullElement=null,this._bottomToolbarElement=null,this._extraElement=null,this._scope=null,this._clearListener()}});return MicroEvent.mixin(n),n}])}(),function(){"use strict";var e=angular.module("onsen");e.factory("PushSlidingMenuAnimator",["SlidingMenuAnimator",function(e){var t=e.extend({_isRight:!1,_element:void 0,_menuPage:void 0,_mainPage:void 0,_width:void 0,setup:function(e,t,n,i){i=i||{},this._element=e,this._mainPage=t,this._menuPage=n,this._isRight=!!i.isRight,this._width=i.width||"90%",n.css({width:i.width,display:"none"}),n.css(this._isRight?{right:"-"+i.width,left:"auto"}:{right:"auto",left:"-"+i.width})},onResized:function(e){if(this._menuPage.css("width",e.width),this._menuPage.css(this._isRight?{right:"-"+e.width,left:"auto"}:{right:"auto",left:"-"+e.width}),e.isOpened){var t=this._menuPage[0].clientWidth,n=this._generateAbovePageTransform(t),i=this._generateBehindPageStyle(t);animit(this._mainPage[0]).queue({transform:n}).play(),animit(this._menuPage[0]).queue(i).play()}},destroy:function(){this._mainPage.removeAttr("style"),this._menuPage.removeAttr("style"),this._element=this._mainPage=this._menuPage=null},openMenu:function(e){this._menuPage.css("display","block");var t=this._menuPage[0].clientWidth,n=this._generateAbovePageTransform(t),i=this._generateBehindPageStyle(t);setTimeout(function(){animit(this._mainPage[0]).queue({transform:n},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){e(),t()}).play(),animit(this._menuPage[0]).queue(i,{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).play()}.bind(this),1e3/60)},closeMenu:function(e){var t=this._generateAbovePageTransform(0),n=this._generateBehindPageStyle(0);setTimeout(function(){animit(this._mainPage[0]).queue({transform:t},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue({transform:"translate3d(0, 0, 0)"}).queue(function(t){this._menuPage.css("display","none"),e(),t()}.bind(this)).play(),animit(this._menuPage[0]).queue(n,{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(e){e()}).play()}.bind(this),1e3/60)},translateMenu:function(e){this._menuPage.css("display","block");var t=this._generateAbovePageTransform(Math.min(e.maxDistance,e.distance)),n=this._generateBehindPageStyle(Math.min(e.maxDistance,e.distance));animit(this._mainPage[0]).queue({transform:t}).play(),animit(this._menuPage[0]).queue(n).play()},_generateAbovePageTransform:function(e){var t=this._isRight?-e:e,n="translate3d("+t+"px, 0, 0)";return n},_generateBehindPageStyle:function(e){var t=(this._menuPage[0].clientWidth,this._isRight?-e:e),n="translate3d("+t+"px, 0, 0)";return{transform:n}},copy:function(){return new t}});return t}])}(),function(){"use strict";var e=angular.module("onsen");e.factory("RevealSlidingMenuAnimator",["SlidingMenuAnimator",function(e){var t=e.extend({_blackMask:void 0,_isRight:!1,_menuPage:void 0,_element:void 0,_mainPage:void 0,setup:function(e,t,n,i){this._element=e,this._menuPage=n,this._mainPage=t,this._isRight=!!i.isRight,this._width=i.width||"90%",t.css({boxShadow:"0px 0 10px 0px rgba(0, 0, 0, 0.2)"}),n.css({width:i.width,opacity:.9,display:"none"}),n.css(this._isRight?{right:"0px",left:"auto"}:{right:"auto",left:"0px"}),this._blackMask=angular.element("<div></div>").css({backgroundColor:"black",top:"0px",left:"0px",right:"0px",bottom:"0px",position:"absolute",display:"none"}),e.prepend(this._blackMask),animit(t[0]).queue({transform:"translate3d(0, 0, 0)"}).play()},onResized:function(e){if(this._width=e.width,this._menuPage.css("width",this._width),e.isOpened){var t=this._menuPage[0].clientWidth,n=this._generateAbovePageTransform(t),i=this._generateBehindPageStyle(t);animit(this._mainPage[0]).queue({transform:n}).play(),animit(this._menuPage[0]).queue(i).play()}},destroy:function(){this._blackMask&&(this._blackMask.remove(),this._blackMask=null),this._mainPage&&this._mainPage.attr("style",""),this._menuPage&&this._menuPage.attr("style",""),this._mainPage=this._menuPage=this._element=void 0},openMenu:function(e){this._menuPage.css("display","block"),this._blackMask.css("display","block");var t=this._menuPage[0].clientWidth,n=this._generateAbovePageTransform(t),i=this._generateBehindPageStyle(t);setTimeout(function(){animit(this._mainPage[0]).queue({transform:n},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(t){e(),t()}).play(),animit(this._menuPage[0]).queue(i,{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).play()}.bind(this),1e3/60)},closeMenu:function(e){this._blackMask.css("display","block");var t=this._generateAbovePageTransform(0),n=this._generateBehindPageStyle(0);setTimeout(function(){animit(this._mainPage[0]).queue({transform:t},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue({transform:"translate3d(0, 0, 0)"}).queue(function(t){this._menuPage.css("display","none"),e(),t()}.bind(this)).play(),animit(this._menuPage[0]).queue(n,{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).queue(function(e){e()}).play()}.bind(this),1e3/60)},translateMenu:function(e){this._menuPage.css("display","block"),this._blackMask.css("display","block");var t=this._generateAbovePageTransform(Math.min(e.maxDistance,e.distance)),n=this._generateBehindPageStyle(Math.min(e.maxDistance,e.distance));delete n.opacity,animit(this._mainPage[0]).queue({transform:t}).play(),animit(this._menuPage[0]).queue(n).play()},_generateAbovePageTransform:function(e){var t=this._isRight?-e:e,n="translate3d("+t+"px, 0, 0)";return n},_generateBehindPageStyle:function(e){var t=this._menuPage[0].getBoundingClientRect().width,n=(e-t)/t*10;n=isNaN(n)?0:Math.max(Math.min(n,0),-10);var i=this._isRight?-n:n,r="translate3d("+i+"%, 0, 0)",o=1+n/100;return{transform:r,opacity:o}},copy:function(){return new t}});return t}])}(),function(){"use strict;";var e=angular.module("onsen");e.factory("SimpleSlideTransitionAnimator",["NavigatorTransitionAnimator",function(e){var t=e.extend({backgroundMask:angular.element('<div style="position: absolute; width: 100%;height: 100%; background-color: black; opacity: 0;"></div>'),timing:"cubic-bezier(.1, .7, .4, 1)",duration:.3,blackMaskOpacity:.4,init:function(e){e=e||{},this.timing=e.timing||this.timing,this.duration=void 0!==e.duration?e.duration:this.duration},push:function(e,t,n){var i=this.backgroundMask.remove();t.element[0].parentNode.insertBefore(i[0],t.element[0].nextSibling),animit.runAll(animit(i[0]).queue({opacity:0,transform:"translate3d(0, 0, 0)"}).queue({opacity:this.blackMaskOpacity},{duration:this.duration,timing:this.timing}).resetStyle().queue(function(e){i.remove(),e()}),animit(e.element[0]).queue({css:{transform:"translate3D(100%, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(0, 0, 0)"},duration:this.duration,timing:this.timing}).resetStyle(),animit(t.element[0]).queue({css:{transform:"translate3D(0, 0, 0)"},duration:0}).queue({css:{transform:"translate3D(-45%, 0px, 0px)"},duration:this.duration,timing:this.timing}).resetStyle().wait(.2).queue(function(e){n(),e()}))},pop:function(e,t,n){var i=this.backgroundMask.remove();e.element[0].parentNode.insertBefore(i[0],e.element[0].nextSibling),animit.runAll(animit(i[0]).queue({opacity:this.blackMaskOpacity,transform:"translate3d(0, 0, 0)"}).queue({opacity:0},{duration:this.duration,timing:this.timing}).resetStyle().queue(function(e){i.remove(),e()}),animit(e.element[0]).queue({css:{transform:"translate3D(-45%, 0px, 0px)",opacity:.9},duration:0}).queue({css:{transform:"translate3D(0px, 0px, 0px)",opacity:1},duration:this.duration,timing:this.timing}).resetStyle(),animit(t.element[0]).queue({css:{transform:"translate3D(0px, 0px, 0px)"},duration:0}).queue({css:{transform:"translate3D(100%, 0px, 0px)"},duration:this.duration,timing:this.timing}).wait(.2).queue(function(e){n(),e()}))}});return t}])}(),function(){"use strict";var e=angular.module("onsen"),t=Class.extend({_distance:0,_maxDistance:void 0,init:function(e){if(!angular.isNumber(e.maxDistance))throw new Error("options.maxDistance must be number");this.setMaxDistance(e.maxDistance)},setMaxDistance:function(e){if(0>=e)throw new Error("maxDistance must be greater then zero.");this.isOpened()&&(this._distance=e),this._maxDistance=e},shouldOpen:function(){return!this.isOpened()&&this._distance>=this._maxDistance/2},shouldClose:function(){return!this.isClosed()&&this._distance<this._maxDistance/2},openOrClose:function(e){this.shouldOpen()?this.open(e):this.shouldClose()&&this.close(e)},close:function(e){e=e||function(){},this.isClosed()?e():(this._distance=0,this.emit("close",{callback:e}))},open:function(e){e=e||function(){},this.isOpened()?e():(this._distance=this._maxDistance,this.emit("open",{callback:e}))},isClosed:function(){return 0===this._distance},isOpened:function(){return this._distance===this._maxDistance},getX:function(){return this._distance},getMaxDistance:function(){return this._maxDistance},translate:function(e){this._distance=Math.max(1,Math.min(this._maxDistance-1,e));var t={distance:this._distance,maxDistance:this._maxDistance};this.emit("translate",t)},toggle:function(){this.isClosed()?this.open():this.close()}});MicroEvent.mixin(t);e.factory("SlidingMenuView",["$onsen","$compile","SlidingMenuAnimator","RevealSlidingMenuAnimator","PushSlidingMenuAnimator","OverlaySlidingMenuAnimator",function(e,n,i,r,o,a){var s=Class.extend({_scope:void 0,_attrs:void 0,_element:void 0,_behindPage:void 0,_abovePage:void 0,_doorLock:void 0,_isRightMenu:!1,init:function(n,i,r){this._scope=n,this._attrs=r,this._element=i,this._behindPage=angular.element(i[0].querySelector(".onsen-sliding-menu__behind")),this._abovePage=angular.element(i[0].querySelector(".onsen-sliding-menu__above")),this._doorLock=new DoorLock,this._isRightMenu="right"===r.side;var o=this._normalizeMaxSlideDistanceAttr();this._logic=new t({maxDistance:Math.max(o,1)}),this._logic.on("translate",this._translate.bind(this)),this._logic.on("open",function(e){this._open(e.callback)}.bind(this)),this._logic.on("close",function(e){this._close(e.callback)}.bind(this)),r.$observe("maxSlideDistance",this._onMaxSlideDistanceChanged.bind(this)),r.$observe("swipable",this._onSwipableChanged.bind(this)),window.addEventListener("resize",this._onWindowResize.bind(this)),this._boundHandleEvent=this._handleEvent.bind(this),this._bindEvents(),r.mainPage?this.setMainPage(r.mainPage):r.abovePage&&this.setMainPage(r.abovePage),r.menuPage?this.setMenuPage(r.menuPage):r.behindPage&&this.setMenuPage(r.behindPage),this._deviceBackButtonHandler=e.DeviceBackButtonHandler.create(this._element,this._onDeviceBackButton.bind(this));var a=this._doorLock.lock();window.setTimeout(function(){var e=this._normalizeMaxSlideDistanceAttr();this._logic.setMaxDistance(e),this._behindPage.css({opacity:1}),this._animator=this._getAnimatorOption(),this._animator.setup(this._element,this._abovePage,this._behindPage,{isRight:this._isRightMenu,width:this._attrs.maxSlideDistance||"90%"}),a()}.bind(this),400),n.$on("$destroy",this._destroy.bind(this))},getDeviceBackButtonHandler:function(){return this._deviceBackButtonHandler},_onDeviceBackButton:function(e){this.isMenuOpened()?this.closeMenu():e.callParentHandler()},_refreshBehindPageWidth:function(){var e="maxSlideDistance"in this._attrs?this._attrs.maxSlideDistance:"90%";this._animator&&this._animator.onResized({isOpened:this._logic.isOpened(),width:e})},_destroy:function(){this.emit("destroy",{slidingMenu:this}),this._deviceBackButtonHandler.destroy(),this._element=this._scope=this._attrs=null},_getAnimatorOption:function(){var e=s._animatorDict[this._attrs.type];return e instanceof i||(e=s._animatorDict["default"]),e.copy()},_onSwipableChanged:function(e){e=""===e||void 0===e||"true"==e,this.setSwipable(e)},setSwipable:function(e){e?this._activateHammer():this._deactivateHammer()},_onWindowResize:function(){this._recalculateMAX(),this._refreshBehindPageWidth()},_onMaxSlideDistanceChanged:function(){this._recalculateMAX(),this._refreshBehindPageWidth()},_normalizeMaxSlideDistanceAttr:function(){var e=this._attrs.maxSlideDistance;if("maxSlideDistance"in this._attrs){if("string"!=typeof e)throw new Error("invalid state");-1!==e.indexOf("px",e.length-2)?e=parseInt(e.replace("px",""),10):e.indexOf("%",e.length-1)>0&&(e=e.replace("%",""),e=parseFloat(e)/100*this._abovePage[0].clientWidth)}else e=.9*this._abovePage[0].clientWidth;return e},_recalculateMAX:function(){var e=this._normalizeMaxSlideDistanceAttr();e&&this._logic.setMaxDistance(parseInt(e,10))},_activateHammer:function(){this._hammertime.on("touch dragleft dragright swipeleft swiperight release",this._boundHandleEvent)},_deactivateHammer:function(){this._hammertime.off("touch dragleft dragright swipeleft swiperight release",this._boundHandleEvent)},_bindEvents:function(){this._hammertime=new Hammer(this._element[0])},_appendAbovePage:function(e,t){var i=this._scope.$parent.$new(),r=angular.element(t),o=n(r);this._abovePage.append(r),this._currentPageElement&&(this._currentPageElement.remove(),this._currentPageScope.$destroy()),o(i),this._currentPageElement=r,this._currentPageScope=i,this._currentPageUrl=e},_appendBehindPage:function(e){var t=this._scope.$parent.$new(),i=angular.element(e),r=n(i);this._behindPage.append(i),this._currentBehindPageScope&&(this._currentBehindPageScope.$destroy(),this._currentBehindPageElement.remove()),r(t),this._currentBehindPageElement=i,this._currentBehindPageScope=t},setMenuPage:function(t,n){if(!t)throw new Error("cannot set undefined page");n=n||{},n.callback=n.callback||function(){};var i=this;e.getPageHTMLAsync(t).then(function(e){i._appendBehindPage(angular.element(e)),n.closeMenu&&i.close(),n.callback()},function(){throw new Error("Page is not found: "+t)})},setBehindPage:function(){return this.setMenuPage.apply(this,arguments)},setMainPage:function(t,n){n=n||{},n.callback=n.callback||function(){};var i=function(){n.closeMenu&&this.close(),n.callback()}.bind(this);if(this.currentPageUrl===t)return void i();if(!t)throw new Error("cannot set undefined page");var r=this;e.getPageHTMLAsync(t).then(function(e){r._appendAbovePage(t,e),i()},function(){throw new Error("Page is not found: "+page)})},setAbovePage:function(){return this.setMainPage.apply(this,arguments)},_handleEvent:function(e){if(!this._doorLock.isLocked())switch(this._isInsideIgnoredElement(e.target)&&e.gesture.stopDetect(),e.type){case"touch":this._logic.isClosed()&&(this._isInsideSwipeTargetArea(e)||e.gesture.stopDetect());break;case"dragleft":case"dragright":e.gesture.preventDefault();var t=e.gesture.deltaX,n=this._isRightMenu?-t:t,i=e.gesture.startEvent;if("isOpened"in i||(i.isOpened=this._logic.isOpened()),0>n&&this._logic.isClosed())break;if(n>0&&this._logic.isOpened())break;var r=i.isOpened?n+this._logic.getMaxDistance():n;this._logic.translate(r);break;case"swipeleft":e.gesture.preventDefault(),this._isRightMenu?this.open():this.close(),e.gesture.stopDetect();break;case"swiperight":e.gesture.preventDefault(),this._isRightMenu?this.close():this.open(),e.gesture.stopDetect();break;case"release":this._lastDistance=null,this._logic.shouldOpen()?this.open():this._logic.shouldClose()&&this.close()}},_isInsideIgnoredElement:function(e){do{if(e.getAttribute&&e.getAttribute("sliding-menu-ignore"))return!0;e=e.parentNode}while(e);return!1},_isInsideSwipeTargetArea:function(e){var t=e.gesture.center.pageX;"_swipeTargetWidth"in e.gesture.startEvent||(e.gesture.startEvent._swipeTargetWidth=this._getSwipeTargetWidth());var n=e.gesture.startEvent._swipeTargetWidth;return this._isRightMenu?this._abovePage[0].clientWidth-t<n:n>t},_getSwipeTargetWidth:function(){var e=this._attrs.swipeTargetWidth;"string"==typeof e&&(e=e.replace("px",""));var t=parseInt(e,10);return 0>t||!e?this._abovePage[0].clientWidth:t},closeMenu:function(){return this.close.apply(this,arguments)},close:function(e){e=e||function(){},this.emit("preclose"),this._doorLock.waitUnlock(function(){this._logic.close(e)}.bind(this))},_close:function(e){e=e||function(){};var t=this._doorLock.lock();this._animator.closeMenu(function(){t(),this.emit("postclose"),e()}.bind(this))},openMenu:function(){return this.open.apply(this,arguments)},open:function(e){e=e||function(){},this.emit("preopen"),this._doorLock.waitUnlock(function(){this._logic.open(e)}.bind(this))},_open:function(e){e=e||function(){};var t=this._doorLock.lock();this._animator.openMenu(function(){t(),this.emit("postopen"),e()}.bind(this))},toggle:function(e){this._logic.isClosed()?this.open(e):this.close(e)},toggleMenu:function(){return this.toggle.apply(this,arguments)},isMenuOpened:function(){return this._logic.isOpened()},_translate:function(e){this._animator.translateMenu(e)}});return s._animatorDict={"default":new r,overlay:new a,reveal:new r,push:new o},s.registerSlidingMenuAnimator=function(e,t){if(!(t instanceof i))throw new Error('"animator" param must be an instance of SlidingMenuAnimator');this._animatorDict[e]=t},MicroEvent.mixin(s),s}])}(),function(){"use strict";var e=angular.module("onsen");e.factory("SlidingMenuAnimator",function(){return Class.extend({setup:function(){},onResized:function(){},openMenu:function(){},closeClose:function(){},destroy:function(){},translateMenu:function(){},copy:function(){throw new Error("Override copy method.")}})})}(),function(){"use strict";var e=angular.module("onsen");e.factory("SplitView",["$compile","RevealSlidingMenuAnimator","$onsen",function(e,t,n){function i(e){return!isNaN(parseFloat(e))&&isFinite(e)}var r=0,o=1,a=.9,s="onPageReady",c=Class.extend({init:function(e,i){i.addClass("onsen-sliding-menu"),this._element=i,this._scope=e,this._abovePage=angular.element(i[0].querySelector(".onsen-split-view__main")),this._behindPage=angular.element(i[0].querySelector(".onsen-split-view__secondary")),this._previousX=0,this._max=this._abovePage[0].clientWidth*a,this._currentX=0,this._startX=0,this._mode=r,this._doorLock=new DoorLock,this._hammertime=new Hammer(this._element[0]),this._boundHammerEvent=this._handleEvent.bind(this),e.$watch("swipable",this._onSwipableChanged.bind(this)),n.isIOS()?window.addEventListener("orientationchange",this._onResize.bind(this)):window.addEventListener("resize",this._onResize.bind(this)),this._animator=new t,this._element.css("display","none"),e.mainPage&&this.setMainPage(e.mainPage),e.secondaryPage&&this.setSecondaryPage(e.secondaryPage);var o=this._doorLock.lock();this._considerChangingCollapse(),this._setSize(),setTimeout(function(){this._element.css("display","block"),o()}.bind(this),1e3/60*2),e.$on("$destroy",this._destroy.bind(this))},_appendSecondPage:function(t){var n=this._scope.$parent.$new(),i=e(t)(n);this._behindPage.append(i),this._currentBehindPageElement&&(this._currentBehindPageElement.remove(),this._currentBehindPageScope.$destroy()),this._currentBehindPageElement=i,this._currentBehindPageScope=n},_appendMainPage:function(t){var n=this._scope.$parent.$new(),i=e(t)(n);this._abovePage.append(i),this._currentPage&&(this._currentPage.remove(),this._currentPageScope.$destroy()),this._currentPage=i,this._currentPageScope=n},setSecondaryPage:function(e){if(!e)throw new Error("cannot set undefined page");n.getPageHTMLAsync(e).then(function(e){this._appendSecondPage(angular.element(e.trim()))}.bind(this),function(){throw new Error("Page is not found: "+e)})},setMainPage:function(e){if(!e)throw new Error("cannot set undefined page");n.getPageHTMLAsync(e).then(function(e){this._appendMainPage(angular.element(e.trim()))}.bind(this),function(){throw new Error("Page is not found: "+e)})},_onResize:function(){var e=this._mode;this._considerChangingCollapse(),e===o&&this._mode===o&&this._animator.onResized({isOpened:this._currentX>0,width:"90%"}),this._max=this._abovePage[0].clientWidth*a},_considerChangingCollapse:function(){this._shouldCollapse()?this._activateCollapseMode():this._activateSplitMode()},_shouldCollapse:function(){var e=window.orientation;switch(void 0===e&&(e=window.innerWidth>window.innerHeight?90:0),this._scope.collapse){case void 0:case"none":return!1;case"portrait":return 180===e||0===e;case"landscape":return 90==e||-90==e;default:if(void 0===this._scope.collapse)return!1;var t;if(this._scope.collapse.indexOf("width")>=0){var n=this._scope.collapse.split(" ");t=n[n.length-1]}else t=this._scope.collapse;return t.indexOf("px")>0&&(t=t.substr(0,t.length-2)),i(t)&&window.innerWidth<t}},_setSize:function(){if(this._mode===r){this._scope.mainPageWidth||(this._scope.mainPageWidth="70");var e=100-this._scope.mainPageWidth.replace("%","");this._behindPage.css({width:e+"%",opacity:1}),this._abovePage.css({width:this._scope.mainPageWidth+"%"}),this._abovePage.css("left",e+"%"),this._currentX=this._behindPage[0].clientWidth}},_activateCollapseMode:function(){this._mode!==o&&(this._behindPage.attr("style",""),this._abovePage.attr("style",""),this._mode=o,this._onSwipableChanged(this._scope.swipable),this._animator.setup(this._element,this._abovePage,this._behindPage,{isRight:!1,width:"90%"}),this._currentX=this._startX=0)},_activateSplitMode:function(){this._animator.destroy(),this._behindPage.attr("style",""),this._abovePage.attr("style",""),this._mode=r,this._setSize(),this._deactivateHammer()},_activateHammer:function(){this._hammertime.on("dragleft dragright swipeleft swiperight release",this._boundHammerEvent)},_deactivateHammer:function(){this._hammertime.off("dragleft dragright swipeleft swiperight release",this._boundHammerEvent)},_onSwipableChanged:function(e){e=""===e||void 0===e||"true"==e,e?this._activateHammer():this._deactivateHammer()},_handleEvent:function(e){if(!this._doorLock.isLocked())switch(e.type){case"dragleft":case"dragright":e.preventDefault(),e.gesture.preventDefault();var t=e.gesture.deltaX;this._currentX=this._startX+t,this._currentX>=0&&this._translate(this._currentX);break;case"swipeleft":e.gesture.preventDefault(),this.close();break;case"swiperight":e.gesture.preventDefault(),this.open();break;case"release":this._currentX>this._max/2?this.open():this.close()}},_onTransitionEnd:function(){this._scope.$root.$broadcast(s)},close:function(e){if(e=e||function(){},this._mode===r)return void e();if(this._mode===o&&(this._startX=0,0!==this._currentX)){var t=this;this._doorLock.waitUnlock(function(){var n=t._doorLock.lock();t._currentX=0,t._animator.closeMenu(function(){n(),t._onTransitionEnd(),e()})})}},open:function(e){if(e=e||function(){},this._mode===r)return void e();if(this._mode===o&&(this._startX=this._max,this._currentX!=this._max)){var t=this;this._doorLock.waitUnlock(function(){var n=t._doorLock.lock();t._currentX=t._max,t._animator.openMenu(function(){n(),t._onTransitionEnd(),e()})})}},toggle:function(e){0===this._startX?this.open(e):this.close(e)},_translate:function(e){if(this._mode===o){this._currentX=e;var t={distance:e,maxDistance:this._max};this._animator.translateMenu(t)}},_destroy:function(){this.emit("destroy",{splitView:this}),this._element=null,this._scope=null}});return MicroEvent.mixin(c),c}])}(),function(){"use strict";var e=angular.module("onsen");e.factory("SwitchView",["$onsen",function(){var e=Class.extend({init:function(e,t,n){this._element=e,this._checkbox=angular.element(e[0].querySelector("input[type=checkbox]")),this._scope=t,n.$observe("disabled",function(){e.attr("disabled")?this._checkbox.attr("disabled","disabled"):this._checkbox.removeAttr("disabled")}.bind(this)),this._checkbox.on("change",function(){this.emit("change",{"switch":this,value:this._checkbox[0].checked,isInteractive:!0})}.bind(this))},isChecked:function(){return this._checkbox[0].checked},setChecked:function(e){e=!!e,this._checkbox[0].checked!=e&&(this._scope.model=e,this._checkbox[0].checked=e,this._scope.$evalAsync(),this.emit("change",{"switch":this,value:e,isInteractive:!1}))},getCheckboxElemenet:function(){return this._checkbox[0]}});return MicroEvent.mixin(e),e}])}(),function(){"use strict;";var e=angular.module("onsen");e.factory("TabbarAnimator",function(){var e=Class.extend({apply:function(){throw new Error("This method must be implemented.")}});return e}),e.factory("TabbarNoneAnimator",["TabbarAnimator",function(e){var t=e.extend({apply:function(e,t,n){n()}});return t}]),e.factory("TabbarFadeAnimator",["TabbarAnimator",function(e){var t=e.extend({apply:function(e,t,n){animit.runAll(animit(e[0]).queue({transform:"translate3D(0, 0, 0)",opacity:0}).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:.4,timing:"linear"}).resetStyle().queue(function(e){n(),e()}),animit(t[0]).queue({transform:"translate3D(0, 0, 0)",opacity:1}).queue({transform:"translate3D(0, 0, 0)",opacity:0},{duration:.4,timing:"linear"}))}});return t}]),e.factory("TabbarView",["$onsen","$compile","TabbarAnimator","TabbarNoneAnimator","TabbarFadeAnimator",function(e,t,n,i,r){var o=Class.extend({_tabbarId:void 0,_tabItems:void 0,init:function(e,t,n){this._scope=e,this._element=t,this._attrs=n,this._tabbarId=Date.now(),this._tabItems=[],this._contentElement=angular.element(t[0].querySelector(".ons-tab-bar__content")),this._tabbarElement=angular.element(t[0].querySelector(".ons-tab-bar__footer")),this._scope.$on("$destroy",this._destroy.bind(this)),this._hasTopTabbar()&&this._prepareForTopTabbar()},_prepareForTopTabbar:function(){this._contentElement.attr("no-status-bar-fill",""),setImmediate(function(){this._contentElement.addClass("tab-bar--top__content"),this._tabbarElement.addClass("tab-bar--top")}.bind(this));var t=ons.findParentComponentUntil("ons-page",this._element[0]);if(t&&this._element.css("top",window.getComputedStyle(t.getContentElement(),null).getPropertyValue("padding-top")),e.shouldFillStatusBar(this._element[0])){var n=angular.element(document.createElement("div"));n.addClass("tab-bar__status-bar-fill"),n.css({width:"0px",height:"0px"}),this._element.prepend(n)}},_hasTopTabbar:function(){return"top"===this._attrs.position},setActiveTab:function(e,t){t=t||{};var n=this._tabItems[this.getActiveTabIndex()],i=this._tabItems[e],r=i.page&&!t.keepPage;if(!i)return!1;var o=!1;if(this.emit("prechange",{index:e,tabItem:i,cancel:function(){o=!0}}),o)return i.setInactive(),n&&n.setActive(),!1;i.setActive(),r&&this._loadPage(i.page,{callback:function(){this.emit("postchange",{index:e,tabItem:i})}.bind(this)});for(var a=0;a<this._tabItems.length;a++)this._tabItems[a]!=i?this._tabItems[a].setInactive():(this._triggerActiveTabChanged(a,i),r||this.emit("postchange",{index:e,tabItem:i}));return!0},_triggerActiveTabChanged:function(e,t){this._scope.onActiveTabChanged({$index:e,$tabItem:t})},setTabbarVisibility:function(e){this._scope.hideTabs=!e,this._onTabbarVisibilityChanged()},_onTabbarVisibilityChanged:function(){this._hasTopTabbar()?this._scope.hideTabs?this._contentElement.css("top","0px"):this._contentElement.css("top",""):this._scope.hideTabs?this._tabbarElement.css("bottom","0px"):this._tabbarElement.css("bottom","")},addTabItem:function(e){this._tabItems.push(e)},getActiveTabIndex:function(){for(var e,t=0;t<this._tabItems.length;t++)if(e=this._tabItems[t],e.isActive())return t;return-1},loadPage:function(e,t){return this._loadPage(e,t)},_loadPage:function(t,n){e.getPageHTMLAsync(t).then(function(e){var i=angular.element(e.trim());this._loadPageDOM(t,i,n)}.bind(this),function(){throw new Error("Page is not found: "+t)})},_loadPageDOM:function(e,n,i){i=i||{};var r=this._scope.$parent.$new(),o=t(n);this._contentElement.append(n);var a=o(r);if(r.$evalAsync(),this._currentPageElement){var s=this._currentPageElement,c=this._currentPageScope;this._currentPageElement=a,this._currentPageScope=r,this._getAnimatorOption(i).apply(a,s,function(){s.remove(),c.$destroy(),i.callback instanceof Function&&i.callback()})}else this._currentPageElement=a,this._currentPageScope=r,i.callback instanceof Function&&i.callback()},_getAnimatorOption:function(e){var t=this._element.attr("animation")||"default";return o._animatorDict[e.animation||t]||o._animatorDict["default"]},_destroy:function(){this.emit("destroy",{tabbar:this}),this._element=this._scope=this._attrs=null}});return MicroEvent.mixin(o),o._animatorDict={"default":new i,none:new i,fade:new r},o.registerAnimator=function(e,t){if(!(t instanceof n))throw new Error('"animator" param must be an instance of TabbarAnimator');this._transitionAnimatorDict[e]=t},o}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsBackButton",["$onsen","$compile","ComponentCleaner",function(e,t,n){return{restrict:"E",replace:!1,templateUrl:e.DIRECTIVE_TEMPLATE_URL+"/back_button.tpl",transclude:!0,scope:!0,link:{pre:function(t,i,r,o,a){t.modifierTemplater=e.generateModifierTemplater(r),a(t,function(e){e[0]&&i[0].querySelector(".back-button__label").appendChild(e[0])}),n.onDestroy(t,function(){n.destroyScope(t),n.destroyAttributes(r),i=null,t=null,r=null})}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsBottomToolbar",["$onsen",function(e){return{restrict:"E",replace:!1,transclude:!1,scope:!1,compile:function(t,n){var i=e.generateModifierTemplater(n);return t.addClass("bottom-bar"),t.addClass(i("bottom-bar--*")),t.css({"z-index":0}),{pre:function(t,n,i){t.modifierTemplater=e.generateModifierTemplater(i);var r=n.inheritedData("ons-page");r&&r.registerBottomToolbar(n)}}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsButton",["$onsen",function(e){return{restrict:"E",replace:!1,transclude:!0,scope:{animation:"@"},templateUrl:e.DIRECTIVE_TEMPLATE_URL+"/button.tpl",link:function(t,n,i,r,o){var a="slide-left";if(t.modifierTemplater=e.generateModifierTemplater(i),n.addClass("button effeckt-button"),n.addClass(t.modifierTemplater("button--*")),n.addClass(a),o(t,function(e){angular.element(n[0].querySelector(".ons-button-inner")).append(e)}),i.ngController)throw new Error("This element can't accept ng-controller directive.");t.item={},t.item.animation=a,i.$observe("disabled",function(e){"true"===e?n.attr("disabled",!0):n.attr("disabled",!1)}),t.$watch("animation",function(e){e&&(t.item.animation&&n.removeClass(t.item.animation),t.item.animation=e,n.addClass(t.item.animation))}),i.$observe("shouldSpin",function(e){"true"===e?n.attr("data-loading",!0):n.removeAttr("data-loading")}),e.cleaner.onDestroy(t,function(){e.clearComponent({scope:t,attrs:i,element:n}),t=n=i=null})}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsCol",["$timeout","$onsen",function(e,t){return{restrict:"E",replace:!1,transclude:!1,scope:!1,compile:function(e){return e.addClass("col ons-col-inner"),function(e,n,i){function r(e){"top"===e||"center"===e||"bottom"===e?(n.removeClass("col-top col-center col-bottom"),n.addClass("col-"+e)):n.removeClass("col-top col-center col-bottom")}function o(e){"string"==typeof e?(e=(""+e).trim(),e=e.match(/^\d+$/)?e+"%":e,n.css({"-webkit-box-flex":"0","-webkit-flex":"0 0 "+e,"-moz-box-flex":"0","-moz-flex":"0 0 "+e,"-ms-flex":"0 0 "+e,flex:"0 0 "+e,"max-width":e})):n.removeAttr("style")}i.$observe("align",function(e){r(e)}),i.$observe("width",function(e){o(e)}),i.$observe("size",function(e){i.width||o(e)}),r(i.align),o(i.size&&!i.width?i.size:i.width),t.cleaner.onDestroy(e,function(){t.clearComponent({scope:e,element:n,attrs:i}),n=i=e=null})}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsDummyForInit",["$rootScope",function(e){var t=!1;return{restrict:"E",replace:!1,link:{post:function(n,i){t||(t=!0,e.$broadcast("$ons-ready")),i.remove()}}}}])}(),function(){"use strict";var e="drag dragleft dragright dragup dragdown hold release swipe swipeleft swiperight swipeup swipedown tap doubletap touch transform pinch pinchin pinchout rotate".split(/ +/);angular.module("onsen").directive("onsGestureDetector",["$onsen",function(t){function n(e){return e.charAt(0).toUpperCase()+e.slice(1)
}var i=e.reduce(function(e,t){return e["ng"+n(t)]="&",e},{});return{restrict:"E",scope:i,replace:!1,transclude:!0,compile:function(){return function(r,o,a,s,c){function u(e){var t="ng"+n(e.type);t in i&&r[t]({$event:e})}c(r.$parent.$new(),function(e){o.append(e)});var l=new Hammer(o[0]);l.on(e.join(" "),u),t.cleaner.onDestroy(r,function(){l.off(e.join(" "),u),t.clearComponent({scope:r,element:o,attrs:a}),l.element=r=o=a=null})}}}}])}(),function(){"use strict";function e(e){var t=(""+e.attr("class")).split(/ +/).filter(function(e){return"fa"!==e&&"fa-"!==e.substring(0,3)});e.attr("class",t.join(" "))}function t(e){var t=["ons-icon"],n={};0===e.icon.indexOf("ion-")?(t.push(e.icon),t.push("ons-icon--ion")):0===e.icon.indexOf("fa-")?(t.push(e.icon),t.push("fa")):(t.push("fa"),t.push("fa-"+e.icon));var i=""+e.size;return i.match(/^[1-5]x|lg$/)?t.push("fa-"+i):"string"==typeof e.size?n["font-size"]=i:t.push("fa-lg"),("90"===e.rotate||"180"===e.rotate||"270"===e.rotate)&&t.push("ons-icon--rotate-"+e.rotate),("horizontal"===e.flip||"vertical"===e.flip)&&t.push("ons-icon--flip-"+e.flip),"false"!==e.fixedWidth&&t.push("ons-icon--fw"),"true"===e.spin&&t.push("ons-icon--spin"),{"class":t.join(" "),style:n}}var n=angular.module("onsen");n.directive("onsIcon",["$onsen",function(n){return{restrict:"E",replace:!1,transclude:!1,link:function(i,r,o){if(o.ngController)throw new Error("This element can't accept ng-controller directive.");var a=function(){e(r);var n=t(o);r.css(n.style),r.addClass(n["class"])},s=t(o);r.css(s.style),r.addClass(s["class"]),o.$observe("icon",a),o.$observe("size",a),o.$observe("fixedWidth",a),o.$observe("rotate",a),o.$observe("flip",a),o.$observe("spin",a),n.cleaner.onDestroy(i,function(){n.clearComponent({scope:i,element:r,attrs:o}),r=i=o=null})}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsIfOrientation",["$onsen","$onsGlobal",function(e,t){return{restrict:"A",replace:!1,transclude:!1,scope:!1,compile:function(n){return n.css("display","none"),function(n,i,r){function o(){var e=(""+r.onsIfOrientation).toLowerCase(),t=a();("portrait"===e||"landscape"===e)&&(e===t?i.css("display",""):i.css("display","none"))}function a(){return t.orientation.isPortrait()?"portrait":"landscape"}i.addClass("ons-if-orientation-inner"),r.$observe("onsIfOrientation",o),t.orientation.on("change",o),o(),e.cleaner.onDestroy(n,function(){t.orientation.off("change",o),e.clearComponent({element:i,scope:n,attrs:r}),i=n=r=null})}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsIfPlatform",["$onsen",function(e){return{restrict:"A",replace:!1,transclude:!1,scope:!1,compile:function(t){function n(){if(navigator.userAgent.match(/Android/i))return"android";if(navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/RIM Tablet OS/i)||navigator.userAgent.match(/BB10/i))return"blackberry";if(navigator.userAgent.match(/iPhone|iPad|iPod/i))return"ios";if(navigator.userAgent.match(/IEMobile/i))return"windows";var e=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;if(e)return"opera";var t="undefined"!=typeof InstallTrigger;if(t)return"firefox";var n=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0;if(n)return"safari";var i=!!window.chrome&&!e;if(i)return"chrome";var r=!1||!!document.documentMode;return r?"ie":"unknown"}t.addClass("ons-if-platform-inner"),t.css("display","none");var i=n();return function(t,n,r){function o(){r.onsIfPlatform.toLowerCase()===i.toLowerCase()?n.css("display","block"):n.css("display","none")}r.$observe("onsIfPlatform",function(e){e&&o()}),o(),e.cleaner.onDestroy(t,function(){e.clearComponent({element:n,scope:t,attrs:r}),n=t=r=null})}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsList",["$onsen",function(e){return{restrict:"E",scope:!1,replace:!1,transclude:!1,compile:function(t,n){var i=e.generateModifierTemplater(n);t.addClass("list ons-list-inner"),t.addClass(i("list--*"))}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsListHeader",["$onsen",function(e){return{restrict:"E",replace:!1,transclude:!1,compile:function(t,n){var i=e.generateModifierTemplater(n);t.addClass("list__header ons-list-header-inner"),t.addClass(i("list__header--*"))}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsListItem",["$onsen",function(e){return{restrict:"E",replace:!1,transclude:!1,compile:function(t,n){var i=e.generateModifierTemplater(n);t.addClass("list__item ons-list-item-inner"),t.addClass(i("list__item--*"))}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsModal",["$onsen","ModalView",function(e,t){function n(t,n){var i=e.generateModifierTemplater(n),r=t[0].innerHTML;t[0].innerHTML="";var o=angular.element("<div></div>");o.addClass("modal__content"),o.addClass(i("modal--*__content")),t.css("display","none"),t.addClass("modal"),t.addClass(i("modal--*")),o[0].innerHTML=r,t.append(o)}return{restrict:"E",replace:!1,scope:!1,transclude:!1,compile:function(i,r){return n(i,r),{pre:function(n,i,r){var o=i.inheritedData("ons-page");o&&o.registerExtraElement(i);var a=new t(n,i);e.declareVarAttribute(r,a),e.aliasStack.register("ons.modal",a),i.data("ons-modal",a),n.$on("$destroy",function(){i.data("ons-modal",void 0),e.aliasStack.unregister("ons.modal",a)})},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsNavigator",["$compile","NavigatorView","$onsen",function(e,t,n){return{restrict:"E",transclude:!1,scope:!0,compile:function(i){var r=n.normalizePageHTML(i.html());return i.contents().remove(),{pre:function(i,o,a){var s=new t({scope:i,element:o});if(n.declareVarAttribute(a,s),a.page)s.pushPage(a.page,{});else{var c=s._createPageScope(),u=angular.element(r),l=e(u),h=function(){l(c)};s._pushPageDOM("",u,h,c,{}),u=null}n.aliasStack.register("ons.navigator",s),o.data("ons-navigator",s),i.$on("$destroy",function(){o.data("ons-navigator",void 0),n.aliasStack.unregister("ons.navigator",s),o=null})}}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsPage",["$onsen","PageView",function(e,t){function n(e){var t=0,n=function(){if(!(t++<5))throw new Error('Fail to fire "pageinit" event. Attach "ons-page" element to the document after initialization.');o(e)?(r(e),i(e)):setImmediate(n)};n()}function i(e){var t=document.createEvent("HTMLEvents");t.initEvent("pageinit",!0,!0),e.dispatchEvent(t)}function r(t){if(e.shouldFillStatusBar(t)){var n=angular.element(document.createElement("div"));n.addClass("page__status-bar-fill"),n.css({width:"0px",height:"0px"}),angular.element(t).prepend(n)}}function o(e){return document.documentElement===e?!0:e.parentNode?o(e.parentNode):!1}function a(n,i,r){var o=new t(n,i,r);e.declareVarAttribute(r,o),e.aliasStack.register("ons.page",o),i.data("ons-page",o);var a=e.generateModifierTemplater(r);i.addClass("page "+a("page--*"));var s=angular.element(i[0].querySelector(".page__content"));s.addClass(a("page--*__content")),s=null,e.cleaner.onDestroy(n,function(){i.data("ons-page",void 0),e.aliasStack.unregister("ons.page",o),e.clearComponent({element:i,scope:n,attrs:r}),n=i=r=null})}function s(e,t){n(t[0])}return{restrict:"E",transclude:!1,scope:!0,compile:function(e){var t=e.children().remove(),n=angular.element('<div class="page__content ons-page-inner"></div>').append(t);if(e.attr("style")&&(n.attr("style",e.attr("style")),e.attr("style","")),Modernizr.csstransforms3d)e.append(n);else{n.css("overflow","visible");var i=angular.element("<div></div>");i.append(t),n.append(i),e.append(n),i=null;var r=new IScroll(n[0],{momentum:!0,bounce:!0,hScrollbar:!1,vScrollbar:!1,preventDefault:!1}),o=10;r.on("scrollStart",function(){var e=r.y-o;e<r.maxScrollY+40&&r.refresh()})}return n=null,t=null,{pre:a,post:s}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsRow",["$onsen","$timeout",function(){return{restrict:"E",replace:!1,transclude:!1,scope:!1,compile:function(e){return e.addClass("row ons-row-inner"),function(e,t,n){function i(){var e=(""+n.align).trim();("top"===e||"center"===e||"bottom"===e)&&(t.removeClass("row-bottom row-center row-top"),t.addClass("row-"+e))}n.$observe("align",function(){i()}),i()}}}}])}(),function(){"use strict";var e=angular.module("onsen"),t=Class.extend({push:function(e,t,n){n()},pop:function(e,t,n){n()}}),n=t.extend({backgroundMask:angular.element('<div style="position: absolute; width: 100%;height: 100%; background-color: black;"></div>'),push:function(e,t,n){var i=this.backgroundMask.remove();t.pageElement[0].parentNode.insertBefore(i[0],t.pageElement[0]),animit.runAll(animit(i[0]).wait(.4).queue(function(e){i.remove(),e()}),animit(e.pageElement[0]).queue({transform:"translate3D(0, 100%, 0)"}).queue({transform:"translate3D(0, 0, 0)"},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(e){n(),e()}),animit(t.pageElement[0]).queue({transform:"translate3D(0, 0, 0)",opacity:1}).queue({transform:"translate3D(0, -10%, 0)",opacity:.9},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle())},pop:function(e,t,n){var i=this.backgroundMask.remove();e.pageElement[0].parentNode.insertBefore(i[0],e.pageElement[0]),animit.runAll(animit(i[0]).wait(.4).queue(function(e){i.remove(),e()}),animit(e.pageElement[0]).queue({transform:"translate3D(0, -10%, 0)",opacity:.9}).queue({transform:"translate3D(0, 0, 0)",opacity:1},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}).resetStyle().queue(function(e){n(),e()}),animit(t.pageElement[0]).queue({transform:"translate3D(0, 0, 0)"}).queue({transform:"translate3D(0, 100%, 0)"},{duration:.4,timing:"cubic-bezier(.1, .7, .1, 1)"}))}});e.service("Screen",["$compile","$onsen",function(e,t){var i=Class.extend({init:function(e,t,n){this.screenItems=[],this.scope=e,this.element=t,this.attrs=n,this._doorLock=new DoorLock,this.attachMethods(),e.page&&this.resetToPage(e.page)},isEmpty:function(){return this.screenItems.length<1},compilePageEl:function(t,n){var i=e(t)(n);return i},createPageScope:function(){var e=this.scope.$new();return e},_presentPageDOM:function(e,t,i,r){r=r||function(){};var o={pageUrl:e,pageElement:t,pageScope:i,destroy:function(){this.pageElement.remove(),this.pageScope.$destroy()}};if(t.css("z-index",0),this.screenItems.push(o),this.screenItems.length>1){var a=o,s=this.screenItems[this.screenItems.length-2];(new n).push(a,s,function(){s.pageElement.css({display:"none"}),r()}),this.element.append(t)}else this.element.append(t),r()},presentPage:function(e){var n=this;this._doorLock.waitUnlock(function(){var i=n._doorLock.lock();t.getPageHTMLAsync(e).then(function(t){var r=angular.element(t.trim()),o=n.createPageScope(),a=n.compilePageEl(r,o);n._presentPageDOM(e,a,o,i)},function(){throw i(),new Error("Page is not found: "+e)})})},dismissPage:function(){if(!(this.screenItems.length<2)){var e=this;this._doorLock.waitUnlock(function(){var t=e._doorLock.lock(),i=e.screenItems.pop(),r=e.screenItems[e.screenItems.length-1];r.pageElement.css({display:"block"}),(new n).pop(r,i,function(){i.destroy(),t()})})}},resetToPage:function(e){this.scope.presentPage(e);for(var t=0;t<this.screenItems.length-1;t++)this.screenItems[t].destroy()},attachMethods:function(){this.scope.presentPage=this.presentPage.bind(this),this.scope.resetToPage=this.resetToPage.bind(this),this.scope.dismissPage=this.dismissPage.bind(this)}});return i}]),e.directive("onsScreen",["$compile","Screen","$onsen",function(e,t,n){return{restrict:"E",replace:!1,transclude:!1,scope:!0,compile:function(i){var r=n.normalizePageHTML(i.html().trim());return i.contents().remove(),function(i,o,a){var s=new t(i,o,a);if(n.declareVarAttribute(a,s),!a.page){var c=s.createPageScope(),u=e(angular.element(r))(c);s._presentPageDOM("",u,c)}n.aliasStack.register("ons.screen",s),o.data("ons-screen",s),i.$on("$destroy",function(){o.data("ons-screen",void 0),n.aliasStack.register("ons.screen",s)})}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsScroller",["$onsen","$timeout",function(e,t){return{restrict:"E",replace:!1,transclude:!0,scope:{onScrolled:"&",infinitScrollEnable:"="},compile:function(e){var n=(e.addClass("ons-scroller").children().remove(),angular.element("<div></div>"));return n.addClass("ons-scroller__content ons-scroller-inner"),e.append(n),function(e,i,r,o,a){if(r.ngController)throw new Error('"ons-scroller" can\'t accept "ng-controller" directive.');a(e.$parent,function(e){n.append(e),n=null});var s;s=i[0];var c=parseInt(r.threshold)||10;e.onScrolled&&s.addEventListener("scroll",function(){if(e.infinitScrollEnable){var t=s.scrollTop+s.offsetHeight,n=s.scrollHeight-c;t>=n&&e.onScrolled()}}),Modernizr.csstransforms3d||t(function(){var t=new IScroll(s,{momentum:!0,bounce:!0,hScrollbar:!1,vScrollbar:!1,preventDefault:!1});t.on("scrollStart",function(){var e=t.y-c;e<t.maxScrollY+40&&t.refresh()}),e.onScrolled&&t.on("scrollEnd",function(){var n=t.y-c;n<t.maxScrollY&&e.onScrolled()})},500)}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsSlidingMenu",["$compile","SlidingMenuView","$onsen",function(e,t,n){return{restrict:"E",replace:!1,transclude:!1,scope:!0,templateUrl:n.DIRECTIVE_TEMPLATE_URL+"/sliding_menu.tpl",link:function(e,i,r){if(r.ngController)throw new Error("This element can't accept ng-controller directive.");var o=new t(e,i,r);n.aliasStack.register("ons.slidingMenu",o),n.declareVarAttribute(r,o),i.data("ons-sliding-menu",o),e.$on("$destroy",function(){i.data("ons-sliding-menu",void 0),n.aliasStack.unregister("ons.slidingMenu",o)})}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsSplitView",["$compile","SplitView","$onsen",function(e,t,n){return{restrict:"E",replace:!1,transclude:!1,scope:{secondaryPage:"@",mainPage:"@",collapse:"@",swipable:"@",mainPageWidth:"@"},templateUrl:n.DIRECTIVE_TEMPLATE_URL+"/split_view.tpl",link:function(e,i,r){if(r.ngController)throw new Error("This element can't accept ng-controller directive.");var o=new t(e,i,r);n.declareVarAttribute(r,o),i.data("ons-split-view",o),n.aliasStack.register("ons.splitView",o),e.$on("$destroy",function(){i.data("ons-split-view",void 0),n.aliasStack.unregister("ons.splitView",o)})}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsSwitch",["$onsen","SwitchView",function(e,t){return{restrict:"E",replace:!1,transclude:!1,scope:!0,templateUrl:e.DIRECTIVE_TEMPLATE_URL+"/switch.tpl",compile:function(){return function(n,i,r){if(r.ngController)throw new Error("This element can't accept ng-controller directive.");var o=new t(i,n,r),a=angular.element(i[0].querySelector("input[type=checkbox]"));n.modifierTemplater=e.generateModifierTemplater(r),r.$observe("checked",function(){n.model=!!i.attr("checked")}),r.$observe("name",function(e){i.attr("name")&&a.attr("name",e)}),r.ngModel&&(n.$parent.$watch(r.ngModel,function(e){n.model=e}),n.$watch("model",function(e){n.$parent[r.ngModel]=e}),n.$parent[r.ngModel]=!!i.attr("checked")),e.declareVarAttribute(r,o),i.data("ons-switch",o),e.aliasStack.register("ons.switch",o),e.cleaner.onDestroy(n,function(){i.data("ons-switch",void 0),e.aliasStack.unregister("ons.switch",o),e.clearComponent({element:i,scope:n,attrs:r}),a=i=r=n=null})}}}}])}(),function(){"use strict";function e(e,t){return{restrict:"E",transclude:!0,scope:{page:"@",active:"@",icon:"@",activeIcon:"@",label:"@"},templateUrl:e.DIRECTIVE_TEMPLATE_URL+"/tab.tpl",compile:function(i){return i.addClass("tab-bar__item"),function(i,r,o,a,s){var c=r.inheritedData("ons-tabbar");if(!c)throw new Error("This ons-tab element is must be child of ons-tabbar element.");r.addClass(c._scope.modifierTemplater("tab-bar--*__item")),r.addClass(c._scope.modifierTemplater("tab-bar__item--*")),s(function(e){var a=angular.element(r[0].querySelector(".tab-bar-inner"));if(o.icon||o.label||!e[0]){var s=angular.element("<div>"+n+"</div>").children();a.append(s),t(s)(i)}else a.append(e)});var u=r[0].querySelector("input");i.tabbarModifierTemplater=c._scope.modifierTemplater,i.modifierTemplater=e.generateModifierTemplater(o),i.tabbarId=c._tabbarId,i.tabIcon=i.icon,c.addTabItem(i),i.setActive=function(){r.addClass("active"),u.checked=!0,i.activeIcon&&(i.tabIcon=i.activeIcon),angular.element(r[0].querySelectorAll("[ons-tab-inactive]")).css("display","none"),angular.element(r[0].querySelectorAll("[ons-tab-active]")).css("display","inherit")},i.setInactive=function(){r.removeClass("active"),u.checked=!1,i.tabIcon=i.icon,angular.element(r[0].querySelectorAll("[ons-tab-inactive]")).css("display","inherit"),angular.element(r[0].querySelectorAll("[ons-tab-active]")).css("display","none")},i.isActive=function(){return r.hasClass("active")},i.tryToChange=function(){c.setActiveTab(c._tabItems.indexOf(i))},i.active&&c.setActiveTab(c._tabItems.indexOf(i))}}}}var t=angular.module("onsen");t.directive("onsTab",e),t.directive("onsTabbarItem",e);var n='<div ng-if="icon != undefined" class="tab-bar__icon"><ons-icon icon="{{tabIcon}}" style="font-size: 28px; line-height: 34px; vertical-align: top;"></ons-icon></div><div ng-if="label" class="tab-bar__label">{{label}}</div>';e.$inject=["$onsen","$compile"]}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsTabbar",["$onsen","$compile","TabbarView",function(e,t,n){return{restrict:"E",replace:!1,transclude:!0,scope:{onActiveTabChanged:"&"},templateUrl:e.DIRECTIVE_TEMPLATE_URL+"/tab_bar.tpl",link:function(t,i,r,o,a){if(r.ngController)throw new Error("This element can't accept ng-controller directive.");t.modifierTemplater=e.generateModifierTemplater(r),t.selectedTabItem={source:""},r.$observe("hideTabs",function(e){var t="true"!==e;s.setTabbarVisibility(t)});var s=new n(t,i,r);t.tabbarId=s._tabbarId,e.aliasStack.register("ons.tabbar",s),i.data("ons-tabbar",s),e.declareVarAttribute(r,s),a(function(e){angular.element(i[0].querySelector(".ons-tabbar-inner")).append(e)}),t.$on("$destroy",function(){i.data("ons-tabbar",void 0),e.aliasStack.unregister("ons.tabbar",s)})}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsTemplate",["$onsen","$templateCache",function(e,t){return{restrict:"E",transclude:!1,priority:1e3,terminal:!0,compile:function(e){t.put(e.attr("id"),e.remove().html())}}}])}(),function(){"use strict";function e(e){var t=e[0].querySelector(".left");return t||(t=document.createElement("div"),t.setAttribute("class","left"),t.innerHTML="&nbsp;"),""===t.innerHTML.trim()&&(t.innerHTML="&nbsp;"),angular.element(t).addClass("navigation-bar__left"),t}function t(e){var t=e[0].querySelector(".center");return t||(t=document.createElement("div"),t.setAttribute("class","center")),""===t.innerHTML.trim()&&(t.innerHTML="&nbsp;"),angular.element(t).addClass("navigation-bar__title navigation-bar__center"),t}function n(e){var t=e[0].querySelector(".right");return t||(t=document.createElement("div"),t.setAttribute("class","right"),t.innerHTML="&nbsp;"),""===t.innerHTML.trim()&&(t.innerHTML="&nbsp;"),angular.element(t).addClass("navigation-bar__right"),t}function i(e){for(var t,n=!1,i=!1,r=e.contents(),o=0;o<r.length;o++)t=angular.element(r[o]),t.hasClass("center")?n=!0:(t.hasClass("left")||t.hasClass("right"))&&(i=!0);return n&&!i}function r(r){var o;if(i(r))o=t(r),r.contents().remove(),r.append(o);else{o=t(r);var a=e(r),s=n(r);r.contents().remove(),r.append(angular.element([a,o,s]))}}var o=angular.module("onsen");o.directive("onsToolbar",["$onsen",function(e){return{restrict:"E",replace:!1,scope:!0,transclude:!1,compile:function(t,n){var i=e.generateModifierTemplater(n);return t.addClass("navigation-bar"),t.addClass(i("navigation-bar--*")),t.css({position:"absolute","z-index":"10000",left:"0px",right:"0px",top:"0px"}),r(t),{pre:function(e,t){var n=t.inheritedData("ons-page");n&&n.registerToolbar(t)}}}}}])}(),function(){"use strict";var e=angular.module("onsen");e.directive("onsToolbarButton",["$onsen",function(e){return{restrict:"E",transclude:!0,templateUrl:e.DIRECTIVE_TEMPLATE_URL+"/toolbar_button.tpl",link:{pre:function(t,n,i){if(i.ngController)throw new Error("This element can't accept ng-controller directive.");t.modifierTemplater=e.generateModifierTemplater(i),e.cleaner.onDestroy(t,function(){e.clearComponent({scope:t,attrs:i,element:n}),t=n=i=null})}}}}])}(),function(){"use strict";var e=angular.module("onsen"),t={decomposeNode:function(e){for(var n=e.remove().children(),i=0;i<n.length;i++)t.decomposeNode(angular.element(n[i]))},destroyAttributes:function(e){e.$$element=null,e.$$observers=null},destroyElement:function(e){e.remove()},destroyScope:function(e){e.$$listeners={},e.$$watchers=null,e=null},onDestroy:function(e,t){var n=e.$on("$destroy",function(){n(),t.apply(null,arguments)})}};e.factory("ComponentCleaner",function(){return t}),function(){var n={};"click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" ").forEach(function(e){function i(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}var r=i("ng-"+e);n[r]=["$parse",function(n){return{compile:function(i,o){var a=n(o[r]);return function(n,i,r){var o=function(e){n.$apply(function(){a(n,{$event:e})})};i.on(e,o),t.onDestroy(n,function(){i.off(e,o),i=null,t.destroyScope(n),n=null,t.destroyAttributes(r),r=null})}}}}]}),e.config(["$provide",function(e){var t=function(e){return e.shift(),e};Object.keys(n).forEach(function(n){e.decorator(n+"Directive",["$delegate",t])})}]),Object.keys(n).forEach(function(t){e.directive(t,n[t])})}()}(),function(){"use strict";var e={init:function(){this.ready=!1},addBackButtonListener:function(e){this._ready?window.document.addEventListener("backbutton",e,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",e,!1)})},removeBackButtonListener:function(e){this._ready?window.document.removeEventListener("backbutton",e,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",e,!1)})}};e.init(),angular.module("onsen").service("DeviceBackButtonHandler",function(){this._init=function(){window.ons.isWebView()?window.document.addEventListener("deviceready",function(){e._ready=!0},!1):e._ready=!0,this._bindedCallback=this._callback.bind(this),this.enable()},this._isEnabled=!1,this.enable=function(){this._isEnabled||(e.addBackButtonListener(this._bindedCallback),this._isEnabled=!0)},this.disable=function(){this._isEnabled&&(e.removeBackButtonListener(this._bindedCallback),this._isEnabled=!1)},this.fireDeviceBackButtonEvent=function(){var e=document.createEvent("Event");e.initEvent("backbutton",!0,!0),document.dispatchEvent(e)},this._callback=function(){this._dispatchDeviceBackButtonEvent()},this.create=function(e,t){if(!(e instanceof angular.element().constructor))throw new Error("element must be an instance of jqLite");if(!(t instanceof Function))throw new Error("callback must be an instance of Function");var n={_callback:t,_element:e,disable:function(){this._element.data("device-backbutton-handler",null)},setListener:function(e){this._callback=e},enable:function(){this._element.data("device-backbutton-handler",this)},isEnabled:function(){return this._element.data("device-backbutton-handler")===this},destroy:function(){this._element.data("device-backbutton-handler",null),this._callback=this._element=null}};return n.enable(),n},this._dispatchDeviceBackButtonEvent=function(){function e(t){return{_element:t,callParentHandler:function(){for(var t=this._element.parent();t[0];){if(i=t.data("device-backbutton-handler"))return i._callback(e(t));t=t.parent()}}}}var t=this._captureTree(),n=this._findHandlerLeafElement(t),i=n.data("device-backbutton-handler");i._callback(e(n))},this._dumpParents=function(e){for(;e[0];)console.log(e[0].nodeName.toLowerCase()+"."+e.attr("class")),e=e.parent()},this._captureTree=function(){function e(t){return{element:t,children:Array.prototype.concat.apply([],Array.prototype.map.call(t.children(),function(t){if(t=angular.element(t),"none"===t[0].style.display)return[];if(0===t.children().length&&!t.data("device-backbutton-handler"))return[];var n=e(t);return 0!==n.children.length||t.data("device-backbutton-handler")?[n]:[]}))}}return e(angular.element(document.body))},this._dumpTree=function(e){function t(e,n){var i=new Array(n+1).join("  ");console.log(i+e.element[0].nodeName.toLowerCase()),e.children.forEach(function(e){t(e,n+1)})}t(e,0)},this._findHandlerLeafElement=function(e){function t(e){return 0===e.children.length?e.element:1===e.children.length?t(e.children[0]):e.children.map(function(e){return e.element}).reduce(function(e,t){if(null===e)return t;var n=parseInt(window.getComputedStyle(e[0],"").zIndex,10),i=parseInt(window.getComputedStyle(t[0],"").zIndex,10);if(!isNaN(n)&&!isNaN(i))return n>i?e:t;throw new Error("Capturing backbutton-handler is failure.")},null)}return t(e)},this._init()})}(),function(){"use strict";var e=angular.module("onsen");e.factory("$onsen",["$rootScope","$window","$cacheFactory","$document","$templateCache","$http","$q","$onsGlobal","ComponentCleaner","DeviceBackButtonHandler",function(e,t,n,i,r,o,a,s,c,u){function l(){return{DIRECTIVE_TEMPLATE_URL:"templates",aliasStack:f,cleaner:c,DeviceBackButtonHandler:u,_defaultDeviceBackButtonHandler:u.create(angular.element(document.body),function(){navigator.app.exitApp()}),getDefaultDeviceBackButtonHandler:function(){return this._defaultDeviceBackButtonHandler},isEnabledAutoStatusBarFill:function(){return!!s._config.autoStatusBarFill},shouldFillStatusBar:function(e){if(this.isEnabledAutoStatusBarFill()&&this.isWebView()&&this.isIOS7Above()){if(!(e instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");for(var t="ONS-TABBAR"===e.tagName?console.log.bind(console):angular.noop;;){if(e.hasAttribute("no-status-bar-fill"))return!1;if(e=e.parentNode,t(e),!e||!e.hasAttribute)return!0}}return!1},clearComponent:function(e){e.scope&&c.destroyScope(e.scope),e.attrs&&c.destroyAttributes(e.attrs),e.element&&c.destroyElement(e.element),e.elements&&e.elements.forEach(function(e){c.destroyElement(e)})},upTo:function(e,t){t=t.toLowerCase();do{if(!e)return null;if(e=e.parentNode,e.tagName.toLowerCase()==t)return e}while(e.parentNode);return null},waitForVariables:function(e,t){d.addCallback(e,t)},findElementeObject:function(e,t){return e.inheritedData(t)},getPageHTMLAsync:function(e){var t=r.get(e);if(t){var n=a.defer(),i="string"==typeof t?t:t[1];return n.resolve(this.normalizePageHTML(i)),n.promise}return o({url:e,method:"GET"}).then(function(e){var t=e.data;return this.normalizePageHTML(t)}.bind(this))},normalizePageHTML:function(e){return e=(""+e).trim(),e.match(/^<ons-page/)||(e="<ons-page>"+e+"</ons-page>"),e},generateModifierTemplater:function(e){var t=e&&"string"==typeof e.modifier?e.modifier.trim().split(/ +/):[];return function(e){return t.map(function(t){return e.replace("*",t)}).join(" ")}},declareVarAttribute:function(e,t){if("string"==typeof e["var"]){var n=e["var"];this._defineVar(n,t),d.unlockVarName(n)}},isAndroid:function(){return!!window.navigator.userAgent.match(/android/i)},isIOS:function(){return!!window.navigator.userAgent.match(/(ipad|iphone|ipod touch)/i)},isWebView:function(){return window.ons.isWebView()},isIOS7Above:function(){var e=window.navigator.userAgent,t=e.match(/(iPad|iPhone|iPod touch);.*CPU.*OS (\d+)_(\d+)/i),n=t?parseFloat(t[2]+"."+t[3])>=7:!1;return function(){return n}}(),_defineVar:function(n,i){function r(e,t,n){for(var i,r=0;r<t.length-1;r++)i=t[r],(void 0===e[i]||null===e[i])&&(e[i]={}),e=e[i];e[t[t.length-1]]=n}var o=n.split(/\./);r(t,o,i),r(e,o,i)}}}function h(){return{_unlockersDict:{},_unlockedVarDict:{},_addVarLock:function(e,t){if(!(t instanceof Function))throw new Error("unlocker argument must be an instance of Function.");this._unlockersDict[e]?this._unlockersDict[e].push(t):this._unlockersDict[e]=[t]},unlockVarName:function(e){var t=this._unlockersDict[e];t&&t.forEach(function(e){e()}),this._unlockedVarDict[e]=!0},addCallback:function(e,t){if(!(t instanceof Function))throw new Error("callback argument must be an instance of Function.");var n=new DoorLock,i=this;e.forEach(function(e){if(!i._unlockedVarDict[e]){var t=n.lock();i._addVarLock(e,t)}}),n.isLocked()?n.waitUnlock(t):t()}}}function p(){return{_stackDict:{},register:function(e,t){this._getStack(e).push(t),m._defineVar(e,t)},unregister:function(e,t){var n=this._getStack(e),i=n.indexOf(t);if(-1===i)throw new Error("no such object: "+t);n.splice(i,1);var r=n.length>0?n[n.length-1]:null;m._defineVar(e,r)},_getStack:function(e){return this._stackDict[e]||(this._stackDict[e]=[]),this._stackDict[e]}}}var d=h(),f=p(),m=l();return m}])}(),window.animit=function(){"use strict";var e=function(t){if(!(this instanceof e))return new e(t);if(t instanceof HTMLElement)this.elements=[t];else{if("[object Array]"!==Object.prototype.toString.call(t))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=t}this.transitionQueue=[],this.lastStyleAttributeDict=[];var n=this;this.elements.forEach(function(e,t){e.hasAttribute("data-animit-orig-style")?n.lastStyleAttributeDict[t]=e.getAttribute("data-animit-orig-style"):(n.lastStyleAttributeDict[t]=e.getAttribute("style"),e.setAttribute("data-animit-orig-style",n.lastStyleAttributeDict[t]||""))})};e.prototype={transitionQueue:void 0,element:void 0,play:function(e){return"function"==typeof e&&this.transitionQueue.push(function(t){e(),t()}),this.startAnimation(),this},queue:function(t,n){var i=this.transitionQueue;if(t&&n&&(n.css=t,t=new e.Transition(n)),t instanceof Function||t instanceof e.Transition||(t=new e.Transition(t.css?t:{css:t})),t instanceof Function)i.push(t);else{if(!(t instanceof e.Transition))throw new Error("Invalid arguments");i.push(t.build())}return this},wait:function(e){return this.transitionQueue.push(function(t){setTimeout(t,1e3*e)}),this},resetStyle:function(n){function i(){r.elements.forEach(function(t,n){t.style[e.prefix+"Transition"]="none",t.style.transition="none",r.lastStyleAttributeDict[n]?t.setAttribute("style",r.lastStyleAttributeDict[n]):(t.setAttribute("style",""),t.removeAttribute("style"))})}n=n||{};var r=this;if(n.transition&&!n.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');if(n.transition||n.duration&&n.duration>0){var o=n.transition||"all "+n.duration+"s "+(n.timing||"linear"),a="transition: "+o+"; -"+e.prefix+"-transition: "+o+";";this.transitionQueue.push(function(s){var c=this.elements;c.forEach(function(t,n){t.style[e.prefix+"Transition"]=o,t.style.transition=o;var i=(r.lastStyleAttributeDict[n]?r.lastStyleAttributeDict[n]+"; ":"")+a;t.setAttribute("style",i)});var u=t.addOnTransitionEnd(c[0],function(){clearTimeout(l),i(),s()}),l=setTimeout(function(){u(),i(),s()},1e3*n.duration*1.4)})}else this.transitionQueue.push(function(e){i(),e()});return this},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var e=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=e;var t=this,n=!1,i=function(){if(n)throw new Error("Invalid state: This callback is called twice.");n=!0,t._currentTransition=void 0,t._dequeueTransition()};e&&e.call(this,i)}},e.cssPropertyDict=function(){var e=window.getComputedStyle(document.documentElement,""),t={},n="A".charCodeAt(0),i="z".charCodeAt(0);for(var r in e)if(e.hasOwnProperty(r)){{r.charCodeAt(0)}n<=r.charCodeAt(0)&&i>=r.charCodeAt(0)&&"cssText"!==r&&"parentText"!==r&&"length"!==r&&(t[r]=!0)}return t}(),e.hasCssProperty=function(t){return!!e.cssPropertyDict[t]},e.prefix=function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];return t}(),e.runAll=function(){for(var e=0;e<arguments.length;e++)arguments[e].play()},e.Transition=function(e){this.options=e||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"
},e.Transition.prototype={build:function(){function n(n){var i={};return Object.keys(n).forEach(function(r){var o=n[r];r=t.normalizeStyleName(r);var a=e.prefix+t.capitalize(r);e.cssPropertyDict[r]?i[r]=o:e.cssPropertyDict[a]?i[a]=o:(i[a]=o,i[r]=o)}),i}if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var i=n(this.options.css);if(this.options.duration>0){var r=t.buildTransitionValue(this.options),o=this;return function(n){var a=this.elements,s=1e3*o.options.duration*1.4,c=t.addOnTransitionEnd(a[0],function(){clearTimeout(u),n()}),u=setTimeout(function(){c(),n()},s);a.forEach(function(t){t.style[e.prefix+"Transition"]=r,t.style.transition=r,Object.keys(i).forEach(function(e){t.style[e]=i[e]})})}}return this.options.duration<=0?function(t){var n=this.elements;n.forEach(function(t){t.style[e.prefix+"Transition"]="none",t.transition="none",Object.keys(i).forEach(function(e){t.style[e]=i[e]})}),n.forEach(function(e){e.getBoundingClientRect()}),window.requestAnimationFrame?requestAnimationFrame(t):setTimeout(t,1e3/30)}:void 0}};var t={normalizeStyleName:function(e){return e=e.replace(/-[a-zA-Z]/g,function(e){return e.slice(1).toUpperCase()}),e.charAt(0).toLowerCase()+e.slice(1)},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},buildTransitionValue:function(e){e.property=e.property||"all",e.duration=e.duration||.4,e.timing=e.timing||"linear";var t=e.property.split(/ +/);return t.map(function(t){return t+" "+e.duration+"s "+e.timing}).join(", ")},addOnTransitionEnd:function(e,n){if(!e)return function(){};var i=function(t){e==t.target&&(t.stopPropagation(),r(),n())},r=function(){t._transitionEndEvents.forEach(function(t){e.removeEventListener(t,i)})};return t._transitionEndEvents.forEach(function(t){e.addEventListener(t,i,!1)}),r},_transitionEndEvents:function(){return"webkit"===e.prefix||"o"===e.prefix||"moz"===e.prefix||"ms"===e.prefix?[e.prefix+"TransitionEnd","transitionend"]:["transitionend"]}()};return e}(),window.ons.orientation=function(){function e(){var e={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraintImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraintImplementation:function(){var e=window.innerWidth<window.innerHeight;this._isPortrait="orientation"in window?window.orientation%180===0?function(){return window.orientation%180===0?e:!e}:function(){return window.orientation%180===90?e:!e}:function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){setImmediate(function(){this.emit("change",{isPortrait:this.isPortrait()})}.bind(this))},_onResize:function(){"_lastScreenIsPortraitOrNot"in this?this.isPortrait()!==this._lastScreenIsPortraitOrNot&&this.emit("change",{isPortrait:this.isPortrait()}):this.emit("change",{isPortrait:this.isPortrait()}),this._lastScreenIsPortraitOrNot=this.isPortrait()}};return MicroEvent.mixin(e),e}return e()._init()}(),function(){"use strict";window.addEventListener("load",function(){FastClick.attach(document.body)},!1),(new Viewport).setup(),Modernizr.testStyles("#modernizr { -webkit-overflow-scrolling:touch }",function(e){Modernizr.addTest("overflowtouch",window.getComputedStyle&&"touch"==window.getComputedStyle(e).getPropertyValue("-webkit-overflow-scrolling"))}),window.jQuery&&angular.element===window.jQuery&&console.warn("Onsen UI require jqLite. Load jQuery after loading AngularJS to fix this error. jQuery may break Onsen UI behavior.")}(),function(){"use strict";angular.module("onsen").run(["$templateCache",function(e){for(var t=window.document.querySelectorAll('script[type="text/ons-template"]'),n=0;n<t.length;n++){var i=angular.element(t[n]),r=i.attr("id");"string"==typeof r&&e.put(r,i.text())}}])}(),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,a=i.push,s=i.slice,c=i.concat,u=r.toString,l=r.hasOwnProperty,h=i.forEach,p=i.map,d=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,E=Array.isArray,_=Object.keys,w=o.bind,$=function(e){return e instanceof $?e:this instanceof $?void(this._wrapped=e):new $(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=$),exports._=$):e._=$,$.VERSION="1.4.4";var S=$.each=$.forEach=function(e,t,i){if(null!=e)if(h&&e.forEach===h)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var a in e)if($.has(e,a)&&t.call(i,e[a],a,e)===n)return};$.map=$.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(S(e,function(e,r,o){i[i.length]=t.call(n,e,r,o)}),i)};var P="Reduce of empty array with no initial value";$.reduce=$.foldl=$.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),d&&e.reduce===d)return i&&(t=$.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(S(e,function(e,o,a){r?n=t.call(i,n,e,o,a):(n=e,r=!0)}),!r)throw new TypeError(P);return n},$.reduceRight=$.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=$.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=$.keys(e);o=a.length}if(S(e,function(s,c,u){c=a?a[--o]:--o,r?n=t.call(i,n,e[c],c,u):(n=e[c],r=!0)}),!r)throw new TypeError(P);return n},$.find=$.detect=function(e,t,n){var i;return x(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},$.filter=$.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(S(e,function(e,r,o){t.call(n,e,r,o)&&(i[i.length]=e)}),i)},$.reject=function(e,t,n){return $.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},$.every=$.all=function(e,t,i){t||(t=$.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(S(e,function(e,o,a){return(r=r&&t.call(i,e,o,a))?void 0:n}),!!r)};var x=$.some=$.any=function(e,t,i){t||(t=$.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(S(e,function(e,o,a){return r||(r=t.call(i,e,o,a))?n:void 0}),!!r)};$.contains=$.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):x(e,function(e){return e===t})},$.invoke=function(e,t){var n=s.call(arguments,2),i=$.isFunction(t);return $.map(e,function(e){return(i?t:e[t]).apply(e,n)})},$.pluck=function(e,t){return $.map(e,function(e){return e[t]})},$.where=function(e,t,n){return $.isEmpty(t)?n?null:[]:$[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},$.findWhere=function(e,t){return $.where(e,t,!0)},$.max=function(e,t,n){if(!t&&$.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.max.apply(Math,e);if(!t&&$.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return S(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a>=i.computed&&(i={value:e,computed:a})}),i.value},$.min=function(e,t,n){if(!t&&$.isArray(e)&&e[0]===+e[0]&&65535>e.length)return Math.min.apply(Math,e);if(!t&&$.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return S(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;i.computed>a&&(i={value:e,computed:a})}),i.value},$.shuffle=function(e){var t,n=0,i=[];return S(e,function(e){t=$.random(n++),i[n-1]=i[t],i[t]=e}),i};var k=function(e){return $.isFunction(e)?e:function(t){return t[e]}};$.sortBy=function(e,t,n){var i=k(t);return $.pluck($.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var T=function(e,t,n,i){var r={},o=k(t||$.identity);return S(e,function(t,a){var s=o.call(n,t,a,e);i(r,s,t)}),r};$.groupBy=function(e,t,n){return T(e,t,n,function(e,t,n){($.has(e,t)?e[t]:e[t]=[]).push(n)})},$.countBy=function(e,t,n){return T(e,t,n,function(e,t){$.has(e,t)||(e[t]=0),e[t]++})},$.sortedIndex=function(e,t,n,i){n=null==n?$.identity:k(n);for(var r=n.call(i,t),o=0,a=e.length;a>o;){var s=o+a>>>1;r>n.call(i,e[s])?o=s+1:a=s}return o},$.toArray=function(e){return e?$.isArray(e)?s.call(e):e.length===+e.length?$.map(e,$.identity):$.values(e):[]},$.size=function(e){return null==e?0:e.length===+e.length?e.length:$.keys(e).length},$.first=$.head=$.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},$.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},$.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},$.rest=$.tail=$.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},$.compact=function(e){return $.filter(e,$.identity)};var C=function(e,t,n){return S(e,function(e){$.isArray(e)?t?a.apply(n,e):C(e,t,n):n.push(e)}),n};$.flatten=function(e,t){return C(e,t,[])},$.without=function(e){return $.difference(e,s.call(arguments,1))},$.uniq=$.unique=function(e,t,n,i){$.isFunction(t)&&(i=n,n=t,t=!1);var r=n?$.map(e,n,i):e,o=[],a=[];return S(r,function(n,i){(t?i&&a[a.length-1]===n:$.contains(a,n))||(a.push(n),o.push(e[i]))}),o},$.union=function(){return $.uniq(c.apply(i,arguments))},$.intersection=function(e){var t=s.call(arguments,1);return $.filter($.uniq(e),function(e){return $.every(t,function(t){return $.indexOf(t,e)>=0})})},$.difference=function(e){var t=c.apply(i,s.call(arguments,1));return $.filter(e,function(e){return!$.contains(t,e)})},$.zip=function(){for(var e=s.call(arguments),t=$.max($.pluck(e,"length")),n=Array(t),i=0;t>i;i++)n[i]=$.pluck(e,""+i);return n},$.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},$.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=$.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},$.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},$.range=function(e,t,n){1>=arguments.length&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=Array(i);i>r;)o[r++]=e,e+=n;return o},$.bind=function(e,t){if(e.bind===w&&w)return w.apply(e,s.call(arguments,1));var n=s.call(arguments,2);return function(){return e.apply(t,n.concat(s.call(arguments)))}},$.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},$.bindAll=function(e){var t=s.call(arguments,1);return 0===t.length&&(t=$.functions(e)),S(t,function(t){e[t]=$.bind(e[t],e)}),e},$.memoize=function(e,t){var n={};return t||(t=$.identity),function(){var i=t.apply(this,arguments);return $.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},$.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},$.defer=function(e){return $.delay.apply($,[e,1].concat(s.call(arguments,1)))},$.throttle=function(e,t){var n,i,r,o,a=0,s=function(){a=new Date,r=null,o=e.apply(n,i)};return function(){var c=new Date,u=t-(c-a);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,a=c,o=e.apply(n,i)):r||(r=setTimeout(s,u)),o}},$.debounce=function(e,t,n){var i,r;return function(){var o=this,a=arguments,s=function(){i=null,n||(r=e.apply(o,a))},c=n&&!i;return clearTimeout(i),i=setTimeout(s,t),c&&(r=e.apply(o,a)),r}},$.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},$.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},$.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},$.after=function(e,t){return 0>=e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},$.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)$.has(e,n)&&(t[t.length]=n);return t},$.values=function(e){var t=[];for(var n in e)$.has(e,n)&&t.push(e[n]);return t},$.pairs=function(e){var t=[];for(var n in e)$.has(e,n)&&t.push([n,e[n]]);return t},$.invert=function(e){var t={};for(var n in e)$.has(e,n)&&(t[e[n]]=n);return t},$.functions=$.methods=function(e){var t=[];for(var n in e)$.isFunction(e[n])&&t.push(n);return t.sort()},$.extend=function(e){return S(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},$.pick=function(e){var t={},n=c.apply(i,s.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},$.omit=function(e){var t={},n=c.apply(i,s.call(arguments,1));for(var r in e)$.contains(n,r)||(t[r]=e[r]);return t},$.defaults=function(e){return S(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},$.clone=function(e){return $.isObject(e)?$.isArray(e)?e.slice():$.extend({},e):e},$.tap=function(e,t){return t(e),e};var B=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof $&&(e=e._wrapped),t instanceof $&&(t=t._wrapped);var r=u.call(e);if(r!=u.call(t))return!1;switch(r){case"[object String]":return e==t+"";case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;n.push(e),i.push(t);var a=0,s=!0;if("[object Array]"==r){if(a=e.length,s=a==t.length)for(;a--&&(s=B(e[a],t[a],n,i)););}else{var c=e.constructor,l=t.constructor;if(c!==l&&!($.isFunction(c)&&c instanceof c&&$.isFunction(l)&&l instanceof l))return!1;for(var h in e)if($.has(e,h)&&(a++,!(s=$.has(t,h)&&B(e[h],t[h],n,i))))break;if(s){for(h in t)if($.has(t,h)&&!a--)break;s=!a}}return n.pop(),i.pop(),s};$.isEqual=function(e,t){return B(e,t,[],[])},$.isEmpty=function(e){if(null==e)return!0;if($.isArray(e)||$.isString(e))return 0===e.length;for(var t in e)if($.has(e,t))return!1;return!0},$.isElement=function(e){return!(!e||1!==e.nodeType)},$.isArray=E||function(e){return"[object Array]"==u.call(e)},$.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){$["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),$.isArguments(arguments)||($.isArguments=function(e){return!(!e||!$.has(e,"callee"))}),"function"!=typeof/./&&($.isFunction=function(e){return"function"==typeof e}),$.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},$.isNaN=function(e){return $.isNumber(e)&&e!=+e},$.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},$.isNull=function(e){return null===e},$.isUndefined=function(e){return void 0===e},$.has=function(e,t){return l.call(e,t)},$.noConflict=function(){return e._=t,this},$.identity=function(e){return e},$.times=function(e,t,n){for(var i=Array(e),r=0;e>r;r++)i[r]=t.call(n,r);return i},$.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var U={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};U.unescape=$.invert(U.escape);var A={escape:RegExp("["+$.keys(U.escape).join("")+"]","g"),unescape:RegExp("("+$.keys(U.unescape).join("|")+")","g")};$.each(["escape","unescape"],function(e){$[e]=function(t){return null==t?"":(""+t).replace(A[e],function(t){return U[e][t]})}}),$.result=function(e,t){if(null==e)return null;var n=e[t];return $.isFunction(n)?n.call(e):n},$.mixin=function(e){S($.functions(e),function(t){var n=$[t]=e[t];$.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),N.call(this,n.apply($,e))}})};var M=0;$.uniqueId=function(e){var t=++M+"";return e?e+t:t},$.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;$.template=function(e,t,n){var i;n=$.defaults({},n,$.templateSettings);var r=RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(r,function(t,n,i,r,s){return a+=e.slice(o,s).replace(D,function(e){return"\\"+O[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return i(t,$);var c=function(e){return i.call(this,e,$)};return c.source="function("+(n.variable||"obj")+"){\n"+a+"}",c},$.chain=function(e){return $(e).chain()};var N=function(e){return this._chain?$(e).chain():e};$.mixin($),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];$.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],N.call(this,n)}}),S(["concat","join","slice"],function(e){var t=i[e];$.prototype[e]=function(){return N.call(this,t.apply(this._wrapped,arguments))}}),$.extend($.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(e){var t,n,i,r;!function(){var e={},o={};t=function(t,n,i){e[t]={deps:n,callback:i}},r=i=n=function(t){function i(e){if("."!==e.charAt(0))return e;for(var n=e.split("/"),i=t.split("/").slice(0,-1),r=0,o=n.length;o>r;r++){var a=n[r];if(".."===a)i.pop();else{if("."===a)continue;i.push(a)}}return i.join("/")}if(r._eak_seen=e,o[t])return o[t];if(o[t]={},!e[t])throw new Error("Could not find module "+t);for(var a,s=e[t],c=s.deps,u=s.callback,l=[],h=0,p=c.length;p>h;h++)l.push("exports"===c[h]?a={}:n(i(c[h])));var d=u.apply(this,l);return o[t]=a||d}}(),t("rsvp/all",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return n.all(e,t)}}),t("rsvp/all_settled",["./promise","./utils","exports"],function(e,t,n){"use strict";function i(e){return{state:"fulfilled",value:e}}function r(e){return{state:"rejected",reason:e}}var o=e["default"],a=t.isArray,s=t.isNonThenable;n["default"]=function(e,t){return new o(function(t){function n(e){return function(t){u(e,i(t))}}function c(e){return function(t){u(e,r(t))}}function u(e,n){p[e]=n,0===--h&&t(p)}if(!a(e))throw new TypeError("You must pass an array to allSettled.");var l,h=e.length;if(0===h)return void t([]);for(var p=new Array(h),d=0;d<e.length;d++)l=e[d],s(l)?u(d,i(l)):o.cast(l).then(n(d),c(d))},t)}}),t("rsvp/asap",["exports"],function(e){"use strict";function t(){return function(){process.nextTick(r)}}function n(){var e=0,t=new s(r),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function i(){return function(){setTimeout(r,1)}}function r(){for(var e=0;e<c.length;e++){var t=c[e],n=t[0],i=t[1];n(i)}c=[]}e["default"]=function(e,t){var n=c.push([e,t]);1===n&&o()};var o,a="undefined"!=typeof window?window:{},s=a.MutationObserver||a.WebKitMutationObserver,c=[];o="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():s?n():i()}),t("rsvp/config",["./events","exports"],function(e,t){"use strict";function n(e,t){return"onerror"===e?void r.on("error",t):2!==arguments.length?r[e]:void(r[e]=t)}var i=e["default"],r={instrument:!1};i.mixin(r),t.config=r,t.configure=n}),t("rsvp/defer",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e){var t={};return t.promise=new n(function(e,n){t.resolve=e,t.reject=n},e),t}}),t("rsvp/events",["exports"],function(e){"use strict";var t=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},n=function(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t};e["default"]={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e},on:function(e,i){var r,o=n(this);r=o[e],r||(r=o[e]=[]),-1===t(r,i)&&r.push(i)},off:function(e,i){var r,o,a=n(this);return i?(r=a[e],o=t(r,i),void(-1!==o&&r.splice(o,1))):void(a[e]=[])},trigger:function(e,t){var i,r,o=n(this);if(i=o[e])for(var a=0;a<i.length;a++)(r=i[a])(t)}}}),t("rsvp/filter",["./all","./map","./utils","exports"],function(e,t,n,i){"use strict";function r(e,t,n){if(!c(e))throw new TypeError("You must pass an array to filter.");if(!s(t))throw new TypeError("You must pass a function to filter's second argument.");return o(e,n).then(function(i){return a(e,t,n).then(function(e){var t,n=i.length,r=[];for(t=0;n>t;t++)e[t]&&r.push(i[t]);return r})})}var o=e["default"],a=t["default"],s=n.isFunction,c=n.isArray;i["default"]=r}),t("rsvp/hash",["./promise","./utils","exports"],function(e,t,n){"use strict";var i=e["default"],r=t.isNonThenable,o=t.keysOf;n["default"]=function(e){return new i(function(t,n){function a(e){return function(n){l[e]=n,0===--p&&t(l)}}function s(e){p=0,n(e)}var c,u,l={},h=o(e),p=h.length;if(0===p)return void t(l);for(var d=0;d<h.length;d++)u=h[d],c=e[u],r(c)?(l[u]=c,0===--p&&t(l)):i.cast(c).then(a(u),s)})}}),t("rsvp/instrument",["./config","./utils","exports"],function(e,t,n){"use strict";var i=e.config,r=t.now;n["default"]=function(e,t,n){try{i.trigger(e,{guid:t._guidKey+t._id,eventName:e,detail:t._detail,childGuid:n&&t._guidKey+n._id,label:t._label,timeStamp:r(),stack:new Error(t._label).stack})}catch(o){setTimeout(function(){throw o},0)}}}),t("rsvp/map",["./promise","./all","./utils","exports"],function(e,t,n,i){"use strict";var r=(e["default"],t["default"]),o=n.isArray,a=n.isFunction;i["default"]=function(e,t,n){if(!o(e))throw new TypeError("You must pass an array to map.");if(!a(t))throw new TypeError("You must pass a function to map's second argument.");return r(e,n).then(function(e){var i,o=e.length,a=[];for(i=0;o>i;i++)a.push(t(e[i]));return r(a,n)})}}),t("rsvp/node",["./promise","exports"],function(e,t){"use strict";function n(e,t){return function(n,i){n?t(n):e(arguments.length>2?r.call(arguments,1):i)}}var i=e["default"],r=Array.prototype.slice;t["default"]=function(e,t){return function(){var o=r.call(arguments),a=this||t;return new i(function(t,r){i.all(o).then(function(i){try{i.push(n(t,r)),e.apply(a,i)}catch(o){r(o)}})})}}}),t("rsvp/promise",["./config","./events","./instrument","./utils","./promise/cast","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(e,t,n,i,r,o,a,s,c,u){"use strict";function l(){}function h(e,t){if(!P(e))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof h))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._id=M++,this._label=t,this._subscribers=[],w.instrument&&$("created",this),l!==e&&p(e,this)}function p(e,t){function n(e){v(t,e)}function i(e){b(t,e)}try{e(n,i)}catch(r){i(r)}}function d(e,t,n,i){var r=e._subscribers,o=r.length;r[o]=t,r[o+D]=n,r[o+N]=i}function f(e,t){var n,i,r=e._subscribers,o=e._detail;w.instrument&&$(t===D?"fulfilled":"rejected",e);for(var a=0;a<r.length;a+=3)n=r[a],i=r[a+t],m(t,n,i,o);e._subscribers=null}function m(e,t,n,i){var r,o,a,s,c=P(n);if(c)try{r=n(i),a=!0}catch(u){s=!0,o=u}else r=i,a=!0;g(t,r)||(c&&a?v(t,r):s?b(t,o):e===D?v(t,r):e===N&&b(t,r))}function g(e,t){var n,i=null;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(S(t)&&(i=t.then,P(i)))return i.call(t,function(i){return n?!0:(n=!0,void(t!==i?v(e,i):y(e,i)))},function(t){return n?!0:(n=!0,void b(e,t))},"derived from: "+(e._label||" unknown promise")),!0}catch(r){return n?!0:(b(e,r),!0)}return!1}function v(e,t){e===t?y(e,t):g(e,t)||y(e,t)}function y(e,t){e._state===R&&(e._state=O,e._detail=t,w.async(E,e))}function b(e,t){e._state===R&&(e._state=O,e._detail=t,w.async(_,e))}function E(e){f(e,e._state=D)}function _(e){e._onerror&&e._onerror(e._detail),f(e,e._state=N)}var w=e.config,$=(t["default"],n["default"]),S=i.objectOrFunction,P=i.isFunction,x=i.now,k=r["default"],T=o["default"],C=a["default"],B=s["default"],U=c["default"],A="rsvp_"+x()+"-",M=0;u["default"]=h,h.cast=k,h.all=T,h.race=C,h.resolve=B,h.reject=U;var R=void 0,O=0,D=1,N=2;h.prototype={constructor:h,_id:void 0,_guidKey:A,_label:void 0,_state:void 0,_detail:void 0,_subscribers:void 0,_onerror:function(e){w.trigger("error",e)},then:function(e,t,n){var i=this;this._onerror=null;var r=new this.constructor(l,n);if(this._state){var o=arguments;w.async(function(){m(i._state,r,o[i._state-1],i._detail)})}else d(this,r,e,t);return w.instrument&&$("chained",i,r),r},"catch":function(e,t){return this.then(null,e,t)},"finally":function(e,t){var n=this.constructor;return this.then(function(t){return n.cast(e()).then(function(){return t})},function(t){return n.cast(e()).then(function(){throw t})},t)}}}),t("rsvp/promise/all",["../utils","exports"],function(e,t){"use strict";var n=e.isArray,i=e.isNonThenable;t["default"]=function(e,t){var r=this;return new r(function(t,o){function a(e){return function(n){l[e]=n,0===--u&&t(l)}}function s(e){u=0,o(e)}if(!n(e))throw new TypeError("You must pass an array to all.");var c,u=e.length,l=new Array(u);if(0===u)return void t(l);for(var h=0;h<e.length;h++)c=e[h],i(c)?(l[h]=c,0===--u&&t(l)):r.cast(c).then(a(h),s)},t)}}),t("rsvp/promise/cast",["exports"],function(e){"use strict";e["default"]=function(e,t){var n=this;return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)},t)}}),t("rsvp/promise/race",["../utils","exports"],function(e,t){"use strict";var n=e.isArray,i=(e.isFunction,e.isNonThenable);t["default"]=function(e,t){var r,o=this;return new o(function(t,a){function s(e){u&&(u=!1,t(e))}function c(e){u&&(u=!1,a(e))}if(!n(e))throw new TypeError("You must pass an array to race.");for(var u=!0,l=0;l<e.length;l++){if(r=e[l],i(r))return u=!1,void t(r);o.cast(r).then(s,c)}},t)}}),t("rsvp/promise/reject",["exports"],function(e){"use strict";e["default"]=function(e,t){var n=this;return new n(function(t,n){n(e)},t)}}),t("rsvp/promise/resolve",["exports"],function(e){"use strict";e["default"]=function(e,t){var n=this;return new n(function(t){t(e)},t)}}),t("rsvp/race",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return n.race(e,t)}}),t("rsvp/reject",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return n.reject(e,t)}}),t("rsvp/resolve",["./promise","exports"],function(e,t){"use strict";var n=e["default"];t["default"]=function(e,t){return n.resolve(e,t)}}),t("rsvp/rethrow",["exports"],function(e){"use strict";e["default"]=function(e){throw setTimeout(function(){throw e}),e}}),t("rsvp/utils",["exports"],function(e){"use strict";function t(e){return"function"==typeof e||"object"==typeof e&&null!==e}function n(e){return"function"==typeof e}function i(e){return!t(e)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}e.objectOrFunction=t,e.isFunction=n,e.isNonThenable=i,e.isArray=r;var o=Date.now||function(){return(new Date).getTime()};e.now=o;var a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.keysOf=a}),t("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all_settled","./rsvp/race","./rsvp/hash","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/asap","./rsvp/filter","exports"],function(e,t,n,i,r,o,a,s,c,u,l,h,p,d,f,m){"use strict";function g(e,t){T.async(e,t)}function v(){T.on.apply(T,arguments)}function y(){T.off.apply(T,arguments)}var b=e["default"],E=t["default"],_=n["default"],w=i["default"],$=r["default"],S=o["default"],P=a["default"],x=s["default"],k=c["default"],T=u.config,C=u.configure,B=l["default"],U=h["default"],A=p["default"],M=d["default"],R=f["default"];if(T.async=M,"undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var O=window.__PROMISE_INSTRUMENTATION__;C("instrument",!0);for(var D in O)O.hasOwnProperty(D)&&v(D,O[D])}m.Promise=b,m.EventTarget=E,m.all=w,m.allSettled=$,m.race=S,m.hash=P,m.rethrow=x,m.defer=k,m.denodeify=_,m.configure=C,m.on=v,m.off=y,m.resolve=U,m.reject=A,m.async=g,m.map=B,m.filter=R}),e.RSVP=n("rsvp")}(window);var EPUBJS=EPUBJS||{};EPUBJS.VERSION="0.2.2",EPUBJS.plugins=EPUBJS.plugins||{},EPUBJS.filePath=EPUBJS.filePath||"/epubjs/",EPUBJS.Render={},function(e){var t=e.ePub||{},n=e.ePub=function(){var e,t;return"undefined"!=typeof arguments[0]&&"string"==typeof arguments[0]&&(e=arguments[0],arguments[1]&&"object"==typeof arguments[1]?(t=arguments[1],t.bookPath=e):t={bookPath:e}),arguments[0]&&"object"==typeof arguments[0]&&(t=arguments[0]),new EPUBJS.Book(t)};_.extend(n,{noConflict:function(){return e.ePub=t,this}}),"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports&&(module.exports=n)}(window),EPUBJS.Book=function(e){this.settings=_.defaults(e||{},{bookPath:null,bookKey:null,packageUrl:null,storage:!1,fromStorage:!1,saved:!1,online:!0,contained:!1,width:null,height:null,layoutOveride:null,orientation:null,minSpreadWidth:800,gap:"auto",version:1,restore:!1,reload:!1,"goto":!1,styles:{},headTags:{},withCredentials:!1,render_method:"Iframe"}),this.settings.EPUBJSVERSION=EPUBJS.VERSION,this.spinePos=0,this.stored=!1,this.online=this.settings.online||navigator.onLine,this.networkListeners(),this.store=!1,this.settings.storage!==!1&&(this.storage=new fileStorage.storage(this.settings.storage)),this.ready={manifest:new RSVP.defer,spine:new RSVP.defer,metadata:new RSVP.defer,cover:new RSVP.defer,toc:new RSVP.defer,pageList:new RSVP.defer},this.readyPromises=[this.ready.manifest.promise,this.ready.spine.promise,this.ready.metadata.promise,this.ready.cover.promise,this.ready.toc.promise],this.pageList=[],this.pagination=new EPUBJS.Pagination,this.pageListReady=this.ready.pageList.promise,this.ready.all=RSVP.all(this.readyPromises),this.ready.all.then(this._ready.bind(this)),this.isRendered=!1,this._q=EPUBJS.core.queue(this),this._rendering=!1,this._displayQ=EPUBJS.core.queue(this),this._moving=!1,this._gotoQ=EPUBJS.core.queue(this),this.renderer=new EPUBJS.Renderer(this.settings.render_method),this.renderer.setMinSpreadWidth(this.settings.minSpreadWidth),this.renderer.setGap(this.settings.gap),this.listenToRenderer(this.renderer),this.defer_opened=new RSVP.defer,this.opened=this.defer_opened.promise,"string"==typeof this.settings.bookPath&&this.open(this.settings.bookPath,this.settings.reload),window.addEventListener("beforeunload",this.unload.bind(this),!1)},EPUBJS.Book.prototype.open=function(e,t){var n,i=this,r=new RSVP.defer;return this.settings.bookPath=e,this.bookUrl=this.urlFrom(e),this.settings.contained||this.isContained(e)?(this.settings.contained=this.contained=!0,this.bookUrl="",n=this.unarchive(e).then(function(){return i.loadPackage()})):n=this.loadPackage(),n.then(this.settings.restore&&!t&&localStorage?function(e){var t=i.packageIdentifier(e),n=i.restore(t);n||i.unpack(e),r.resolve(),i.defer_opened.resolve()}:function(e){i.unpack(e),r.resolve(),i.defer_opened.resolve()}),this.online&&this.settings.storage&&!this.settings.contained&&(this.settings.stored||r.then(i.storeOffline())),this._registerReplacements(this.renderer),r.promise},EPUBJS.Book.prototype.loadPackage=function(e){var t,n=this,i=new EPUBJS.Parser,r=e||"META-INF/container.xml";return t=this.settings.packageUrl?n.loadXml(n.settings.packageUrl):n.loadXml(n.bookUrl+r).then(function(e){return i.container(e)}).then(function(e){return n.settings.contentsPath=n.bookUrl+e.basePath,n.settings.packageUrl=n.bookUrl+e.packagePath,n.settings.encoding=e.encoding,n.loadXml(n.settings.packageUrl)
}),t.catch(function(){console.error("Could not load book at: "+r),n.trigger("book:loadFailed",r)}),t},EPUBJS.Book.prototype.packageIdentifier=function(e){var t=new EPUBJS.Parser;return t.identifier(e)},EPUBJS.Book.prototype.unpack=function(e){var t=this,n=new EPUBJS.Parser;t.contents=n.packageContents(e,t.settings.contentsPath),t.manifest=t.contents.manifest,t.spine=t.contents.spine,t.spineIndexByURL=t.contents.spineIndexByURL,t.metadata=t.contents.metadata,t.settings.bookKey||(t.settings.bookKey=t.generateBookKey(t.metadata.identifier)),t.globalLayoutProperties=t.parseLayoutProperties(t.metadata),t.cover=t.contents.cover=t.settings.contentsPath+t.contents.coverPath,t.spineNodeIndex=t.contents.spineNodeIndex,t.ready.manifest.resolve(t.contents.manifest),t.ready.spine.resolve(t.contents.spine),t.ready.metadata.resolve(t.contents.metadata),t.ready.cover.resolve(t.contents.cover),t.contents.navPath?(t.settings.navUrl=t.settings.contentsPath+t.contents.navPath,t.loadXml(t.settings.navUrl).then(function(e){return n.nav(e,t.spineIndexByURL,t.spine)}).then(function(e){t.toc=t.contents.toc=e,t.ready.toc.resolve(t.contents.toc)},function(){t.ready.toc.resolve(!1)}),t.loadXml(t.settings.navUrl).then(function(e){return n.pageList(e,t.spineIndexByURL,t.spine)}).then(function(e){var n=new EPUBJS.EpubCFI,i=0;0!==e.length&&(t.pageList=t.contents.pageList=e,t.pageList.forEach(function(e){e.cfi||(i+=1,n.generateCfiFromHref(e.href,t).then(function(n){e.cfi=n,e.packageUrl=t.settings.packageUrl,i-=1,0===i&&(t.pagination.process(t.pageList),t.ready.pageList.resolve(t.pageList))}))}),i||(t.pagination.process(t.pageList),t.ready.pageList.resolve(t.pageList)))},function(){t.ready.pageList.resolve([])})):t.contents.tocPath?(t.settings.tocUrl=t.settings.contentsPath+t.contents.tocPath,t.loadXml(t.settings.tocUrl).then(function(e){return n.toc(e,t.spineIndexByURL,t.spine)}).then(function(e){t.toc=t.contents.toc=e,t.ready.toc.resolve(t.contents.toc)},function(){t.ready.toc.resolve(!1)})):t.ready.toc.resolve(!1)},EPUBJS.Book.prototype.createHiddenRender=function(e,t,n){var i,r,o=this.element.getBoundingClientRect(),a=t||this.settings.width||o.width,s=n||this.settings.height||o.height;return e.setMinSpreadWidth(this.settings.minSpreadWidth),e.setGap(this.settings.gap),this._registerReplacements(e),this.settings.forceSingle&&e.forceSingle(!0),i=document.createElement("div"),i.style.visibility="hidden",i.style.overflow="hidden",i.style.width="0",i.style.height="0",this.element.appendChild(i),r=document.createElement("div"),r.style.visibility="hidden",r.style.overflow="hidden",r.style.width=a+"px",r.style.height=s+"px",i.appendChild(r),e.initialize(r),i},EPUBJS.Book.prototype.generatePageList=function(e,t){{var n=[],i=new EPUBJS.Renderer(this.settings.render_method,!1),r=this.createHiddenRender(i,e,t),o=new RSVP.defer,a=-1,s=this.spine.length,c=0,u=function(e){var t,r=a+1,o=e||new RSVP.defer;return r>=s?o.resolve():(a=r,t=new EPUBJS.Chapter(this.spine[a],this.store),i.displayChapter(t,this.globalLayoutProperties).then(function(){i.pageMap.forEach(function(e){c+=1,n.push({cfi:e.start,page:c})}),i.pageMap.length%2>0&&i.spreads&&(c+=1,n.push({cfi:i.pageMap[i.pageMap.length-1].end,page:c})),setTimeout(function(){u(o)},1)})),o.promise}.bind(this);u().then(function(){i.remove(),this.element.removeChild(r),o.resolve(n)}.bind(this))}return o.promise},EPUBJS.Book.prototype.generatePagination=function(e,t){var n=this,i=new RSVP.defer;return this.ready.spine.promise.then(function(){n.generatePageList(e,t).then(function(e){n.pageList=n.contents.pageList=e,n.pagination.process(e),n.ready.pageList.resolve(n.pageList),i.resolve(n.pageList)})}),i.promise},EPUBJS.Book.prototype.loadPagination=function(e){var t=JSON.parse(e);return t&&t.length&&(this.pageList=t,this.pagination.process(this.pageList),this.ready.pageList.resolve(this.pageList)),this.pageList},EPUBJS.Book.prototype.getPageList=function(){return this.ready.pageList.promise},EPUBJS.Book.prototype.getMetadata=function(){return this.ready.metadata.promise},EPUBJS.Book.prototype.getToc=function(){return this.ready.toc.promise},EPUBJS.Book.prototype.networkListeners=function(){var e=this;window.addEventListener("offline",function(){e.online=!1,e.trigger("book:offline")},!1),window.addEventListener("online",function(){e.online=!0,e.trigger("book:online")},!1)},EPUBJS.Book.prototype.listenToRenderer=function(e){var t=this;e.Events.forEach(function(n){e.on(n,function(e){t.trigger(n,e)})}),e.on("renderer:visibleRangeChanged",function(e){var t,n,i,r=[];this.pageList.length>0&&(t=this.pagination.pageFromCfi(e.start),i=this.pagination.percentageFromPage(t),r.push(t),e.end&&(n=this.pagination.pageFromCfi(e.end),r.push(n)),this.trigger("book:pageChanged",{anchorPage:t,percentage:i,pageRange:r}))}.bind(this)),e.on("render:loaded",this.loadChange.bind(this))},EPUBJS.Book.prototype.loadChange=function(e){var t,n=EPUBJS.core.uri(e);this.currentChapter&&(t=EPUBJS.core.uri(this.currentChapter.absolute)),!this._rendering&&this.currentChapter&&n.path!=t.path&&(console.warn("Miss Match",n.path,this.currentChapter.absolute),this.goto(n.filename))},EPUBJS.Book.prototype.unlistenToRenderer=function(e){e.Events.forEach(function(t){e.off(t)})},EPUBJS.Book.prototype.loadXml=function(e){return this.settings.fromStorage?this.storage.getXml(e,this.settings.encoding):this.settings.contained?this.zip.getXml(e,this.settings.encoding):EPUBJS.core.request(e,"xml",this.settings.withCredentials)},EPUBJS.Book.prototype.urlFrom=function(e){var t,n=EPUBJS.core.uri(e),i=n.protocol,r="/"==n.path[0],o=window.location,a=o.origin||o.protocol+"//"+o.host,s=document.getElementsByTagName("base");return s.length&&(t=s[0].href),n.protocol?n.origin+n.path:!i&&r?(t||a)+n.path:i||r?void 0:EPUBJS.core.resolveUrl(t||o.pathname,n.path)},EPUBJS.Book.prototype.unarchive=function(e){return this.zip=new EPUBJS.Unarchiver,this.store=this.zip,this.zip.openZip(e)},EPUBJS.Book.prototype.isContained=function(e){var t=EPUBJS.core.uri(e);return!t.extension||"epub"!=t.extension&&"zip"!=t.extension?!1:!0},EPUBJS.Book.prototype.isSaved=function(e){var t;return localStorage?(t=localStorage.getItem(e),localStorage&&null!==t?!0:!1):!1},EPUBJS.Book.prototype.generateBookKey=function(e){return"epubjs:"+EPUBJS.VERSION+":"+window.location.host+":"+e},EPUBJS.Book.prototype.saveContents=function(){return localStorage?void localStorage.setItem(this.settings.bookKey,JSON.stringify(this.contents)):!1},EPUBJS.Book.prototype.removeSavedContents=function(){return localStorage?void localStorage.removeItem(this.settings.bookKey):!1},EPUBJS.Book.prototype.renderTo=function(e){var t,n=this;if(_.isElement(e))this.element=e;else{if("string"!=typeof e)return void console.error("Not an Element");this.element=EPUBJS.core.getEl(e)}return t=this.opened.then(function(){return n.renderer.initialize(n.element,n.settings.width,n.settings.height),n._rendered(),n.startDisplay()})},EPUBJS.Book.prototype.startDisplay=function(){var e;return e=this.settings.goto?this.goto(this.settings.goto):this.settings.previousLocationCfi?this.gotoCfi(this.settings.previousLocationCfi):this.displayChapter(this.spinePos)},EPUBJS.Book.prototype.restore=function(e){var t,n=this,i=["manifest","spine","metadata","cover","toc","spineNodeIndex","spineIndexByURL","globalLayoutProperties"],r=!1,o=this.generateBookKey(e),a=localStorage.getItem(o),s=i.length;if(this.settings.clearSaved&&(r=!0),!r&&"undefined"!=a&&null!==a)for(n.contents=JSON.parse(a),t=0;s>t;t++){var c=i[t];if(!n.contents[c]){r=!0;break}n[c]=n.contents[c]}return!r&&a&&this.contents&&this.settings.contentsPath?(this.settings.bookKey=o,this.ready.manifest.resolve(this.manifest),this.ready.spine.resolve(this.spine),this.ready.metadata.resolve(this.metadata),this.ready.cover.resolve(this.cover),this.ready.toc.resolve(this.toc),!0):!1},EPUBJS.Book.prototype.displayChapter=function(e,t,n){var i,r,o,a,s=this,c=n||new RSVP.defer;return this.isRendered?this._rendering||this._rendering?(this._displayQ.enqueue("displayChapter",[e,t,c]),c.promise):(_.isNumber(e)?o=e:(r=new EPUBJS.EpubCFI(e),o=r.spinePos),(0>o||o>=this.spine.length)&&(console.warn("Not A Valid Location"),o=0,t=!1,r=!1),a=new EPUBJS.Chapter(this.spine[o],this.store),this._rendering=!0,i=s.renderer.displayChapter(a,this.globalLayoutProperties),r?s.renderer.gotoCfi(r):t&&s.renderer.lastPage(),i.then(function(){s.spinePos=o,c.resolve(s.renderer),s.settings.fromStorage||s.settings.contained||s.preloadNextChapter(),s.currentChapter=a,s._rendering=!1,s._displayQ.dequeue(),0===s._displayQ.length()&&s._gotoQ.dequeue()},function(e){console.error("Could not load Chapter: "+a.absolute),s.trigger("book:chapterLoadFailed",a.absolute),s._rendering=!1,c.reject(e)}),c.promise):(this._q.enqueue("displayChapter",arguments),c.reject({message:"Rendering",stack:(new Error).stack}),c.promise)},EPUBJS.Book.prototype.nextPage=function(){var e;return this.isRendered?(e=this.renderer.nextPage(),e?void 0:this.nextChapter()):this._q.enqueue("nextPage",arguments)},EPUBJS.Book.prototype.prevPage=function(){var e;return this.isRendered?(e=this.renderer.prevPage(),e?void 0:this.prevChapter()):this._q.enqueue("prevPage",arguments)},EPUBJS.Book.prototype.nextChapter=function(){var e;if(this.spinePos<this.spine.length-1){for(e=this.spinePos+1;this.spine[e]&&this.spine[e].linear&&"no"==this.spine[e].linear;)e++;if(e<this.spine.length)return this.displayChapter(e);this.trigger("book:atEnd")}else this.trigger("book:atEnd")},EPUBJS.Book.prototype.prevChapter=function(){var e;if(this.spinePos>0){for(e=this.spinePos-1;this.spine[e]&&this.spine[e].linear&&"no"==this.spine[e].linear;)e--;if(e>=0)return this.displayChapter(e,!0);this.trigger("book:atStart")}else this.trigger("book:atStart")},EPUBJS.Book.prototype.getCurrentLocationCfi=function(){return this.isRendered?this.renderer.currentLocationCfi:!1},EPUBJS.Book.prototype.goto=function(e){return 0===e.indexOf("epubcfi(")?this.gotoCfi(e):e.indexOf("%")===e.length-1?this.gotoPercentage(parseInt(e.substring(0,e.length-1))/100):"number"==typeof e||isNaN(e)===!1?this.gotoPage(e):this.gotoHref(e)},EPUBJS.Book.prototype.gotoCfi=function(e,t){var n,i,r,o=t||new RSVP.defer;return this.isRendered?this._moving||this._rendering?(console.warn("Renderer is moving"),this._gotoQ.enqueue("gotoCfi",[e,o]),!1):(n=new EPUBJS.EpubCFI(e),i=n.spinePos,-1==i?!1:(r=this.spine[i],promise=o.promise,this._moving=!0,this.currentChapter&&this.spinePos===i?(this.renderer.gotoCfi(n),this._moving=!1,o.resolve(this.renderer.currentLocationCfi)):(r&&-1!=i||(i=0,r=this.spine[i]),this.currentChapter=new EPUBJS.Chapter(r,this.store),this.currentChapter&&(this.spinePos=i,render=this.renderer.displayChapter(this.currentChapter,this.globalLayoutProperties),this.renderer.gotoCfi(n),render.then(function(e){this._moving=!1,o.resolve(e.currentLocationCfi)}.bind(this)))),promise.then(function(){this._gotoQ.dequeue()}.bind(this)),promise)):(console.warn("Not yet Rendered"),this.settings.previousLocationCfi=e,!1)},EPUBJS.Book.prototype.gotoHref=function(e,t){var n,i,r,o,a,s=t||new RSVP.defer;return this.isRendered?this._moving||this._rendering?(this._gotoQ.enqueue("gotoHref",[e,s]),!1):(n=e.split("#"),i=n[0],r=n[1]||!1,o=i.replace(this.settings.contentsPath,""),a=this.spineIndexByURL[o],i||(a=this.currentChapter?this.currentChapter.spinePos:0),"number"!=typeof a?!1:this.currentChapter&&a==this.currentChapter.spinePos?(r?this.renderer.section(r):this.renderer.firstPage(),s.resolve(this.renderer.currentLocationCfi),s.promise.then(function(){this._gotoQ.dequeue()}.bind(this)),s.promise):this.displayChapter(a).then(function(){r&&this.renderer.section(r),s.resolve(this.renderer.currentLocationCfi)}.bind(this))):(this.settings.goto=e,!1)},EPUBJS.Book.prototype.gotoPage=function(e){var t=this.pagination.cfiFromPage(e);return this.gotoCfi(t)},EPUBJS.Book.prototype.gotoPercentage=function(e){var t=this.pagination.pageFromPercentage(e);return this.gotoPage(t)},EPUBJS.Book.prototype.preloadNextChapter=function(){var e,t=this.spinePos+1;return t>=this.spine.length?!1:(e=new EPUBJS.Chapter(this.spine[t]),void(e&&EPUBJS.core.request(e.absolute)))},EPUBJS.Book.prototype.storeOffline=function(){var e=this,t=_.values(this.manifest);return EPUBJS.storage.batch(t).then(function(){e.settings.stored=!0,e.trigger("book:stored")})},EPUBJS.Book.prototype.availableOffline=function(){return this.settings.stored>0?!0:!1},EPUBJS.Book.prototype.setStyle=function(e,t,n){var i=["color","background","background-color"];return this.isRendered?(this.settings.styles[e]=t,this.renderer.setStyle(e,t,n),void(-1===i.indexOf(e)&&this.renderer.reformat())):this._q.enqueue("setStyle",arguments)},EPUBJS.Book.prototype.removeStyle=function(e){return this.isRendered?(this.renderer.removeStyle(e),this.renderer.reformat(),void delete this.settings.styles[e]):this._q.enqueue("removeStyle",arguments)},EPUBJS.Book.prototype.addHeadTag=function(e,t){return this.isRendered?void(this.settings.headTags[e]=t):this._q.enqueue("addHeadTag",arguments)},EPUBJS.Book.prototype.useSpreads=function(e){console.warn("useSpreads is deprecated, use forceSingle or set a layoutOveride instead"),this.forceSingle(e===!1?!0:!1)},EPUBJS.Book.prototype.forceSingle=function(e){var t="undefined"==typeof e?!0:e;this.renderer.forceSingle(t),this.settings.forceSingle=t,this.isRendered&&this.renderer.reformat()},EPUBJS.Book.prototype.setMinSpreadWidth=function(e){this.settings.minSpreadWidth=e,this.isRendered&&(this.renderer.setMinSpreadWidth(this.settings.minSpreadWidth),this.renderer.reformat())},EPUBJS.Book.prototype.setGap=function(e){this.settings.gap=e,this.isRendered&&(this.renderer.setGap(this.settings.gap),this.renderer.reformat())},EPUBJS.Book.prototype.chapter=function(e){var t,n,i=this.spineIndexByURL[e];return i&&(t=this.spine[i],n=new EPUBJS.Chapter(t,this.store),n.load()),n},EPUBJS.Book.prototype.unload=function(){this.settings.restore&&localStorage&&this.saveContents(),this.unlistenToRenderer(this.renderer),this.trigger("book:unload")},EPUBJS.Book.prototype.destroy=function(){window.removeEventListener("beforeunload",this.unload),this.currentChapter&&this.currentChapter.unload(),this.unload(),this.render&&this.render.remove()},EPUBJS.Book.prototype._ready=function(){this.trigger("book:ready")},EPUBJS.Book.prototype._rendered=function(){this.isRendered=!0,this.trigger("book:rendered"),this._q.flush()},EPUBJS.Book.prototype.applyStyles=function(e,t){e.applyStyles(this.settings.styles),t()},EPUBJS.Book.prototype.applyHeadTags=function(e,t){e.applyHeadTags(this.settings.headTags),t()},EPUBJS.Book.prototype._registerReplacements=function(e){e.registerHook("beforeChapterDisplay",this.applyStyles.bind(this,e),!0),e.registerHook("beforeChapterDisplay",this.applyHeadTags.bind(this,e),!0),e.registerHook("beforeChapterDisplay",EPUBJS.replace.hrefs.bind(this),!0),this._needsAssetReplacement()&&e.registerHook("beforeChapterDisplay",[EPUBJS.replace.head,EPUBJS.replace.resources,EPUBJS.replace.svg],!0)},EPUBJS.Book.prototype._needsAssetReplacement=function(){return this.settings.fromStorage?"filesystem"==this.storage.getStorageType()?!1:!0:this.settings.contained?!0:!1},EPUBJS.Book.prototype.parseLayoutProperties=function(e){var t=this.layoutOveride&&this.layoutOveride.layout||e.layout||"reflowable",n=this.layoutOveride&&this.layoutOveride.spread||e.spread||"auto",i=this.layoutOveride&&this.layoutOveride.orientation||e.orientation||"auto";return{layout:t,spread:n,orientation:i}},RSVP.EventTarget.mixin(EPUBJS.Book.prototype),RSVP.on("error",function(){}),RSVP.configure("instrument",!0),RSVP.on("rejected",function(e){console.error(e.detail.message,e.detail.stack)}),EPUBJS.Chapter=function(e,t){this.href=e.href,this.absolute=e.url,this.id=e.id,this.spinePos=e.index,this.cfiBase=e.cfiBase,this.properties=e.properties,this.manifestProperties=e.manifestProperties,this.linear=e.linear,this.pages=1,this.store=t,this.epubcfi=new EPUBJS.EpubCFI,this.deferred=new RSVP.defer,this.loaded=this.deferred.promise},EPUBJS.Chapter.prototype.load=function(e){var t,n=e||this.store;return t=n?n.get(this.href):EPUBJS.core.request(this.absolute,"xml"),t.then(function(e){this.setDocument(e),this.deferred.resolve(this)}.bind(this)),t},EPUBJS.Chapter.prototype.render=function(){return this.load().then(function(e){var t,n=new XMLSerializer,i=e.head,r=e.createElement("base");return r.setAttribute("href",window.location.origin+this.absolute),i.insertBefore(r,i.firstChild),t=n.serializeToString(e)}.bind(this))},EPUBJS.Chapter.prototype.url=function(e){var t,n=new RSVP.defer,i=e||this.store,r=this;return i?this.tempUrl?(t=this.tempUrl,n.resolve(t)):i.getUrl(this.absolute).then(function(e){r.tempUrl=e,n.resolve(e)}):(t=this.absolute,n.resolve(t)),n.promise},EPUBJS.Chapter.prototype.setPages=function(e){this.pages=e},EPUBJS.Chapter.prototype.getPages=function(){return this.pages},EPUBJS.Chapter.prototype.getID=function(){return this.ID},EPUBJS.Chapter.prototype.unload=function(e){this.document=null,this.tempUrl&&e&&(e.revokeUrl(this.tempUrl),this.tempUrl=!1)},EPUBJS.Chapter.prototype.setDocument=function(e){{var t=e.namespaceURI;e.doctype}this.document=e.implementation.createDocument(t,null,null),this.contents=this.document.importNode(e.documentElement,!0),this.document.appendChild(this.contents),!this.document.evaluate&&document.evaluate&&(this.document.evaluate=document.evaluate)},EPUBJS.Chapter.prototype.cfiFromRange=function(e){var t,n,i,r,o,a;if(this.document){if(n=EPUBJS.core.getElementXPath(e.startContainer),i=EPUBJS.core.getElementXPath(e.endContainer),r=this.document.evaluate(n,this.document,EPUBJS.core.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,e.collapsed||(o=this.document.evaluate(i,this.document,EPUBJS.core.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue),t=this.document.createRange(),r)try{t.setStart(r,e.startOffset),!e.collapsed&&o&&t.setEnd(o,e.endOffset)}catch(s){console.log("missed"),r=!1}return r||(console.log("not found, try fuzzy match"),cleanStartTextContent=EPUBJS.core.cleanStringForXpath(e.startContainer.textContent),n="//text()[contains(.,"+cleanStartTextContent+")]",r=this.document.evaluate(n,this.document,EPUBJS.core.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,r&&(t.setStart(r,e.startOffset),e.collapsed||(a=EPUBJS.core.cleanStringForXpath(e.endContainer.textContent),i="//text()[contains(.,"+a+")]",o=this.document.evaluate(i,this.document,EPUBJS.core.nsResolver,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue,o&&t.setEnd(o,e.endOffset)))),this.epubcfi.generateCfiFromRange(t,this.cfiBase)}},EPUBJS.Chapter.prototype.find=function(e){var t=this,n=[],i=e.toLowerCase(),r=function(e){for(var r,o,a,s=e.textContent.toLowerCase(),c=t.document.createRange(),u=-1,l=150;-1!=o;)o=s.indexOf(i,u+1),-1!=o&&(c=t.document.createRange(),c.setStart(e,o),c.setEnd(e,o+i.length),r=t.cfiFromRange(c),e.textContent.length<l?a=e.textContent:(a=e.textContent.substring(o-l/2,o+l/2),a="..."+a+"..."),n.push({cfi:r,excerpt:a})),u=o};return this.textSprint(this.document,function(e){r(e)}),n},EPUBJS.Chapter.prototype.textSprint=function(e,t){for(var n,i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){return e.data&&!/^\s*$/.test(e.data)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}},!1);n=i.nextNode();)t(n)};var EPUBJS=EPUBJS||{};EPUBJS.core={},EPUBJS.core.getEl=function(e){return document.getElementById(e)},EPUBJS.core.getEls=function(e){return document.getElementsByClassName(e)},EPUBJS.core.request=function(e,t,n){function i(){if(this.readyState===this.DONE)if(200===this.status||this.responseXML){var e;e="xml"==t?this.responseXML:"json"==t?JSON.parse(this.response):"blob"==t?r?this.response:new Blob([this.response]):this.response,a.resolve(e)}else a.reject({message:this.response,stack:(new Error).stack})}var r=window.URL,o=r?"blob":"arraybuffer",a=new RSVP.defer,s=new XMLHttpRequest,c=XMLHttpRequest.prototype;return"overrideMimeType"in c||Object.defineProperty(c,"overrideMimeType",{value:function(){}}),n&&(s.withCredentials=!0),s.open("GET",e,!0),s.onreadystatechange=i,"blob"==t&&(s.responseType=o),"json"==t&&s.setRequestHeader("Accept","application/json"),"xml"==t&&s.overrideMimeType("text/xml"),s.send(),a.promise},EPUBJS.core.toArray=function(e){var t=[];for(var n in e){var i;e.hasOwnProperty(n)&&(i=e[n],i.ident=n,t.push(i))}return t},EPUBJS.core.uri=function(e){var t,n,i,r={protocol:"",host:"",path:"",origin:"",directory:"",base:"",filename:"",extension:"",fragment:"",href:e},o=e.indexOf("://"),a=e.indexOf("?"),s=e.indexOf("#");return-1!=s&&(r.fragment=e.slice(s+1),e=e.slice(0,s)),-1!=a&&(r.search=e.slice(a+1),e=e.slice(0,a),href=e),-1!=o?(r.protocol=e.slice(0,o),t=e.slice(o+3),i=t.indexOf("/"),-1===i?(r.host=r.path,r.path=""):(r.host=t.slice(0,i),r.path=t.slice(i)),r.origin=r.protocol+"://"+r.host,r.directory=EPUBJS.core.folder(r.path),r.base=r.origin+r.directory):(r.path=e,r.directory=EPUBJS.core.folder(e),r.base=r.directory),r.filename=e.replace(r.base,""),n=r.filename.lastIndexOf("."),-1!=n&&(r.extension=r.filename.slice(n+1)),r},EPUBJS.core.folder=function(e){var t=e.lastIndexOf("/");if(-1==t)var n="";return n=e.slice(0,t+1)},EPUBJS.core.dataURLToBlob=function(e){var t,n,i,r,o,a=";base64,";if(-1==e.indexOf(a))return t=e.split(","),n=t[0].split(":")[1],i=t[1],new Blob([i],{type:n});t=e.split(a),n=t[0].split(":")[1],i=window.atob(t[1]),r=i.length,o=new Uint8Array(r);for(var s=0;r>s;++s)o[s]=i.charCodeAt(s);return new Blob([o],{type:n})},EPUBJS.core.addScript=function(e,t,n){var i,r;r=!1,i=document.createElement("script"),i.type="text/javascript",i.async=!1,i.src=e,i.onload=i.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,t&&t())},n=n||document.body,n.appendChild(i)},EPUBJS.core.addScripts=function(e,t,n){var i=e.length,r=0,o=function(){r++,i==r?t&&t():EPUBJS.core.addScript(e[r],o,n)};EPUBJS.core.addScript(e[r],o,n)},EPUBJS.core.addCss=function(e,t,n){var i,r;r=!1,i=document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,i.onload=i.onreadystatechange=function(){r||this.readyState&&"complete"!=this.readyState||(r=!0,t&&t())},n=n||document.body,n.appendChild(i)},EPUBJS.core.prefixed=function(e){var t=["Webkit","Moz","O","ms"],n=e[0].toUpperCase()+e.slice(1),i=t.length;if("undefined"!=typeof document.body.style[e])return e;for(var r=0;i>r;r++)if("undefined"!=typeof document.body.style[t[r]+n])return t[r]+n;return e},EPUBJS.core.resolveUrl=function(e,t){var n,i,r=[],o=EPUBJS.core.uri(t),a=e.split("/");return o.host?t:(a.pop(),i=t.split("/"),i.forEach(function(e){".."===e?a.pop():r.push(e)}),n=a.concat(r),n.join("/"))},EPUBJS.core.uuid=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:7&n|8).toString(16)});return t},EPUBJS.core.insert=function(e,t,n){var i=EPUBJS.core.locationOf(e,t,n);return t.splice(i,0,e),i},EPUBJS.core.locationOf=function(e,t,n,i,r){var o,a=i||0,s=r||t.length,c=parseInt(a+(s-a)/2);return n||(n=function(e,t){return e>t?1:t>e?-1:(e=t)?0:void 0}),0>=s-a?c:(o=n(t[c],e),s-a===1?o>0?c:c+1:0===o?c:-1===o?EPUBJS.core.locationOf(e,t,n,c,s):EPUBJS.core.locationOf(e,t,n,a,c))},EPUBJS.core.indexOfSorted=function(e,t,n,i,r){var o,a=i||0,s=r||t.length,c=parseInt(a+(s-a)/2);return n||(n=function(e,t){return e>t?1:t>e?-1:(e=t)?0:void 0}),0>=s-a?-1:(o=n(t[c],e),s-a===1?0===o?c:-1:0===o?c:-1===o?EPUBJS.core.indexOfSorted(e,t,n,c,s):EPUBJS.core.indexOfSorted(e,t,n,a,c))},EPUBJS.core.queue=function(e){var t=[],n=e,i=function(e,n,i){return t.push({funcName:e,args:n,context:i}),t},r=function(){var e;t.length&&(e=t.shift(),n[e.funcName].apply(e.context||n,e.args))},o=function(){for(;t.length;)r()},a=function(){t=[]},s=function(){return t.length};return{enqueue:i,dequeue:r,flush:o,clear:a,length:s}},EPUBJS.core.getElementXPath=function(e){return e&&e.id?'//*[@id="'+e.id+'"]':EPUBJS.core.getElementTreeXPath(e)},EPUBJS.core.getElementTreeXPath=function(e){var t,n,i,r,o=[],a="http://www.w3.org/1999/xhtml"===e.ownerDocument.documentElement.getAttribute("xmlns");for(e.nodeType===Node.TEXT_NODE&&(t=EPUBJS.core.indexOfTextNode(e)+1,o.push("text()["+t+"]"),e=e.parentNode);e&&1==e.nodeType;e=e.parentNode){t=0;for(var s=e.previousSibling;s;s=s.previousSibling)s.nodeType!=Node.DOCUMENT_TYPE_NODE&&s.nodeName==e.nodeName&&++t;n=e.nodeName.toLowerCase(),i=a?"xhtml:"+n:n,r=t?"["+(t+1)+"]":"",o.splice(0,0,i+r)}return o.length?"./"+o.join("/"):null},EPUBJS.core.nsResolver=function(e){var t={xhtml:"http://www.w3.org/1999/xhtml",epub:"http://www.idpf.org/2007/ops"};return t[e]||null},EPUBJS.core.cleanStringForXpath=function(e){var t=e.match(/[^'"]+|['"]/g);return t=t.map(function(e){return"'"===e?'"\'"':'"'===e?"'\"'":"'"+e+"'"}),"concat('',"+t.join(",")+")"},EPUBJS.core.indexOfTextNode=function(e){for(var t,n=e.parentNode,i=n.childNodes,r=-1,o=0;o<i.length&&(t=i[o],t.nodeType===Node.TEXT_NODE&&r++,t!=e);o++);return r},EPUBJS.EpubCFI=function(e){return e?this.parse(e):void 0},EPUBJS.EpubCFI.prototype.generateChapterComponent=function(e,t,n){var i=parseInt(t),r=e+1,o="/"+r+"/";return o+=2*(i+1),n&&(o+="["+n+"]"),o},EPUBJS.EpubCFI.prototype.generatePathComponent=function(e){var t=[];return e.forEach(function(e){var n="";n+=2*(e.index+1),e.id&&(n+="["+e.id+"]"),t.push(n)}),t.join("/")},EPUBJS.EpubCFI.prototype.generateCfiFromElement=function(e,t){var n=this.pathTo(e),i=this.generatePathComponent(n);return i.length?"epubcfi("+t+"!"+i+"/1:0)":"epubcfi("+t+"!/4/)"},EPUBJS.EpubCFI.prototype.pathTo=function(e){for(var t,n=[];e&&null!==e.parentNode&&9!=e.parentNode.nodeType;)t=e.parentNode.children,n.unshift({id:e.id,tagName:e.tagName,index:t?Array.prototype.indexOf.call(t,e):0}),e=e.parentNode;return n},EPUBJS.EpubCFI.prototype.getChapterComponent=function(e){var t=e.split("!");return t[0]},EPUBJS.EpubCFI.prototype.getPathComponent=function(e){var t=e.split("!"),n=t[1]?t[1].split(":"):"";return n[0]},EPUBJS.EpubCFI.prototype.getCharecterOffsetComponent=function(e){var t=e.split(":");return t[1]||""},EPUBJS.EpubCFI.prototype.parse=function(e){var t,n,i,r,o,a,s,c,u,l={},h=function(e){var t,n,i,r;return t="element",n=parseInt(e)/2-1,i=e.match(/\[(.*)\]/),i&&i[1]&&(r=i[1]),{type:t,index:n,id:r||!1}};return"string"!=typeof e?{spinePos:-1}:(l.str=e,0===e.indexOf("epubcfi(")&&")"===e[e.length-1]&&(e=e.slice(8,e.length-1)),n=this.getChapterComponent(e),i=this.getPathComponent(e)||"",r=this.getCharecterOffsetComponent(e),n&&(t=n.split("/")[2]||"")?(l.spinePos=parseInt(t)/2-1||0,a=t.match(/\[(.*)\]/),l.spineId=a?a[1]:!1,-1!=i.indexOf(",")&&console.warn("CFI Ranges are not supported"),s=i.split("/"),c=s.pop(),l.steps=[],s.forEach(function(e){var t;e&&(t=h(e),l.steps.push(t))}),u=parseInt(c),isNaN(u)||l.steps.push(u%2===0?h(c):{type:"text",index:(u-1)/2}),o=r.match(/\[(.*)\]/),o&&o[1]?(l.characterOffset=parseInt(r.split("[")[0]),l.textLocationAssertion=o[1]):l.characterOffset=parseInt(r),l):{spinePos:-1})},EPUBJS.EpubCFI.prototype.addMarker=function(e,t,n){var i,r,o,a,s=t||document,c=n||this.createMarker(s);return"string"==typeof e&&(e=this.parse(e)),r=e.steps[e.steps.length-1],-1===e.spinePos?!1:(i=this.findParent(e,s))?(r&&"text"===r.type?(o=i.childNodes[r.index],e.characterOffset?(a=o.splitText(e.characterOffset),c.classList.add("EPUBJS-CFI-SPLIT"),i.insertBefore(c,a)):i.insertBefore(c,o)):i.insertBefore(c,i.firstChild),c):!1},EPUBJS.EpubCFI.prototype.createMarker=function(e){var t=e||document,n=t.createElement("span");return n.id="EPUBJS-CFI-MARKER:"+EPUBJS.core.uuid(),n.classList.add("EPUBJS-CFI-MARKER"),n},EPUBJS.EpubCFI.prototype.removeMarker=function(e,t){e.classList.contains("EPUBJS-CFI-SPLIT")?(nextSib=e.nextSibling,prevSib=e.previousSibling,nextSib&&prevSib&&3===nextSib.nodeType&&3===prevSib.nodeType&&(prevSib.textContent+=nextSib.textContent,e.parentNode.removeChild(nextSib)),e.parentNode.removeChild(e)):e.classList.contains("EPUBJS-CFI-MARKER")&&e.parentNode.removeChild(e)},EPUBJS.EpubCFI.prototype.findParent=function(e,t){var n,i,r,o=t||document,a=o.getElementsByTagName("html")[0],s=Array.prototype.slice.call(a.children);if("string"==typeof e&&(e=this.parse(e)),i=e.steps.slice(0),!i.length)return o.getElementsByTagName("body")[0];for(;i&&i.length>0;){if(n=i.shift(),"text"===n.type?(r=a.childNodes[n.index],a=r.parentNode||a):a=n.id?o.getElementById(n.id):s[n.index],"undefined"==typeof a)return console.error("No Element For",n,e.str),!1;s=Array.prototype.slice.call(a.children)}return a},EPUBJS.EpubCFI.prototype.compare=function(e,t){if("string"==typeof e&&(e=new EPUBJS.EpubCFI(e)),"string"==typeof t&&(t=new EPUBJS.EpubCFI(t)),e.spinePos>t.spinePos)return 1;if(e.spinePos<t.spinePos)return-1;for(var n=0;n<e.steps.length;n++){if(!t.steps[n])return 1;if(e.steps[n].index>t.steps[n].index)return 1;if(e.steps[n].index<t.steps[n].index)return-1}return e.steps.length<t.steps.length?-1:e.characterOffset>t.characterOffset?1:e.characterOffset<t.characterOffset?-1:0},EPUBJS.EpubCFI.prototype.generateCfiFromHref=function(e,t){var n,i,r=EPUBJS.core.uri(e),o=r.path,a=r.fragment,s=t.spineIndexByURL[o],c=new RSVP.defer,u=new EPUBJS.EpubCFI;return"undefined"!=typeof s&&(i=t.spine[s],n=t.loadXml(i.url),n.then(function(e){var t,n=e.getElementById(a);t=u.generateCfiFromElement(n,i.cfiBase),c.resolve(t)})),c.promise},EPUBJS.EpubCFI.prototype.generateCfiFromTextNode=function(e,t,n){var i=e.parentNode,r=this.pathTo(i),o=this.generatePathComponent(r),a=1+2*Array.prototype.indexOf.call(i.childNodes,e);return"epubcfi("+n+"!"+o+"/"+a+":"+(t||0)+")"},EPUBJS.EpubCFI.prototype.generateCfiFromRangeAnchor=function(e,t){var n=e.anchorNode,i=e.anchorOffset;return this.generateCfiFromTextNode(n,i,t)},EPUBJS.EpubCFI.prototype.generateCfiFromRange=function(e,t){var n,i,r,o,a,s,c,u,l,h,p,d;if(n=e.startContainer,3===n.nodeType)i=n.parentNode,s=1+2*EPUBJS.core.indexOfTextNode(n),r=this.pathTo(i);else{if(e.collapsed)return this.generateCfiFromElement(n,t);r=this.pathTo(n)}return o=this.generatePathComponent(r),a=e.startOffset,e.collapsed?"epubcfi("+t+"!"+o+"/"+s+":"+a+")":(c=e.endContainer,3===c.nodeType?(u=c.parentNode,d=1+2*EPUBJS.core.indexOfTextNode(c),l=this.pathTo(u)):l=this.pathTo(c),h=this.generatePathComponent(l),p=e.endOffset,"epubcfi("+t+"!"+o+"/"+s+":"+a+","+h+"/"+d+":"+p+")")},EPUBJS.EpubCFI.prototype.generateXpathFromSteps=function(e){var t=[".","*"];return e.forEach(function(e){var n=e.index+1;t.push(e.id?"*[position()="+n+" and @id='"+e.id+"']":"text"===e.type?"text()["+n+"]":"*["+n+"]")}),t.join("/")},EPUBJS.EpubCFI.prototype.generateRangeFromCfi=function(e,t){var n,i,r,o,a=t||document,s=a.createRange();return"string"==typeof e&&(e=this.parse(e)),-1===e.spinePos?!1:(i=this.generateXpathFromSteps(e.steps),n=e.steps[e.steps.length-1],(r=a.evaluate(i,a,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)?(r&&e.characterOffset>=0?(o=r.length,e.characterOffset<o?(s.setStart(r,e.characterOffset),s.setEnd(r,o)):(console.debug("offset greater than length:",e.characterOffset,o),s.setStart(r,o-1),s.setEnd(r,o))):r&&s.selectNode(r),s):null)},EPUBJS.Events=function(e,t){return this.events={},this.el=t?t:document.createElement("div"),e.createEvent=this.createEvent,e.tell=this.tell,e.listen=this.listen,e.deafen=this.deafen,e.listenUntil=this.listenUntil,this},EPUBJS.Events.prototype.createEvent=function(e){var t=new CustomEvent(e);return this.events[e]=t,t},EPUBJS.Events.prototype.tell=function(e,t){var n;this.events[e]?n=this.events[e]:(console.warn("No event:",e,"defined yet, creating."),n=this.createEvent(e)),t&&(n.msg=t),this.el.dispatchEvent(n)},EPUBJS.Events.prototype.listen=function(e,t,n){return this.events[e]?void(n?this.el.addEventListener(e,t.bind(n),!1):this.el.addEventListener(e,t,!1)):(console.warn("No event:",e,"defined yet, creating."),void this.createEvent(e))},EPUBJS.Events.prototype.deafen=function(e,t){this.el.removeEventListener(e,t,!1)},EPUBJS.Events.prototype.listenUntil=function(e,t,n,i){function r(){this.deafen(e,n),this.deafen(t,r)
}this.listen(e,n,i),this.listen(t,r,this)},EPUBJS.hooks={},EPUBJS.Hooks=function(){function e(){}return e.prototype.getHooks=function(){var e;this.hooks={},Array.prototype.slice.call(arguments).forEach(function(e){this.hooks[e]=[]},this);for(var t in this.hooks)e=_.values(EPUBJS.hooks[t]),e.forEach(function(e){this.registerHook(t,e)},this)},e.prototype.registerHook=function(e,t,n){"undefined"!=typeof this.hooks[e]?"function"==typeof t?n?this.hooks[e].unshift(t):this.hooks[e].push(t):Array.isArray(t)&&t.forEach(function(t){n?this.hooks[e].unshift(t):this.hooks[e].push(t)},this):this.hooks[e]=[func]},e.prototype.triggerHooks=function(e,t,n){function i(){o--,0>=o&&t&&t()}var r,o;return"undefined"==typeof this.hooks[e]?!1:(r=this.hooks[e],o=r.length,0===o&&t&&t(),void r.forEach(function(e){e(i,n)}))},{register:function(e){if(void 0===EPUBJS.hooks[e]&&(EPUBJS.hooks[e]={}),"object"!=typeof EPUBJS.hooks[e])throw"Already registered: "+e;return EPUBJS.hooks[e]},mixin:function(t){for(var n in e.prototype)t[n]=e.prototype[n]}}}(),EPUBJS.Layout=EPUBJS.Layout||{},EPUBJS.Layout.Reflowable=function(){this.documentElement=null,this.spreadWidth=null},EPUBJS.Layout.Reflowable.prototype.format=function(e,t,n,i){var r=EPUBJS.core.prefixed("columnAxis"),o=EPUBJS.core.prefixed("columnGap"),a=EPUBJS.core.prefixed("columnWidth"),s=EPUBJS.core.prefixed("columnFill"),c=Math.floor(t),u=Math.floor(c/8),l=i>=0?i:u%2===0?u:u-1;return this.documentElement=e,this.spreadWidth=c+l,e.style.overflow="hidden",e.style.width=c+"px",e.style.height=n+"px",e.style[r]="horizontal",e.style[s]="auto",e.style[a]=c+"px",e.style[o]=l+"px",this.colWidth=c,this.gap=l,{pageWidth:this.spreadWidth,pageHeight:n}},EPUBJS.Layout.Reflowable.prototype.calculatePages=function(){var e,t;return this.documentElement.style.width="auto",e=this.documentElement.scrollWidth,t=Math.ceil(e/this.spreadWidth),{displayedPages:t,pageCount:t}},EPUBJS.Layout.ReflowableSpreads=function(){this.documentElement=null,this.spreadWidth=null},EPUBJS.Layout.ReflowableSpreads.prototype.format=function(e,t,n,i){var r=EPUBJS.core.prefixed("columnAxis"),o=EPUBJS.core.prefixed("columnGap"),a=EPUBJS.core.prefixed("columnWidth"),s=EPUBJS.core.prefixed("columnFill"),c=2,u=Math.floor(t),l=u%2===0?u:u-1,h=Math.floor(l/8),p=i>=0?i:h%2===0?h:h-1,d=Math.floor((l-p)/c);return this.documentElement=e,this.spreadWidth=(d+p)*c,e.style.overflow="hidden",e.style.width=l+"px",e.style.height=n+"px",e.style[r]="horizontal",e.style[s]="auto",e.style[o]=p+"px",e.style[a]=d+"px",this.colWidth=d,this.gap=p,{pageWidth:this.spreadWidth,pageHeight:n}},EPUBJS.Layout.ReflowableSpreads.prototype.calculatePages=function(){var e=this.documentElement.scrollWidth,t=Math.ceil(e/this.spreadWidth);return this.documentElement.style.width=t*this.spreadWidth-this.gap+"px",{displayedPages:t,pageCount:2*t}},EPUBJS.Layout.Fixed=function(){this.documentElement=null},EPUBJS.Layout.Fixed=function(e){var t,n,i,r,o=EPUBJS.core.prefixed("columnWidth"),a=e.querySelector("[name=viewport");return this.documentElement=e,a&&a.hasAttribute("content")&&(t=a.getAttribute("content"),n=t.split(","),n[0]&&(i=n[0].replace("width=","")),n[1]&&(r=n[1].replace("height=",""))),e.style.width=i+"px"||"auto",e.style.height=r+"px"||"auto",e.style[o]="auto",e.style.overflow="auto",this.colWidth=i,this.gap=0,{pageWidth:i,pageHeight:r}},EPUBJS.Layout.Fixed.prototype.calculatePages=function(){return{displayedPages:1,pageCount:1}},EPUBJS.Pagination=function(e){this.pages=[],this.locations=[],this.epubcfi=new EPUBJS.EpubCFI,e&&e.length&&this.process(e)},EPUBJS.Pagination.prototype.process=function(e){e.forEach(function(e){this.pages.push(e.page),this.locations.push(e.cfi)},this),this.pageList=e,this.firstPage=parseInt(this.pages[0]),this.lastPage=parseInt(this.pages[this.pages.length-1]),this.totalPages=this.lastPage-this.firstPage},EPUBJS.Pagination.prototype.pageFromCfi=function(e){var t=-1;if(0===this.locations.length)return-1;var n=EPUBJS.core.indexOfSorted(e,this.locations,this.epubcfi.compare);return-1!=n&&n<this.pages.length-1?t=this.pages[n]:(n=EPUBJS.core.locationOf(e,this.locations,this.epubcfi.compare),t=n-1>=0?this.pages[n-1]:this.pages[0],void 0!==t||(t=-1)),t},EPUBJS.Pagination.prototype.cfiFromPage=function(e){var t=-1;"number"!=typeof e&&(e=parseInt(e));var n=this.pages.indexOf(e);return-1!=n&&(t=this.locations[n]),t},EPUBJS.Pagination.prototype.pageFromPercentage=function(e){var t=Math.round(this.totalPages*e);return t},EPUBJS.Pagination.prototype.percentageFromPage=function(e){var t=(e-this.firstPage)/this.totalPages;return Math.round(1e3*t)/1e3},EPUBJS.Pagination.prototype.percentageFromCfi=function(e){var t=this.pageFromCfi(e),n=this.percentageFromPage(t);return n},EPUBJS.Parser=function(e){this.baseUrl=e||""},EPUBJS.Parser.prototype.container=function(e){var t,n,i,r;return e?(t=e.querySelector("rootfile"))?(n=t.getAttribute("full-path"),i=EPUBJS.core.uri(n).directory,r=e.xmlEncoding,{packagePath:n,basePath:i,encoding:r}):void console.error("No RootFile Found"):void console.error("Container File Not Found")},EPUBJS.Parser.prototype.identifier=function(e){var t;return e?(t=e.querySelector("metadata"),t?this.getElementText(t,"identifier"):void console.error("No Metadata Found")):void console.error("Package File Not Found")},EPUBJS.Parser.prototype.packageContents=function(e,t){var n,i,r,o,a,s,c,u,l,h,p=this;return t&&(this.baseUrl=t),e?(n=e.querySelector("metadata"))?(i=e.querySelector("manifest"))?(r=e.querySelector("spine"))?(o=p.manifest(i),a=p.findNavPath(i),s=p.findTocPath(i),c=p.findCoverPath(i),u=Array.prototype.indexOf.call(r.parentNode.childNodes,r),l=p.spine(r,o),h={},l.forEach(function(e){h[e.href]=e.index}),{metadata:p.metadata(n),spine:l,manifest:o,navPath:a,tocPath:s,coverPath:c,spineNodeIndex:u,spineIndexByURL:h}):void console.error("No Spine Found"):void console.error("No Manifest Found"):void console.error("No Metadata Found"):void console.error("Package File Not Found")},EPUBJS.Parser.prototype.findNavPath=function(e){var t=e.querySelector("item[properties^='nav']");return t?t.getAttribute("href"):!1},EPUBJS.Parser.prototype.findTocPath=function(e){var t=e.querySelector("item[media-type='application/x-dtbncx+xml']");return t?t.getAttribute("href"):!1},EPUBJS.Parser.prototype.findCoverPath=function(e){var t=e.querySelector("item[properties='cover-image']");return t?t.getAttribute("href"):!1},EPUBJS.Parser.prototype.metadata=function(e){var t={},n=this;return t.bookTitle=n.getElementText(e,"title"),t.creator=n.getElementText(e,"creator"),t.description=n.getElementText(e,"description"),t.pubdate=n.getElementText(e,"date"),t.publisher=n.getElementText(e,"publisher"),t.identifier=n.getElementText(e,"identifier"),t.language=n.getElementText(e,"language"),t.rights=n.getElementText(e,"rights"),t.modified_date=n.querySelectorText(e,"meta[property='dcterms:modified']"),t.layout=n.querySelectorText(e,"meta[property='rendition:layout']"),t.orientation=n.querySelectorText(e,"meta[property='rendition:orientation']"),t.spread=n.querySelectorText(e,"meta[property='rendition:spread']"),t},EPUBJS.Parser.prototype.getElementText=function(e,t){var n,i=e.getElementsByTagNameNS("http://purl.org/dc/elements/1.1/",t);return i&&0!==i.length?(n=i[0],n.childNodes.length?n.childNodes[0].nodeValue:""):""},EPUBJS.Parser.prototype.querySelectorText=function(e,t){var n=e.querySelector(t);return n&&n.childNodes.length?n.childNodes[0].nodeValue:""},EPUBJS.Parser.prototype.manifest=function(e){var t=this.baseUrl,n={},i=e.querySelectorAll("item"),r=Array.prototype.slice.call(i);return r.forEach(function(e){var i=e.getAttribute("id"),r=e.getAttribute("href")||"",o=e.getAttribute("media-type")||"",a=e.getAttribute("properties")||"";n[i]={href:r,url:t+r,type:o,properties:a}}),n},EPUBJS.Parser.prototype.spine=function(e,t){var n=[],i=e.getElementsByTagName("itemref"),r=Array.prototype.slice.call(i),o=Array.prototype.indexOf.call(e.parentNode.childNodes,e),a=new EPUBJS.EpubCFI;return r.forEach(function(e,i){var r=e.getAttribute("idref"),s=a.generateChapterComponent(o,i,r),c=e.getAttribute("properties")||"",u=c.length?c.split(" "):[],l=t[r].properties,h=l.length?l.split(" "):[],p={id:r,linear:e.getAttribute("linear")||"",properties:u,manifestProperties:h,href:t[r].href,url:t[r].url,index:i,cfiBase:s,cfi:"epub("+s+")"};n.push(p)}),n},EPUBJS.Parser.prototype.nav=function(e,t,n){function i(e){var t=[];return Array.prototype.slice.call(e.childNodes).forEach(function(e){"ol"==e.tagName&&Array.prototype.slice.call(e.childNodes).forEach(function(e){"li"==e.tagName&&t.push(e)})}),t}function r(e){var t=null;return Array.prototype.slice.call(e.childNodes).forEach(function(e){("a"==e.tagName||"span"==e.tagName)&&(t=e)}),t}function o(e){var a=[],c=i(e),u=Array.prototype.slice.call(c),l=u.length;return 0===l?!1:(u.forEach(function(i){var c=i.getAttribute("id")||!1,u=r(i),l=u.getAttribute("href")||"",h=u.textContent||"",p=l.split("#"),d=p[0],f=o(i),m=t[d],g=n[m],v=g?g.cfi:"";c||(m?(g=n[m],c=g.id,v=g.cfi):c="epubjs-autogen-toc-id-"+s++),i.setAttribute("id",c),a.push({id:c,href:l,label:h,subitems:f,parent:e?e.getAttribute("id"):null,cfi:v})}),a)}var a=e.querySelector('nav[*|type="toc"]'),s=0;return a?o(a):[]},EPUBJS.Parser.prototype.toc=function(e,t,n){function i(r){var o=[],a=e.evaluate("*[local-name()='navPoint']",r,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),s=a.snapshotLength;if(0===s)return[];for(var c=s-1;c>=0;c--){var u=a.snapshotItem(c),l=u.getAttribute("id")||!1,h=u.querySelector("content"),p=h.getAttribute("src"),d=u.querySelector("navLabel"),f=d.textContent?d.textContent:"",m=p.split("#"),g=m[0],v=t[g],y=n[v],b=i(u),E=y?y.cfi:"";l||(v?(y=n[v],l=y.id,E=y.cfi):l="epubjs-autogen-toc-id-"+idCounter++),o.unshift({id:l,href:p,label:f,spinePos:v,subitems:b,parent:r?r.getAttribute("id"):null,cfi:E})}return o}var r=e.querySelector("navMap");return r?i(r):[]},EPUBJS.Parser.prototype.pageList=function(e){function t(e){var t=[];return Array.prototype.slice.call(e.childNodes).forEach(function(e){"ol"==e.tagName&&Array.prototype.slice.call(e.childNodes).forEach(function(e){"li"==e.tagName&&t.push(e)})}),t}function n(e){var t=null;return Array.prototype.slice.call(e.childNodes).forEach(function(e){("a"==e.tagName||"span"==e.tagName)&&(t=e)}),t}function i(e){var i=[],r=t(e),o=Array.prototype.slice.call(r),a=o.length;return 0===a?!1:(o.forEach(function(e){var t,r,o,a=(e.getAttribute("id")||!1,n(e)),s=a.getAttribute("href")||"",c=a.textContent||"",u=parseInt(c),l=s.indexOf("epubcfi");-1!=l?(t=s.split("#"),r=t[0],o=t.length>1?t[1]:!1,i.push({cfi:o,href:s,packageUrl:r,page:u})):i.push({href:s,page:u})}),i)}var r=e.querySelector('nav[*|type="page-list"]');return r?i(r):[]},EPUBJS.Render.Iframe=function(){this.iframe=null,this.document=null,this.window=null,this.docEl=null,this.bodyEl=null,this.leftPos=0,this.pageWidth=0},EPUBJS.Render.Iframe.prototype.create=function(){return this.iframe=document.createElement("iframe"),this.iframe.id="epubjs-iframe:"+EPUBJS.core.uuid(),this.iframe.scrolling="no",this.iframe.seamless="seamless",this.iframe.style.border="none",this.iframe.addEventListener("load",this.loaded.bind(this),!1),this.iframe},EPUBJS.Render.Iframe.prototype.load=function(e){var t=this,n=new RSVP.defer;return e.url().then(function(e){t.leftPos=0,this.window&&this.unload(),this.iframe.onload=function(){t.document=t.iframe.contentDocument,t.docEl=t.document.documentElement,t.headEl=t.document.head,t.bodyEl=t.document.body,t.window=t.iframe.contentWindow,t.window.addEventListener("resize",t.resized.bind(t),!1),t.bodyEl&&(t.bodyEl.style.margin="0"),n.resolve(t.docEl)},this.iframe.onerror=function(e){n.reject({message:"Error Loading Contents: "+e,stack:(new Error).stack})},this.iframe.contentWindow.location.replace(e)}.bind(this)),n.promise},EPUBJS.Render.Iframe.prototype.loaded=function(){var e=this.iframe.contentWindow.location.href;"about:blank"!=e&&this.trigger("render:loaded",e)},EPUBJS.Render.Iframe.prototype.resize=function(e,t){this.iframe&&(this.iframe.height=t,isNaN(e)||e%2===0||(e+=1),this.iframe.width=e,this.width=this.iframe.getBoundingClientRect().width||e,this.height=this.iframe.getBoundingClientRect().height||t)},EPUBJS.Render.Iframe.prototype.resized=function(){this.width=this.iframe.getBoundingClientRect().width,this.height=this.iframe.getBoundingClientRect().height},EPUBJS.Render.Iframe.prototype.totalWidth=function(){return this.docEl.scrollWidth},EPUBJS.Render.Iframe.prototype.totalHeight=function(){return this.docEl.scrollHeight},EPUBJS.Render.Iframe.prototype.setPageDimensions=function(e,t){this.pageWidth=e,this.pageHeight=t},EPUBJS.Render.Iframe.prototype.setLeft=function(e){this.document.defaultView.scrollTo(e,0)},EPUBJS.Render.Iframe.prototype.setStyle=function(e,t,n){n&&(e=EPUBJS.core.prefixed(e)),this.bodyEl&&(this.bodyEl.style[e]=t)},EPUBJS.Render.Iframe.prototype.removeStyle=function(e){this.bodyEl&&(this.bodyEl.style[e]="")},EPUBJS.Render.Iframe.prototype.addHeadTag=function(e,t,n){var i=n||this.document,r=i.createElement(e),o=i.head;for(var a in t)r.setAttribute(a,t[a]);o&&o.insertBefore(r,o.firstChild)},EPUBJS.Render.Iframe.prototype.page=function(e){this.leftPos=this.pageWidth*(e-1),this.setLeft(this.leftPos)},EPUBJS.Render.Iframe.prototype.getPageNumberByElement=function(e){var t,n;if(e)return t=this.leftPos+e.getBoundingClientRect().left,n=Math.floor(t/this.pageWidth)+1},EPUBJS.Render.Iframe.prototype.getPageNumberByRect=function(e){var t,n;return t=this.leftPos+e.left,n=Math.floor(t/this.pageWidth)+1},EPUBJS.Render.Iframe.prototype.getBaseElement=function(){return this.bodyEl},EPUBJS.Render.Iframe.prototype.isElementVisible=function(e){var t,n;return e&&"function"==typeof e.getBoundingClientRect&&(t=e.getBoundingClientRect(),n=t.left,0!==t.width&&0!==t.height&&n>=0&&n<this.pageWidth)?!0:!1},EPUBJS.Render.Iframe.prototype.scroll=function(e){this.iframe.scrolling=e?"yes":"no"},EPUBJS.Render.Iframe.prototype.unload=function(){this.window.removeEventListener("resize",this.resized)},RSVP.EventTarget.mixin(EPUBJS.Render.Iframe.prototype),EPUBJS.Renderer=function(e,t){this.listenedEvents=["keydown","keyup","keypressed","mouseup","mousedown","click"],this.upEvent="mouseup",this.downEvent="mousedown","ontouchstart"in document.documentElement&&(this.listenedEvents.push("touchstart","touchend"),this.upEvent="touchend",this.downEvent="touchstart"),e&&"undefined"!=typeof EPUBJS.Render[e]?this.render=new EPUBJS.Render[e]:console.error("Not a Valid Rendering Method"),this.render.on("render:loaded",this.loaded.bind(this)),this.caches={},this.epubcfi=new EPUBJS.EpubCFI,this.spreads=!0,this.isForcedSingle=!1,this.resized=_.debounce(this.onResized.bind(this),100),this.layoutSettings={},this.hidden=t||!1,EPUBJS.Hooks.mixin(this),this.getHooks("beforeChapterDisplay"),this._q=EPUBJS.core.queue(this),this._moving=!1},EPUBJS.Renderer.prototype.Events=["renderer:keydown","renderer:keyup","renderer:keypressed","renderer:mouseup","renderer:mousedown","renderer:click","renderer:touchstart","renderer:touchend","renderer:selected","renderer:chapterUnloaded","renderer:chapterDisplayed","renderer:locationChanged","renderer:visibleLocationChanged","renderer:resized","renderer:spreads"],EPUBJS.Renderer.prototype.initialize=function(e,t,n){this.container=e,this.element=this.render.create(),this.initWidth=t,this.initHeight=n,this.width=t||this.container.clientWidth,this.height=n||this.container.clientHeight,this.container.appendChild(this.element),t&&n?this.render.resize(this.width,this.height):this.render.resize("100%","100%"),document.addEventListener("orientationchange",this.onResized)},EPUBJS.Renderer.prototype.displayChapter=function(e,t){return this._moving?void console.error("Rendering In Progress"):(this._moving=!0,e.url().then(function(){return this.currentChapter&&(this.currentChapter.unload(),this.render.window&&this.render.window.removeEventListener("resize",this.resized),this.removeEventListeners(),this.removeSelectionListeners(),this.trigger("renderer:chapterUnloaded"),this.contents=null,this.doc=null,this.pageMap=null),this.currentChapter=e,this.chapterPos=1,this.currentChapterCfiBase=e.cfiBase,this.layoutSettings=this.reconcileLayoutSettings(t,e.properties),this.load(e)}.bind(this)))},EPUBJS.Renderer.prototype.load=function(e){var t=new RSVP.defer;return this.layoutMethod=this.determineLayout(this.layoutSettings),this.layout=new EPUBJS.Layout[this.layoutMethod],this.visible(!1),render=this.render.load(e),render.then(function(e){this.currentChapter.setDocument(this.render.document),this.contents=e,this.doc=this.render.document,this.formated=this.layout.format(e,this.render.width,this.render.height,this.gap),this.render.setPageDimensions(this.formated.pageWidth,this.formated.pageHeight),this.initWidth||this.initHeight||this.render.window.addEventListener("resize",this.resized,!1),this.addEventListeners(),this.addSelectionListeners(),this.beforeDisplay(function(){var e=this.layout.calculatePages(),n=this.currentChapter,i=this._q.length();this._moving=!1,this.updatePages(e),this.visibleRangeCfi=this.getVisibleRangeCfi(),this.currentLocationCfi=this.visibleRangeCfi.start,0===i&&(this.trigger("renderer:locationChanged",this.currentLocationCfi),this.trigger("renderer:visibleRangeChanged",this.visibleRangeCfi)),n.cfi=this.currentLocationCfi,this.trigger("renderer:chapterDisplayed",n),this.visible(!0),t.resolve(this)}.bind(this))}.bind(this)),t.promise},EPUBJS.Renderer.prototype.loaded=function(e){this.trigger("render:loaded",e)},EPUBJS.Renderer.prototype.reconcileLayoutSettings=function(e,t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return t.forEach(function(e){var t,i,r=e.replace("rendition:",""),o=r.indexOf("-");-1!=o&&(t=r.slice(0,o),i=r.slice(o+1),n[t]=i)}),n},EPUBJS.Renderer.prototype.determineLayout=function(e){var t=this.determineSpreads(this.minSpreadWidth),n=t?"ReflowableSpreads":"Reflowable",i=!1;return"pre-paginated"===e.layout&&(n="Fixed",i=!0,t=!1),"reflowable"===e.layout&&"none"===e.spread&&(n="Reflowable",i=!1,t=!1),"reflowable"===e.layout&&"both"===e.spread&&(n="ReflowableSpreads",i=!1,t=!0),this.spreads=t,this.render.scroll(i),this.trigger("renderer:spreads",t),n},EPUBJS.Renderer.prototype.beforeDisplay=function(e){this.triggerHooks("beforeChapterDisplay",e,this)},EPUBJS.Renderer.prototype.updatePages=function(){this.pageMap=this.mapPage(),this.displayedPages=this.spreads?Math.ceil(this.pageMap.length/2):this.pageMap.length,this.currentChapter.pages=this.pageMap.length,this._q.flush()},EPUBJS.Renderer.prototype.reformat=function(){var e,t=this;this.contents&&(spreads=this.determineSpreads(this.minSpreadWidth),spreads!=this.spreads&&(this.spreads=spreads,this.layoutMethod=this.determineLayout(this.layoutSettings),this.layout=new EPUBJS.Layout[this.layoutMethod]),this.chapterPos=1,this.render.page(1),t.formated=t.layout.format(t.contents,t.render.width,t.render.height,t.gap),t.render.setPageDimensions(t.formated.pageWidth,t.formated.pageHeight),e=t.layout.calculatePages(),t.updatePages(e),t.currentLocationCfi&&t.gotoCfi(t.currentLocationCfi))},EPUBJS.Renderer.prototype.visible=function(e){return"undefined"==typeof e?this.element.style.visibility:void(e!==!0||this.hidden?e===!1&&(this.element.style.visibility="hidden"):this.element.style.visibility="visible")},EPUBJS.Renderer.prototype.remove=function(){this.render.window&&(this.render.unload(),this.render.window.removeEventListener("resize",this.resized),this.removeEventListeners(),this.removeSelectionListeners()),this.container.removeChild(this.element)},EPUBJS.Renderer.prototype.applyStyles=function(e){for(var t in e)this.render.setStyle(t,e[t])},EPUBJS.Renderer.prototype.setStyle=function(e,t,n){this.render.setStyle(e,t,n)},EPUBJS.Renderer.prototype.removeStyle=function(e){this.render.removeStyle(e)},EPUBJS.Renderer.prototype.applyHeadTags=function(e){for(var t in e)this.render.addHeadTag(t,e[t])},EPUBJS.Renderer.prototype.page=function(e){return this.pageMap?e>=1&&e<=this.displayedPages?(this.chapterPos=e,this.render.page(e),this.visibleRangeCfi=this.getVisibleRangeCfi(),this.currentLocationCfi=this.visibleRangeCfi.start,this.trigger("renderer:locationChanged",this.currentLocationCfi),this.trigger("renderer:visibleRangeChanged",this.visibleRangeCfi),!0):!1:(console.warn("pageMap not set, queuing"),this._q.enqueue("page",arguments),!0)},EPUBJS.Renderer.prototype.nextPage=function(){return this.page(this.chapterPos+1)},EPUBJS.Renderer.prototype.prevPage=function(){return this.page(this.chapterPos-1)},EPUBJS.Renderer.prototype.pageByElement=function(e){var t;e&&(t=this.render.getPageNumberByElement(e),this.page(t))},EPUBJS.Renderer.prototype.lastPage=function(){return this._moving?this._q.enqueue("lastPage",arguments):void this.page(this.displayedPages)},EPUBJS.Renderer.prototype.firstPage=function(){this.page(1)},EPUBJS.Renderer.prototype.section=function(e){var t=this.doc.getElementById(e);t&&this.pageByElement(t)},EPUBJS.Renderer.prototype.firstElementisTextNode=function(e){var t=e.childNodes,n=t.length;return n&&t[0]&&3===t[0].nodeType&&t[0].textContent.trim().length?!0:!1},EPUBJS.Renderer.prototype.walk=function(e,t,n){for(var i,r,o,a,s=e,c=[s],u=1e4,l=0;!i&&c.length;){if(e=c.shift(),this.containsPoint(e,t,n)&&this.firstElementisTextNode(e)&&(i=e),!i&&e&&e.childElementCount>0){if(r=e.children,!r||!r.length)return i;o=r.length?r.length:0;for(var h=o-1;h>=0;h--)r[h]!=a&&c.unshift(r[h])}if(!i&&0===c.length&&s&&null!==s.parentNode&&(c.push(s.parentNode),a=s,s=s.parentNode),l++,l>u){console.error("ENDLESS LOOP");break}}return i},EPUBJS.Renderer.prototype.containsPoint=function(e,t){var n;return e&&"function"==typeof e.getBoundingClientRect&&(n=e.getBoundingClientRect(),0!==n.width&&0!==n.height&&n.left>=t&&t<=n.left+n.width)?!0:!1},EPUBJS.Renderer.prototype.textSprint=function(e,t){for(var n,i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:function(e){return/^\s*$/.test(e.data)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);n=i.nextNode();)t(n)},EPUBJS.Renderer.prototype.sprint=function(e,t){for(var n,i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1);n=i.nextNode();)t(n)},EPUBJS.Renderer.prototype.mapPage=function(){var e,t,n=this,i=[],r=this.render.getBaseElement(),o=1,a=this.layout.colWidth+this.layout.gap,s=this.formated.pageWidth*(this.chapterPos-1),c=a*o-s,u=0,l=function(e){var t,n,i=Array.prototype.slice.call(e.childNodes);if(e.nodeType==Node.ELEMENT_NODE){if(n=document.createRange(),n.selectNodeContents(e),t=n.getBoundingClientRect(),!t||0===t.width&&0===t.height)return;t.left>u&&i.forEach(function(e){e.nodeType==Node.TEXT_NODE&&e.textContent.trim().length&&h(e)}),t.right>u&&i.forEach(function(e){e.nodeType==Node.TEXT_NODE&&e.textContent.trim().length&&h(e)})}},h=function(r){var l=n.splitTextNodeIntoWordsRanges(r);l.forEach(function(r){var l=r.getBoundingClientRect();!l||0===l.width&&0===l.height||(l.left+l.width<c?i[o-1]||(r.collapse(!0),t=n.currentChapter.cfiFromRange(r),i.push({start:t,end:null})):(e&&(e.collapse(!0),t=n.currentChapter.cfiFromRange(e),i[i.length-1].end=t),r.collapse(!0),t=n.currentChapter.cfiFromRange(r),i.push({start:t,end:null}),o+=1,c=a*o-s,u=c),e=r)})};return this.sprint(r,l),e&&(e.collapse(!0),t=n.currentChapter.cfiFromRange(e),i[i.length-1].end=t),i.length||(range=this.doc.createRange(),range.selectNodeContents(r),range.collapse(!0),t=n.currentChapter.cfiFromRange(range),i.push({start:t,end:t})),e=null,ranges=null,range=null,r=null,i},EPUBJS.Renderer.prototype.splitTextNodeIntoWordsRanges=function(e){var t,n=[],i=e.textContent.trim();if(pos=i.indexOf(" "),-1===pos)return t=this.doc.createRange(),t.selectNodeContents(e),[t];for(t=this.doc.createRange(),t.setStart(e,0),t.setEnd(e,pos),n.push(t),t=!1;-1!=pos;)pos=i.indexOf(" ",pos+1),pos>0&&(t&&(t.setEnd(e,pos),n.push(t)),t=this.doc.createRange(),t.setStart(e,pos+1));return t&&(t.setEnd(e,i.length),n.push(t)),n},EPUBJS.Renderer.prototype.rangePosition=function(e){var t,n;return n=e.getClientRects(),n.length?t=n[0]:null},EPUBJS.Renderer.prototype.getPageCfi=function(){var e;return this.spreads?(e=2*this.chapterPos,startRange=this.pageMap[e-2]):(e=this.chapterPos,startRange=this.pageMap[e-1]),this.pageMap[2*this.chapterPos-1].start},EPUBJS.Renderer.prototype.getRange=function(e,t,n){var i,r=this.doc.createRange();return n=!0,"undefined"==typeof document.caretPositionFromPoint||n?"undefined"==typeof document.caretRangeFromPoint||n?(this.visibileEl=this.findElementAfter(e,t),r.setStart(this.visibileEl,1)):r=this.doc.caretRangeFromPoint(e,t):(i=this.doc.caretPositionFromPoint(e,t),r.setStart(i.offsetNode,i.offset)),r},EPUBJS.Renderer.prototype.pagesInCurrentChapter=function(){var e,t;return this.pageMap?(t=this.pageMap.length,e=this.spreads?Math.ceil(t/2):t):(console.warn("page map not loaded"),!1)},EPUBJS.Renderer.prototype.currentRenderedPage=function(){var e;return this.pageMap?e=this.spreads&&this.layout.pageCount>1?2*this.chapterPos:this.chapterPos:(console.warn("page map not loaded"),!1)},EPUBJS.Renderer.prototype.getRenderedPagesLeft=function(){var e,t,n;return this.pageMap?(t=this.pageMap.length,e=this.spreads?2*this.chapterPos:this.chapterPos,n=t-e):(console.warn("page map not loaded"),!1)},EPUBJS.Renderer.prototype.getVisibleRangeCfi=function(){var e,t,n;return this.pageMap?(this.spreads?(e=2*this.chapterPos,t=this.pageMap[e-2],n=t,this.layout.pageCount>1&&(n=this.pageMap[e-1])):(e=this.chapterPos,t=this.pageMap[e-1],n=t),t||(console.warn("page range miss:",e,this.pageMap),t=this.pageMap[this.pageMap.length-1],n=t),{start:t.start,end:n.end}):(console.warn("page map not loaded"),!1)},EPUBJS.Renderer.prototype.gotoCfi=function(e){var t,n,i;return this._moving?this._q.enqueue("gotoCfi",arguments):(_.isString(e)&&(e=this.epubcfi.parse(e)),void("undefined"==typeof document.evaluate?(n=this.epubcfi.addMarker(e,this.doc),n&&(t=this.render.getPageNumberByElement(n),this.epubcfi.removeMarker(n,this.doc),this.page(t))):(i=this.epubcfi.generateRangeFromCfi(e,this.doc),i&&(t=this.render.getPageNumberByRect(i.getBoundingClientRect()),this.page(t)))))},EPUBJS.Renderer.prototype.findFirstVisible=function(e){var t,n=e||this.render.getBaseElement();return t=this.walk(n),t?t:e},EPUBJS.Renderer.prototype.findElementAfter=function(e,t,n){var i,r=n||this.render.getBaseElement();return i=this.walk(r,e,t),i?i:r},EPUBJS.Renderer.prototype.resize=function(e,t,n){this.width=e,this.height=t,n!==!1&&this.render.resize(this.width,this.height),this.contents&&this.reformat(),this.trigger("renderer:resized",{width:this.width,height:this.height})},EPUBJS.Renderer.prototype.onResized=function(){var e=this.container.clientWidth,t=this.container.clientHeight;this.resize(e,t,!1)},EPUBJS.Renderer.prototype.addEventListeners=function(){this.render.document&&this.listenedEvents.forEach(function(e){this.render.document.addEventListener(e,this.triggerEvent.bind(this),!1)},this)},EPUBJS.Renderer.prototype.removeEventListeners=function(){this.render.document&&this.listenedEvents.forEach(function(e){this.render.document.removeEventListener(e,this.triggerEvent,!1)},this)},EPUBJS.Renderer.prototype.triggerEvent=function(e){this.trigger("renderer:"+e.type,e)},EPUBJS.Renderer.prototype.addSelectionListeners=function(){this.render.document.addEventListener("selectionchange",this.onSelectionChange.bind(this),!1)},EPUBJS.Renderer.prototype.removeSelectionListeners=function(){this.render.document&&this.doc.removeEventListener("selectionchange",this.onSelectionChange,!1)},EPUBJS.Renderer.prototype.onSelectionChange=function(){this.selectionEndTimeout&&clearTimeout(this.selectionEndTimeout),this.selectionEndTimeout=setTimeout(function(){this.selectedRange=this.render.window.getSelection(),this.trigger("renderer:selected",this.selectedRange)}.bind(this),500)},EPUBJS.Renderer.prototype.setMinSpreadWidth=function(e){this.minSpreadWidth=e,this.spreads=this.determineSpreads(e)},EPUBJS.Renderer.prototype.determineSpreads=function(e){return this.isForcedSingle||!e||this.width<e?!1:!0},EPUBJS.Renderer.prototype.forceSingle=function(e){this.isForcedSingle=e?!0:!1},EPUBJS.Renderer.prototype.setGap=function(e){this.gap=e},EPUBJS.Renderer.prototype.replace=function(e,t,n,i){var r=this.contents.querySelectorAll(e),o=Array.prototype.slice.call(r),a=o.length;return 0===a?void n(!1):void o.forEach(function(e){var r=!1,o=function(e,t){r===!1&&(a--,i&&i(e,t,a),0>=a&&n&&n(!0),r=!0)};t(e,o)}.bind(this))},EPUBJS.Renderer.prototype.replaceWithStored=function(e,t,n,i){var r,o={},a=this.currentChapter.store,s=this.caches[e],c=EPUBJS.core.uri(this.currentChapter.absolute),u=c.base,l=t,h=2e3,p=function(e,t){o[t]=e},d=function(){i&&i(),_.each(r,function(e){a.revokeUrl(e)}),s=o};a&&(s||(s={}),r=_.clone(s),this.replace(e,function(t,i){var s=t.getAttribute(l),c=EPUBJS.core.resolveUrl(u,s),p=function(n){var r;t.onload=function(){clearTimeout(r),i(n,c)},t.onerror=function(e){clearTimeout(r),i(n,c),console.error(e)},"image"==e&&t.setAttribute("externalResourcesRequired","true"),"link[href]"==e&&"stylesheet"!==t.getAttribute("rel")&&i(n,c),t.setAttribute(l,n),r=setTimeout(function(){i(n,c)},h)};c in r?(p(r[c]),o[c]=r[c],delete r[c]):n(a,c,p,t)},d,p))},RSVP.EventTarget.mixin(EPUBJS.Renderer.prototype);var EPUBJS=EPUBJS||{};EPUBJS.replace={},EPUBJS.replace.hrefs=function(e,t){var n=this,i=function(e,i){var r,o,a=e.getAttribute("href"),s=a.search("://");-1!=s?e.setAttribute("target","_blank"):(r=EPUBJS.core.uri(t.render.window.location.href).directory,o=EPUBJS.core.resolveUrl(r,a),e.onclick=function(){return n.goto(o),!1}),i()};t.replace("a[href]",i,e)},EPUBJS.replace.head=function(e,t){t.replaceWithStored("link[href]","href",EPUBJS.replace.links,e)},EPUBJS.replace.resources=function(e,t){t.replaceWithStored("[src]","src",EPUBJS.replace.srcs,e)},EPUBJS.replace.svg=function(e,t){t.replaceWithStored("image","xlink:href",function(e,t,n){e.getUrl(t).then(n)},e)},EPUBJS.replace.srcs=function(e,t,n){e.getUrl(t).then(n)},EPUBJS.replace.links=function(e,t,n,i){"stylesheet"===i.getAttribute("rel")?EPUBJS.replace.stylesheets(e,t).then(function(e,t){setTimeout(function(){n(e,t)},5)}):e.getUrl(t).then(n)},EPUBJS.replace.stylesheets=function(e,t){var n=new RSVP.defer;if(e)return e.getText(t).then(function(i){EPUBJS.replace.cssUrls(e,t,i).then(function(e){var t=window.URL||window.webkitURL||window.mozURL,i=new Blob([e],{type:"text/css"}),r=t.createObjectURL(i);n.resolve(r)},function(e){console.error(e)})}),n.promise},EPUBJS.replace.cssUrls=function(e,t,n){var i=new RSVP.defer,r=[],o=n.match(/url\(\'?\"?([^\'|^\"^\)]*)\'?\"?\)/g);if(e)return o?(o.forEach(function(i){var o=EPUBJS.core.resolveUrl(t,i.replace(/url\(|[|\)|\'|\"]/g,"")),a=e.getUrl(o).then(function(e){n=n.replace(i,'url("'+e+'")')});r.push(a)}),RSVP.all(r).then(function(){i.resolve(n)}),i.promise):(i.resolve(n),i.promise)},EPUBJS.Unarchiver=function(e){return this.libPath=EPUBJS.filePath,this.zipUrl=e,this.loadLib(),this.urlCache={},this.zipFs=new zip.fs.FS,this.promise},EPUBJS.Unarchiver.prototype.loadLib=function(){"undefined"==typeof zip&&console.error("Zip lib not loaded"),zip.workerScriptsPath=this.libPath},EPUBJS.Unarchiver.prototype.openZip=function(e){var t=new RSVP.defer,n=this.zipFs;return n.importHttpContent(e,!1,function(){t.resolve(n)},this.failed),t.promise},EPUBJS.Unarchiver.prototype.getXml=function(e,t){return this.getText(e,t).then(function(e){var t=new DOMParser;return t.parseFromString(e,"application/xml")})},EPUBJS.Unarchiver.prototype.getUrl=function(e,t){var n=this,i=new RSVP.defer,r=window.decodeURIComponent(e),o=this.zipFs.find(r),a=window.URL||window.webkitURL||window.mozURL;return o?e in this.urlCache?(i.resolve(this.urlCache[e]),i.promise):(o.getBlob(t||zip.getMimeType(o.name),function(t){var r=a.createObjectURL(t);i.resolve(r),n.urlCache[e]=r}),i.promise):(i.reject({message:"File not found in the epub: "+e,stack:(new Error).stack}),i.promise)},EPUBJS.Unarchiver.prototype.getText=function(e,t){{var n=new RSVP.defer,i=window.decodeURIComponent(e),r=this.zipFs.find(i);window.URL||window.webkitURL||window.mozURL
}return r?(r.getText(function(e){n.resolve(e)},null,null,t||"UTF-8"),n.promise):(console.warn("File not found in the contained epub:",e),n.promise)},EPUBJS.Unarchiver.prototype.revokeUrl=function(e){var t=window.URL||window.webkitURL||window.mozURL,n=unarchiver.urlCache[e];n&&t.revokeObjectURL(n)},EPUBJS.Unarchiver.prototype.failed=function(e){console.error(e)},EPUBJS.Unarchiver.prototype.afterSaved=function(){this.callback()},EPUBJS.Unarchiver.prototype.toStorage=function(e){function t(){o--,0===o&&r.afterSaved()}var n=0,i=20,r=this,o=e.length;e.forEach(function(e){setTimeout(function(e){r.saveEntryFileToStorage(e,t)},n,e),n+=i}),console.log("time",n)},EPUBJS.Unarchiver.prototype.saveEntryFileToStorage=function(e,t){e.getData(new zip.BlobWriter,function(n){EPUBJS.storage.save(e.filename,n,t)})};var epubViewer=angular.module("epubViewer",["onsen.directives"]);epubViewer.config(["$locationProvider",function(e){e.html5Mode(!0)}]);var Book=ePub({version:1,restore:!1,storage:!1,spreads:!1,fixedLayout:!1,styles:{}});epubViewer.controller("BookCtrl",["$scope","$location","$http",function(e,t){angular.element(document).ready(function(){e.book={begin:!0,end:!1,chapter:"",spinePos:0},t.search().epub&&Book.open(t.search().epub)}),e.prevChapter=function(){e.book.spinePos>0&&(e.book.spinePos=e.book.spinePos-1,e.book.chapter=Book.spine[e.book.spinePos].url)},e.nextChapter=function(){e.book.spinePos<Book.spine.length-1&&(e.book.spinePos=e.book.spinePos+1,e.book.chapter=Book.spine[e.book.spinePos].url)},e.search=function(e){if(13===e.which){var t=e.srcElement.value,n=document.getElementById("epubjs-iframe");0==n.contentWindow.find(t)}},Book.on("book:ready",function(){e.book.metadata=Book.metadata,Book.contents.coverPath,e.book.chapter=Book.spine[e.book.spinePos].url;var t=document.getElementById("book-toc"),n=document.createDocumentFragment(),i=generateTocItems(Book.toc);n.appendChild(i),t.appendChild(n),e.book.metadata=Book.metadata,e.$apply()})}]),epubViewer.directive("ngOnload",["$location",function(){return function(e,t,n){t.bind("load",function(){if(n.name="epubjs-iframe"){var i=document.URL.substring(0,document.URL.lastIndexOf("/")+1),r=document.createElement("script");r.type="text/javascript",r.src=i+"app/iframe.js";var o=document.createElement("link");if(o.rel="stylesheet",o.type="text/css",o.href=i+"styles/iframe.css",Book.spine){var a=0;for(a in Book.spine)if(t[0].contentWindow.location.href.split("#")[0].indexOf(Book.spine[a].url)>-1){e.book.spinePos=parseInt(a),Book.spinePos=parseInt(a);break}e.book.begin=!1,e.book.end=!1,0==e.book.spinePos&&(e.book.begin=!0),e.book.spinePos==Book.spine.length-1&&(e.book.end=!0)}e.$$phase||e.$apply()}})}}]);